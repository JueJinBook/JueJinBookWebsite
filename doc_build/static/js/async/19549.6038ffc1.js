"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["19549"],{841165:function(A,e,s){s.r(e),s.d(e,{default:()=>t});var n=s(552676),B=s(740453);let g=s.p+"static/image/1e8b1c5fbf3c407fa6f472b85c63ac51.a1e2e892.png",r=s.p+"static/image/48bbec4b4bff94c78fa1b82ad8314d11.d5a87afe.png";function E(A){let e=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",pre:"pre",code:"code",strong:"strong",img:"img",ul:"ul",li:"li"},(0,B.ah)(),A.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{id:"5-svg-smil-动画实战",children:["5 SVG SMIL 动画实战",(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#5-svg-smil-动画实战",children:"#"})]}),"\n",(0,n.jsxs)(e.h2,{id:"smil动画简介",children:["SMIL动画简介",(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#smil动画简介",children:"#"})]}),"\n",(0,n.jsx)(e.p,{children:"所谓SMIL动画指在 SVG 集成了 Synchronized Multimedia Integration Language (SMIL) 这种动画标准，该语言被 SVG 原生支持，主要是使用标签来描述动画。"}),"\n",(0,n.jsx)(e.p,{children:"SMIL 允许你："}),"\n",(0,n.jsx)(e.p,{children:"1、变动一个元素的数字属性（x、y……）"}),"\n",(0,n.jsx)(e.p,{children:"2、改变元素的变形属性（translation或rotation）"}),"\n",(0,n.jsx)(e.p,{children:"3、改变元素的颜色属性"}),"\n",(0,n.jsx)(e.p,{children:"4、跟随路径运动"}),"\n",(0,n.jsx)(e.p,{children:"5、控制形状之间的变化"}),"\n",(0,n.jsx)(e.p,{children:"通过添加 SVG 动画元素，比如 animate 到 SVG 元素内部来实现动画，就能实现让元素动起来。下面来看几个实例来演示四种不同的动画方式。"}),"\n",(0,n.jsxs)(e.h3,{id:"smil-动画使用方法",children:["SMIL 动画使用方法",(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#smil-动画使用方法",children:"#"})]}),"\n",(0,n.jsx)(e.p,{children:"先定义一个SVG："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="500px" height="500px" viewBox="0 0 500 500">  \n</svg>\n'})}),"\n",(0,n.jsx)(e.p,{children:"然后在里面定义一个矩形，并且定义好填充颜色等属性："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="500px" height="500px" viewBox="0 0 500 500"> \n    <rect x="0" y="0" width="100" height="100" fill="#feac5e"> \n    </rect>\n</svg>\n'})}),"\n",(0,n.jsx)(e.p,{children:"如果要使这个矩形动起来，我们需要在矩形这个元素里使用 <animate /> 这个元素来使它动起来。"}),"\n",(0,n.jsxs)(e.p,{children:["在 <animate />，我们需要添加一些属性，首先使用 ",(0,n.jsx)(e.strong,{children:"attributeName"})," 来定义我们需要元素发生变化的属性，在这个实例中，我们需要它左右移动，即横坐标X，就可以把用 ",(0,n.jsx)(e.strong,{children:"attributeName"})," 设置为 ",(0,n.jsx)(e.strong,{children:"x"}),"。这样就可以使元素在X轴上运动。"]}),"\n",(0,n.jsxs)(e.p,{children:["然后定义 ",(0,n.jsx)(e.strong,{children:"from"})," 的值和 ",(0,n.jsx)(e.strong,{children:"to"})," 的值，指定元素要运动的距离；使用 ",(0,n.jsx)(e.strong,{children:"dur"})," 来定义运动的时长；使用 ",(0,n.jsx)(e.strong,{children:"repeatCount"})," 去定义动画运行的次数，",(0,n.jsx)(e.strong,{children:"repeatCount"})," 值为 ",(0,n.jsx)(e.strong,{children:"indefinite"})," 表示无限循环这个动画。"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="500px" height="500px" viewBox="0 0 500 500"> \n\n    <rect x="0" y="0" width="100" height="100" fill="#feac5e"> \n        <animate attributeName="x" from="0" to="500" dur="2s" repeatCount="indefinite" /> \n    </rect> \n\n</svg>\n'})}),"\n",(0,n.jsx)(e.p,{children:"一个简单SVG SMIL动画就完成了。"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAFICAYAAADOLowlAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAKoElEQVR42u3dTUrDUBSA0a4xBNcgdSmCa2igdAHiGuzYgTjuxIo2L+288sxvgxHBmQk5g4PE4cU8uB9JXBRFEQGm6dBqrvOWuUApnBrt9TE0zAYA5mthCIAAAAIAACAAAIzWMRxqZgE/dUGsv0+GzAgABAAAAQAEAABAAAAYkxBCjI938XV9E8+rq0aWAFla223vY3x/dl4AAAIAIACAAAAACAAAo34FoPyZVwHgNu43y/i5SmvdAtRdwxx9DwBPl48C+hggAAgAAAIACAAAgAAAUIz23wBWAeBtfV0uPUnNo9/Q614B6Bd/HwEEAAEAQAAAAQAAEAAABAAQAAAAAQBAAAABAAAQAAAEABAAAAABAEAAAAEAABAAAAQAEAAAAAEAEAAEABAAAAABABAAQAAQAAAAAQAQAEAAAAAEAAABAAQAAEAAABAAQAAAAAQAAAEABAAAQAAAEABAAAAABAAAAQAEAABAAAAQAEAAAAAEAEAAAAQAAEAAAAQAEAAAAAEAQAAAAQAAEAAABAAQAAAAAQBAAAABAAAQAAAEABAAAAABAEAAAAEAABAAAAQAEAAAAAEAEAAsfCAAAAACACAAgAAgAACAAAAgAIAAAAAIAAACAAgAAIAAACAAgAAAAAgAAAIACAAAgAAAIACAAAAACAAAAgAIAACAAAAIAAIACAAAgAAACAAgAAgAACAAGAIgAIAAAAAIAAACAAgAAIAAACAAgAAAAAgAAAIACAAAgAAAIACAAAAACAAAAgAIAACAAAAgAIAAAAAIAIAAAAgAAIAAAAgAIAAAAAIAgAAAAgAAIAAACAAgAAAAAgCAAAACAAAgAAAIACAAAAACAIAAAAIAACAAAAgAIAAAAAIAIABY+kAAAAAEAEAAAAFAAAAAAQBAAAABAAAQAAAEABAAAAABAEAAAAEAABAAAAQAEAAAAAEAQAAAAQAAEAAABAAQAAAAAQAQAAQAEAAAAAEAEABAABAAAEAAMARAAAABAAAQAAAEABAAAAABAEAAAAEAABAAAAQAEAAAAAEAQAAAAQAAEAAABAAQAAAAAQAQAAQAEAAAAAEAEAAAAQAAEAAAAQAEAABAAAAQAEAAAAAEAAABAAQAAEAAABAAQAAAAAQAAAEABAAAQAAAEABAAAAABAAAAQAEAABAAAAEAEsfCAAAgAAACAAgAAgAACAAAAgAIAAAAAIAgAAAAgAAIAAACAAgAAAAAgCAAAACAAAgAAAIACAAAAACAIAAAAIAACAAAAKAAAACAAAgAAACAAgAAgAACACGAAgAIAAAAAIAgAAAAgAAIAAACAAgAAAAAgCAAAACAAAgAAAIACAAAAACAIAAAAIAACAAAAKAAAACAAAgAAACAAgAAgAAIAAAAgAIAACAAAAgAIAAAAAIAAACAAgAAIAAACAAgAAAAAgAAAIACAAAgAAAIACAAAAACAAAAgAIAACAAAAIAJY+EAAAAAEAEABAABAAAEAAABAAQAAAAAQAAAEABAAAQAAAEABAAAAABAAAAQAEAABAAAAQAEAAAAAEAAABAAQAAEAAAAQAAQAEAABAAAAEABAABAAAEAAMAhAAQAAAAAQAAAEABAAAQAAAEABAAAAABAAAAQAEAABAAAAQAEAAAAAEAAABAAQAAEAAAAQAAQAEAABAAAAEABAABAAAQAAABAAQAAAAAQBAAAABAAAQAAAEABAAAAABAEAAAAEAABAAAAQAEAAAAAEAQAAAAQAAEAAABAAQAAAAAQAQAAABAAAQAAABAAQA5wcACAAAAgAIAACAAAAgAIAAAAAIAAACAAgAAIAAACAAgAAAAAgAAAIACAAAgAAAIACAAAAACACAACAAgAAAAAgAgAAAAoAAAAACAIAAAAIAACAAAAgAIAAAAAIAgAAAAgAAIAAACAAgAAAAAgCAAAACAAAgAAAIACAAAAACACAACAAgAAAAAgAgAIAAIAAAAAIAIACAAAAACAAAAgAIAACAAAAgAIAAAAAIAAACAAgAAIAAACAAgAAAAAgAAAIACAAAgAAAIACAAAAACACAAAAIAACAAAAIACAAOD8AQAAAEABAAAAABAAAAQAEAABAAAAQAEAAAAAEAAABAAQAAEAAABAAQAAAAAQAAAEABAAAQAAABAABAAQAAEAAAAQAEAAEAAAQAAAEABAAAAABAEAAAAEAABAAAAQAEAAAAAEAQAAAAQAAEAAABAAQAAAAAQBAAAABAAAQAAABQAAAAQAAEAAAAQAEAAEAABAAAAEABAAAQAAAEABAAAAABAAAAQAEAABAAAAQAEAAAAAEAAABAAQAAEAAABAAQAAAAAQAAAEABAAAQAAABABAAAAABABAAAABwBkCAAIAgAAAAgAAIAAACAAgAAAAAgCAAAACAAAgAAAIACAAAAACAIAAAAIAACAAAAgAIAAAAAIAIAAIACAAAAACACAAgAAgAACAAAAgAIAAAAAIAAACAAgAAIAAACAAgAAAAAgAAAIACAAAgAAAIACAAAAACAAAAgAIAACAAAAIAAIACAAAgAAACAAgAAgAAIAAAExaONWqALDfLMvlP20lf2I5ZE4BIC/vmdy5AQACAIAAAAIAACAAAIw+AFSvAJyzdMDyx5w198Fu+xDjx4sAAAAIAIAAAAIAACAAABTT+Rjg8PfdR89+Y27MQf83f6iZCQAIAAACAAgAAIAAADB+l0ec21cD+jAA8zN85F8AAAAEAEAAAAEAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAQAAwBAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAQAAwBAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAQAAwBAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAQAAwCAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAACAf/IFd7f75Y581ssAAAAASUVORK5CYII=",alt:"图片"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://codepen.io/janily/pen/zmrQKE",target:"_blank",rel:"noopener noreferrer",children:"代码演示地址"})}),"\n",(0,n.jsx)(e.p,{children:"当然，我们可以在改变它位置的时候，同时改变其它的属性。比如，我们多定义2个 <animate /> 来改变它的宽度和颜色："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<animate attributeName="x" from="0" to="500" dur="2s" repeatCount="indefinite" />\n<animate attributeName="width" to="500" dur="2s" repeatCount="indefinite" />\n<animate attributeName="fill" to="black" dur="2s" repeatCount="indefinite" />\n'})}),"\n",(0,n.jsx)(e.p,{children:"效果如下图所示："}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAADuCAYAAACnHHViAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAH40lEQVR42u3bMWvCQBiAYf+EUOzSzXTvZPr//0jBKbnLgYNbSq+eBBEMIiTRZ3iWGxP4uO+FW8UYewAA4F8Xmsy3AB41P+YyV1Z+EgAACACAAAAAAC95gb/k2wC3tCFl8aQLMTufCwAAACAAAAKAAAAAABM4tPv+6/Oj/67eAO5SbzeZJwAAACAAAAKAAAAAAFM6Nj/nAFBXa8sMcNOuer8aDj0BAAAAAQAQAAQAAACYSwAoF/s/lhxgTAgY8gQAAAAEAEAAEAAAAEAAAAQAAQAAAAQAQAAQAAAAQAAABAABAAAABABAAAAAAAQAQAAAAAABAEAAAAAAAQB45cX/8nwuc00AAAAAAQAQAAAAQAAQAAABAAAABAAAAQAAAAQAQAAQAAAAQAAABAABAAAABABAABAAAABAAAAEAAEAAAAEAEAAEAAAAEAAAAQAAAAQAAQAQAAAAAABAEAAAAAAAQAQAAQAAAAQAAABQAAAAAABABAABAAAABAAAAFAAAAAAAEAEAAEAAAAEAAAAQAAABAAAAEAAAAEAEsOIAAAAIAAAAgAAgAAAAgAgAAgAAAAgAAACAACAAAACACAACAAAACAAAAIAAIAAAAIAIAAYLgDAIAAAAgAAAAgAAgAgAAAAAACAIAAAAAAAgAgAAgAAAAgAAACgAAAAAACACAACAAAACAAAAKAAAAAAAIAIAAIAAAAIAAAAgAAAAgAAgAgAAAAgAAAIAAAAIAAAAgAAgAAAAgAgAAgAAAAgAAACAACAAAACACAACAAAACAAAAIAAIAAAAIAIAAAAAACACAAAAAAAKAJQcQAAAAQAAABAABAAAABABAABAAAABAAAAEAAEAAAAEAEAAEAAAAEAAAAQAAQAAAAQAQAAw3AEAQAAABAAAABAABABAAAAAAAEAQAAAAAABABAABAAAABAAAAFAAAAAAAEAEAAEAAAAEAAAAUAAAAAAAQAQAAQAAAAQAAABAAAABAABABAAAABAAAAQAAAAQAAABAABAAAABABAABAAAABAAAAEAAEAAAAEAEAAEAAAAEAAAAQAAQAAAAQAQAAAAAAEAEAAAAAAAcCSAwgAAAAgAAACgAAAAAACACAACAAAACAAAAKAAAAAAAIAIAAIAAAAIAAAAoAAAAAAAgAgABjuAAAgAAACAAAACAACACAAAACAAAAgAAAAgAAACAACAAAACACAACAAAACAAAAIAAIAAAAIAIAAIAAAAIAAAAgAAgAAAAgAgAAAAAACgAAACAAAACAAAAgAAAAgAAACgAAAAAACACAACAAAACAAAAKAAAAAAAIAIAAIAAAAIAAAAoAAAAAAAgAgAAAAAAIAIAAAAIAAYMkBBAAAABAAAAFAAAAAAAEAEAAEAAAAEAAAAUAAAAAAAQAQAAQAAAAQAAABQAAAAAABABAADHgAABAAAAEAAAAEAAEAEAAAAEAAABAAAABAAAAEAAEAAAAEAEAAEAAAAEAAAAQAAQAAAAQAQAAQAAAAQAAABAABAAAABABAAAAAAAFAAAAEAAAAEAAABAAAABAAAAFAAAAAAAEAEAAEAAAAEAAAAUAAAAAAAQAQAAQAAAAQAAABQAAAAAABABAAAAAAAQAQAAAAQAAAEAAAAEAAAAQAAQAAAAQAQAAQAAAAQAAABAABAAAABABAABAAAABAAAAEAAEAAAAEAEAAAAAABABAAAAAAAFAAAAEAAAAEAAABAAAABAAAAFAAAAAAAEAEAAEAAAAEAAAAUAAAAAAAQAQAAQAAAAQAAABQAAAAAABABAAAABAABAAAAEAAAAEAAABAAAABABAABAAAABAAAAEAAEAAAAEAEAAEAAAAEAAAAQAAQAAAAQAQAAQAAAAQAAABAAAAEAAAAQAAAAQAAAEAAAAEAAAAUAAAAAAAQAQAAQAAAAQAAABQAAAAAABABAABAAAABAAAAFAAAAAAAEAEAAAAAABABAAAABAABAAAAEAAAAEAEAAEAAAAEAAAAQAAQAAAAQAQAAQAAAAQAAABAABAAAABABAABAAAABAAAAEAAEAAAAEAEAAAAAAAUAAAAQAAAAQAAAEAAAAEAAAAUAAAAAAAQAQAAQAAAAQAAABQAAAAAABABAABAAAABAAAAFAAAAAAAEAEAAAAAABABAAAABAAAAQAAAAQAAABAABAAAABABAABAAAABAAAAEAAEAAAAEAEAAEAAAAEAAAAQAAQAAAAQAQAAAAAAEAOCRIaDoQpMJAAAAIAAAAoAAAAAAAgAgAAgAAAAgAAACgAAAAAACACAACAAAACAAAAIAAAAIAAIAIAAAAIAAACAAAADAErUhZcMAUFdrSw0wavEfhsOizBUBAAAABABAABAAAABgigBwaPdXL/IAY9XbTeYJAAAACACAACAAAADAlMqFfS4Xd2A5ATGedCFmngAAAIAAAAgAAgAAAAAsMRyOPRcAAAAAQAAQAAAAAAABAAAAABAAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAAAQAHwEAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAQAAAAAEAAAAAEAAAAAAAAQAAAAAQAAAAAAABAAAAABAAAAAAAAEAAAAAEAAAAAAAAEAAAAAeNIAkFLqAQAAgOf2Cy6+wnQBgahpAAAAAElFTkSuQmCC",alt:"图片"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://codepen.io/janily/pen/vVLwXv",target:"_blank",rel:"noopener noreferrer",children:"代码演示地址"})}),"\n",(0,n.jsxs)(e.p,{children:["我们还可以使用 <animateTransform /> 来代替 <animate /&，可以操作元素 ",(0,n.jsx)(e.strong,{children:"transform"})," 相关的属性，使用type来指定要操作 ",(0,n.jsx)(e.strong,{children:"transform"})," 的属性，还可以使用begin来指定动画从哪开始。比如，下面这个实例我们要使元素旋转起来，那我们就要把 ",(0,n.jsx)(e.strong,{children:"type"})," 的值指定为 ",(0,n.jsx)(e.strong,{children:"rotate"}),"，",(0,n.jsx)(e.strong,{children:"rotate"})," 属性的值包含三个坐标的值，分别为角度，横坐标的值即 x 和和纵坐标的值即 y。代码如下所示："]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="500px" height="500px" viewBox="0 0 500 500">\n    <rect x="250" y="250" width="50" height="50" fill="#4bc0c8">\n        <animateTransform attributeName="transform" type="rotate" begin="0s" dur="10s" from="0 200 200" to="360 400 400" repeatCount="indefinite" />\n    </rect>\n</svg>\n'})}),"\n",(0,n.jsxs)(e.p,{children:["在上面的代码中我们可以看到 ",(0,n.jsx)(e.strong,{children:"from"})," 的值为 ",(0,n.jsx)(e.strong,{children:"0 200 200"}),"，to的值为 ",(0,n.jsx)(e.strong,{children:"360 400 400"}),"，即表示元素在横坐标和纵坐标分别为200的位置旋转360度到横坐标和纵坐标分别为400的位置。"]}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)("img",{src:r,alt:"图片"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://codepen.io/janily/pen/XxNejW",target:"_blank",rel:"noopener noreferrer",children:"代码演示地址"})}),"\n",(0,n.jsx)(e.p,{children:"通过上面一个简单的动画效果，我们对SMIL动画也有了一个初步的认识，下面再通过一个稍微复杂点效果，来进一步加深对 SMIL 动画的认识。"}),"\n",(0,n.jsxs)(e.h2,{id:"smil-动画实战",children:["SMIL 动画实战",(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#smil-动画实战",children:"#"})]}),"\n",(0,n.jsx)(e.p,{children:"接下来我们一起来使用 SMIL 来实现下面这个简单的加载动画效果："}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)("img",{src:g,alt:"图片"})}),"\n",(0,n.jsx)(e.p,{children:"开始之前先来分析下这个动画效果的构成。"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"首先是旋转动画，这个可以用 transform 中的 rotate 属性来实现。"}),"\n",(0,n.jsx)(e.li,{children:"然后是这个圆圈边框的颜色变化，这个可以通过改变 stroke 的颜色的值来实现。"}),"\n",(0,n.jsx)(e.li,{children:"最后，是边框的长短变化，这个可以通过改变 stroke 的 stoke-dashoffset 来实现。"}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"先来准备基本的 HTML 结构："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n\xa0 <g>\xa0 \xa0\n\xa0 \xa0 <circle fill="none" stroke-width="6" stroke-linecap="round" stroke="#000" cx="33" cy="33" r="30" >\xa0 \xa0 </circle>\n\xa0 \xa0</g>\n</svg>\n'})}),"\n",(0,n.jsx)(e.p,{children:"从代码中可以看到，我们使用 g 标签把圆圈包裹起来，这样我们就可以嵌套动画来，先把 g 元素旋转起来，代码如下："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n  <g>   \n    <animateTransform attributeName="transform" type="rotate" values="0 33 33;270 33 33" begin="0s" dur="1.4s" fill="freeze" repeatCount="indefinite"/> \n    <circle fill="none" stroke-width="6" stroke-linecap="round" stroke="#000" cx="33" cy="33" r="30" >    </circle>\n   </g>\n</svg>\n\n'})}),"\n",(0,n.jsxs)(e.p,{children:["在上面的代码中有个新的参数 ",(0,n.jsx)(e.strong,{children:"values"}),"，",(0,n.jsx)(e.strong,{children:"values"})," 可以是一个值或多值。多值时候有动画效果。当 values 值设置并能识别时候，from, to 的值都会被忽略。"]}),"\n",(0,n.jsxs)(e.h3,{id:"values-属性",children:["values 属性",(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#values-属性",children:"#"})]}),"\n",(0,n.jsx)(e.p,{children:"那 values 属性是干什么的呢？在实际开发动画的时候，不可能就是单纯的从 a 位置到 b 位置。有时候，需要去 c 位置过渡下。此时，实际上有3个动画关键点。而 from, to/by 只能驾驭两个，此时就是 values 大显身手的时候了，它可以设置多个值。"}),"\n",(0,n.jsx)(e.p,{children:"比如我们可以把文章最开始的动画修改一下："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="500px" height="500px" viewBox="0 0 500 500"> \n\n    <rect x="0" y="0" width="100" height="100" fill="#feac5e"> \n        <animate attributeName="x" values="160;40;160\n" dur="2s" repeatCount="indefinite" /> \n    </rect> \n</svg>\n'})}),"\n",(0,n.jsx)(e.p,{children:"在上面代码中，values 设置了3个值，这样当矩形运行到160的时候，会返回到40的位置，然后再运动到160的位置，这样就形成来一个来回运动的动画效果。"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAFyCAYAAACupI9SAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAJKUlEQVR42u3WsQmDUBSGUWeUTOAiziJZJBtIUhsniJI+6hVBiwfpjGDgHPibV97i8WUBAACcVuYEAAAg2AEAAMEOAACCHQAAEOwAAIBgBwAAwQ4AAAh24KfGKd20vsXwjq59xFDlZlZdknXXIuJW+kAAwQ4IdjPBDgh2QLALdjPBDgh2QLCbCXYAwQ7sDPZtS7C/nnehZibYAcEOCHYzwQ4IdgDBbibYAcEOCHYzwQ4g2IHjffrom1qomX2ZYAcEOyDYzQQ7INgBBLuZYAcEOyDYzQQ7gGAHBLuZYAcEOyDYzUywA4IdEOxmgh0Q7ACC3UywA4IdEOxmgh1AsAOC3UywA4IdEOxmJtgBwQ4IdjPBDgh2AMFuJtgBwQ4IdjPBDiDYAcFuJtgBwQ4IdjMT7IBgBwS7mWAHBDuAYDcT7IBgBwS7mWAHEOyAYDcT7IBgBwS7mQl2QLADgt1MsAOCHUCwmwl2QLADgt1MsAMIdkCwmwl2QLADgt3MBDsg2AHBbibYAcEOINjNBDsg2AHBbibYAQQ7INjNBDsg2AHBbmaCHRDsgGA3E+yAYAcQ7GaCHRDsgGA3E+wAgh0Q7GaCHRDsgGA3M8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsJuZYAcEOyDYzQQ7INgBBLuZYAcEOyDYzQQ7gGAHBLuZYAcEOyDYzUywA4IdEOxmgh0Q7ACC3UywA4IdEOxmgh1AsAOC3UywA4IdEOxmJtgBwQ4IdjPBDgh2AMFuJtgBwQ4IdjPBDiDYAcFuJtgBwQ4IdjMT7IBgBwS7mWAHBDuAYDcT7IBgBwS7mWAHEOyAYDcT7IBgBwS7mQl2QLADgt1MsAOCHUCwmwl2QLADgt1MsAMIdkCwmwl2QLADgt3MBDsg2AHBbibYAcEOINjNBDsg2AHBbibYAQQ7INjNBDsg2AHBbmaCHRDsgGA3E+yAYAcQ7GaCHRDsgGA3E+wAgh0Q7GaCHRDsgGA3M8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsIszM8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsIszM8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsIszM8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsIszM8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsAt2M8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsAt2M8EOCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgh2M8EOCHZAsAt2M8EOCHZAsJsJdkCwOwEg2M0EOyDYAcFuJtgBBDsg2M0EOyDYAcEu2M0EOyDYAcFuJtgBBDsg2M0EOyDYAcFuJtgBBDsg2M0EOyDYAcEu2M0EOyDYAcFuJtgBBDsg2M0EOyDYAcFuJtgBBDsg2M0EOyDYAQS7mWAHBDsg2M0EO4BgBwS7mWAHBDsg2M0EO4BgBwS7mWAHBDuAYDcT7IBgBwS7mWAHEOyAYDcT7IBgBwS7mWAHEOyAYDcT7IBgBxDsZoIdEOyAYDcT7ACCHRDsZoIdEOyAYDcT7ACCHRDsZoIdEOwAgt1MsAOCHRDsZoIdQLADgt1MsAOCHRDsZoIdQLADgt1MsAOCHUCwmwl2QLADgt1MsAMIdkCwmwl2QLADgt1MsAMIdkCwmwl2QLADCHYzwQ4IdkCwmwl2AMEOCHYzwQ4IdkCwmwl2AMEOCHYzwQ4IdgDBbibYAcEOCHYzwQ4g2AHBbibYAcEOCHYzwQ4g2AHBbibYAcEOINjNBDsg2AHBbibYAQQ7INjNBDsg2AHBbibYAQQ7INjNBDsg2AEEu5lgBwQ7INjNBDuAYAcEu5lgBwQ7INjNBDuAYAcEu5lgBwQ7gGA3E+yAYAcEu5lgBxDsgGA3E+yAYAcEu5lgBxDsgGA3E+yAYAcQ7GaCHRDsgGA3E+wAgh0Q7GaCHRDsgGA3E+wAgh0Q7GaCHRDsAILdTLADgh0Q7GaCHUCwA4LdTLADgh0Q7GaCHUCwA4LdTLADgh1AsJsJdkCwA4LdTLADCHZAsJsJdkCwA4LdTLADCHZAsJsJdkCwAwh2M8EOCHZAsJsJdgDBDgAAgh0AABDsAAAg2AEAAMEOAAAIdgAAEOwAAIBgBwAAwQ4AAAh2AABAsAMAgGAHAAAEOwAACHYAAECwAwAAgh0AAAQ7AAAg2AEAQLADAACCHQAAEOwAACDYAQAAwQ4AAIIdAAAQ7AAAgGAHAADBDgAACHYAABDsAACAYAcAAAQ7AAAIdgAAQLADAIBgBwAABDsAACDYAQBAsAMAAIIdAAAEOwAAINgBAADBDgAAgh0AABDsAAAg2AEAAMEOAAAIdgAAEOwAAIBgBwAAwQ4AAAh2AABAsAMAgGAHAAAEOwAACHYAAECwAwAAgh0AAAQ7AAAg2AEAQLADAACCHQAAEOwAACDYAQAAwQ4AAIIdAAAQ7AAAgGAHAADBDgAACHYAABDsAACAYAcAAAQ7AAAIdgAAQLADAIBgBwAABDsAACDYAQBAsAMAAIIdAAAEOwAAINgBAADBDgAAgh0AABDsAAAg2AEAAMEOAAAIdgAAEOwAAIBgBwAAwQ4AAAh2AABAsAMAgGAHAAAEOwAACHYAAECwAwAAgh0AAAQ7AAAg2AEAQLADAACCHQAAEOwAACDYAQAAwQ4AAIIdAAAQ7AAAgGAHAADBDgAACHYAABDsAACAYAcAAAQ7AAAIdgAAQLADAIBgBwAABDsAACDYAQBAsAMAAIIdAAAEOwAAINgBAADBDgAAgh0AABDsAAAg2AEAAMEOAAAIdgAAEOwAAIBgBwAAwQ4AAAh2AABAsAMAgGAHAAAEOwAACHYAAECwAwAAgh0AAAQ7AAAg2AEAQLADAACCHQAAEOwAACDYAQAAwQ4AAIIdAAAQ7AAAgGAHAADBDgAACHYAABDsAACAYAcAAAQ7AAAIdgAAQLADAIBgBwAABDsAACDYAQBAsAMAAIIdAAAEOwAAINgBAADBDgAAf2xcJ9gBAOD8wT4DP8iERj+qkV4AAAAASUVORK5CYII=",alt:"图片"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://codepen.io/janily/pen/rqWGWB",target:"_blank",rel:"noopener noreferrer",children:"代码演示地址"})}),"\n",(0,n.jsxs)(e.h3,{id:"加载动画实现",children:["加载动画实现",(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#加载动画实现",children:"#"})]}),"\n",(0,n.jsxs)(e.p,{children:['具体到这个旋转动画中，我们使用 animateTransform 标签来实现旋转动画，values 的值为 values="0 33 33;270 33 33" 表示元素在横坐标和纵坐标分别为33的这个位置保持不动，从0到270这个角度不停的旋转，因为 ',(0,n.jsx)(e.strong,{children:"repeatCount"})," 的值为 ",(0,n.jsx)(e.strong,{children:"indefinite"}),"。"]}),"\n",(0,n.jsx)(e.p,{children:"OK，圆圈旋转动画完成后，接下来是边框颜色的变化，这个圆圈在旋转的过程中，有5中颜色的变化，这个时候 values 就派上用场了："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n\xa0 <g>\n\xa0 \xa0 <animateTransform attributeName="transform" type="rotate" values="0 33 33;270 33 33" begin="0s" dur="1.4s" fill="freeze" repeatCount="indefinite"/>\n\xa0 \xa0 <circle fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30" stroke-dasharray="187" stroke-dashoffset="610">\n\xa0 \xa0 \xa0 <animate attributeName="stroke" values="#4285F4;#DE3E35;#F7C223;#1B9A59;#4285F4" begin="0s" dur="5.6s" fill="freeze" repeatCount="indefinite"/>\n\xa0 \xa0 </circle>\n\xa0 \xa0</g>\n</svg>\n'})}),"\n",(0,n.jsxs)(e.p,{children:["颜色的变化我们使用 ",(0,n.jsx)(e.strong,{children:"attributeName"})," 的值指定为 ",(0,n.jsx)(e.strong,{children:"stroke"}),"，然后使用 ",(0,n.jsx)(e.strong,{children:"values"})," 指定5个颜色的值，这样元素的 stroke 也就是边框的颜色会在这5中颜色来回不停的变化。"]}),"\n",(0,n.jsxs)(e.p,{children:["在上面的代码中，还设置了圆圈的 ",(0,n.jsx)(e.strong,{children:"stroke-dasharray"})," 和 ",(0,n.jsx)(e.strong,{children:"stroke-dashoffset"})," 两个属性的值，在后面的用来实现边框长短变化动画用的。"]}),"\n",(0,n.jsxs)(e.p,{children:["代码中的 ",(0,n.jsx)(e.strong,{children:"fill"})," 表示动画间隙的填充方式。支持参数有： ",(0,n.jsx)(e.strong,{children:"freeze"})," | ",(0,n.jsx)(e.strong,{children:"remove"}),"。其中 remove 是默认值，表示动画结束直接回到开始的地方。freeze “冻结” 表示动画结束后像是被冻住了，元素保持了动画结束之后的状态。"]}),"\n",(0,n.jsx)(e.p,{children:"接下来就是实现边框长短变化的动画，这里的值没有固定的，需要我们不停的调试，最后选择一个最舒服的值就可以了，完整代码如下："}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:'<svg width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n\xa0 <g>\n\xa0 \xa0 <animateTransform attributeName="transform" type="rotate" values="0 33 33;270 33 33" begin="0s" dur="1.4s" fill="freeze" repeatCount="indefinite"/>\n\xa0 \xa0 <circle fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30" stroke-dasharray="187" stroke-dashoffset="610">\n\xa0 \xa0 \xa0 <animate attributeName="stroke" values="#4285F4;#DE3E35;#F7C223;#1B9A59;#4285F4" begin="0s" dur="5.6s" fill="freeze" repeatCount="indefinite"/>\n\xa0 \xa0 \xa0 <animateTransform attributeName="transform" type="rotate" values="0 33 33;135 33 33;450 33 33" begin="0s" dur="1.4s" fill="freeze" repeatCount="indefinite"/>\n\xa0 \xa0 \xa0 <animate attributeName="stroke-dashoffset" values="187;46.75;187" begin="0s" dur="1.4s" fill="freeze" repeatCount="indefinite"/>\n\xa0 \xa0 </circle>\n\xa0 \xa0</g>\n</svg>\n'})}),"\n",(0,n.jsx)(e.p,{children:"一个使用 SMIL 的加载动画就完成了。"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)("img",{src:g,alt:"图片"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://codepen.io/janily/pen/GYNMBG",target:"_blank",rel:"noopener noreferrer",children:"代码演示地址"})}),"\n",(0,n.jsx)(e.p,{children:"到这里，SVG 基础的动画实现方式就讲完了，那如果要制作更加强大的动画效果，要更加灵活的控制 SVG，就不得不借助于 JavaScript 了。"}),"\n",(0,n.jsx)(e.p,{children:"下一章节我们就开始来讲解使用 JavaScript 来高效的开发SVG动画。"}),"\n",(0,n.jsxs)(e.p,{children:["关于 SMIL 详细的介绍可以去这个",(0,n.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/SVG/SVG_animation_with_SMIL",target:"_blank",rel:"noopener noreferrer",children:"文档"}),"看看。"]})]})}function i(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,B.ah)(),A.components);return e?(0,n.jsx)(e,{...A,children:(0,n.jsx)(E,{...A})}):E(A)}let t=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["SVG%20%E5%8A%A8%E7%94%BB%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98%E6%89%8B%E5%86%8C%2F5%20SVG%20SMIL%20%E5%8A%A8%E7%94%BB%E5%AE%9E%E6%88%98.md"]={toc:[{text:"SMIL动画简介",id:"smil动画简介",depth:2},{text:"SMIL 动画使用方法",id:"smil-动画使用方法",depth:3},{text:"SMIL 动画实战",id:"smil-动画实战",depth:2},{text:"values 属性",id:"values-属性",depth:3},{text:"加载动画实现",id:"加载动画实现",depth:3}],title:"5 SVG SMIL 动画实战",headingTitle:"5 SVG SMIL 动画实战",frontmatter:{}}}}]);