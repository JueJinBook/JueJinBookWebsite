"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["62948"],{431988:function(n,e,t){t.r(e),t.d(e,{default:()=>b});var i=t(552676),r=t(740453);let s=t.p+"static/image/e557f6b05248d17aff62a0293430b106.f61c0e79.webp",l=t.p+"static/image/7aa2bea7ea8f5db61012f0b948e72e5b.fa575aff.webp",c=t.p+"static/image/cf7fbdca72310457c7f87473dbf66d3c.a47426d0.webp",d=t.p+"static/image/dc5ac6deca796e06d1fc4072e1f6a1d4.cddb68fe.webp",p=t.p+"static/image/ea9828f3effef5df15b640e67ea4a1df.75997e0e.webp",a=t.p+"static/image/126f7a351a04d06e0d95df725d181208.88519b66.webp",o=t.p+"static/image/618d1acefba2e46ac410a234805457d7.24c1fa16.webp",h=t.p+"static/image/b252bfe86db292ad8979e8440b4bbbf8.0fe561f2.webp",j=t.p+"static/image/97810fa8313c24f1b56a48d5d2dd218f.e2295005.webp",u=t.p+"static/image/86d43df2a2333cb033e8cb1c20e76ea3.deed88b8.webp",m=t.p+"static/image/61dc10999dcf2b3ec053151e08f90279.2f5d280f.webp",x=t.p+"static/image/1cbdc387113867d346fe15a69f9a4845.317aa790.webp",f=t.p+"static/image/16b322948035e4c5632c854977a7d683.f51335a3.webp";function g(n){let e=Object.assign({h1:"h1",a:"a",p:"p",img:"img",h2:"h2",blockquote:"blockquote",ul:"ul",li:"li",h3:"h3",pre:"pre",code:"code",strong:"strong"},(0,r.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"2mvp原型系统-将组件封装为组件库",children:["2.MVP原型系统： 将组件封装为组件库",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#2mvp原型系统-将组件封装为组件库",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"今天带大家从零实现一个组件库。为了给大家带来更加真实的开发体验，使用敏捷方式。每节课讲述一个主题，作为一个 Sprint 冲刺过程。从一个 MVP 开始，每个冲刺都会给组件添加一种特性，最终成为一个完整的组件库。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:f,alt:"eeb5791e9a6c415f27eddba6b7b5e990.jpeg"})}),"\n",(0,i.jsxs)(e.p,{children:["本章节参考代码： ",(0,i.jsx)(e.a,{href:"https://github.com/smarty-team/smarty-admin/tree/chapter02",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/smarty-team/smarty-admin/tree/chapter02"})]}),"\n",(0,i.jsxs)(e.h2,{id:"用户故事userstory",children:["用户故事(UserStory)：",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#用户故事userstory",children:"#"})]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"通过 Vite 将一个组件封装为组件库，组件库可以被其他Vue项目作为插件直接进行使用。"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"这一节的核心任务是完成一个组件库的 MVP。MVP (Minimum Viable Product) 是最简化可实行产品的意思。在组件库中，最小的 MVP，可以定义为： 将一个组件以组件库的形式封装起来。组件库实际上就是一个 JS 的库文件，可以被 Vue 项目引用其封装的组件。"}),"\n",(0,i.jsx)(e.p,{children:"搭建这样一个环境需要解决以下问题："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"如何配置构建工具？"}),"\n",(0,i.jsx)(e.li,{children:"如何搭建一个调试环境？"}),"\n",(0,i.jsx)(e.li,{children:"组件以什么样的形式封装？"}),"\n",(0,i.jsx)(e.li,{children:"如何让组件库支持使用 JSX、SFC 单文件组件等语法？"}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"功能实现",children:["功能实现",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#功能实现",children:"#"})]}),"\n",(0,i.jsxs)(e.h3,{id:"vite搭建开发环境",children:["Vite搭建开发环境",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#vite搭建开发环境",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"搭建一个项目，首先要创建一个开发目录并且初始化软件包信息(Npm)。"}),"\n",(0,i.jsx)(e.p,{children:"创建一个目录："}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"mkdir smarty-ui-vite\ncd smarty-ui-vite\n"})}),"\n",(0,i.jsx)(e.p,{children:"这个项目的包管理工作选择目前比较流行的 Pnpm 完成。选择 Pnpm ，首先是由于 Pnpm 优秀的管理机制，使得安装依赖非常迅速且节省空间。更重要的是，项目后期需要开发组件库的周边，比如 CLI 工具等。CLI工具以单独软件包的形式发布在 npm 仓库之中，这样的话，一个 Repo 多个软件包的项目结构需要使用 monorepo 风格进行管理。pnpm 拥有的 workspace 功能可以很好地完成这样的工作。"}),"\n",(0,i.jsx)(e.p,{children:"下面使用 pnpm 初始软件包配置："}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"pnpm init\n"})}),"\n",(0,i.jsx)(e.p,{children:"初始化完成后，下一步是利用 Vite 搭建一个组件库的调试环境。为什么选择 Vite ，开篇词中已经介绍了，这里面我们就不再赘述。"}),"\n",(0,i.jsxs)(e.p,{children:["如果使用 Vite 搭建普通项目的话，我推荐使用 Vite 脚手架工具搭建。这样可以免去大量的工程化配置工作。",(0,i.jsx)(e.strong,{children:"但是作为一个需要长期维护的组件库，我希望所有的工程化搭建细节都掌控在自己的手中。所以这次，就从零开始自己搭建Vite项目。"})]}),"\n",(0,i.jsx)(e.p,{children:"首先安装 Vite。Vite 作为开发调试工具，只会在在开发环境中使用，所以需要在安装时加上 -d 。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'pnpm i vite@"3.0.7" -D\n'})}),"\n",(0,i.jsx)(e.p,{children:"下面创建创建一个测试页面，测试Vite是否安装正常。"}),"\n",(0,i.jsx)(e.p,{children:"index.html"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n \xa0  <meta charset="UTF-8">\n \xa0  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n \xa0  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n \xa0  <title>Document</title>\n</head>\n<body>\n \xa0  <h1>Hello Smarty UI</h1>\n</body>\n</html>\n'})}),"\n",(0,i.jsx)(e.p,{children:"启动 Vite。启动 Vite 的时候使用 npx。这是一个 Npm5.2 新增加的命令，用于执行软件包中的可执行文件。 以往的可执行文件只能通过全局安装或者从 node_modules/.bin 中查找，要不然很难直接运行。这个升级体验还是非常赞 \uD83D\uDC4D 。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"npx vite\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:x,alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:"看到页面可以正常显示，说明Vite安装正确。"}),"\n",(0,i.jsx)(e.p,{children:"在 src/index.ts 中编写一个 Typescript 代码，确认 Vite 是否可以调试 Typescript。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const s: string = 'Hello Typescript'\nconsole.log(s)\n"})}),"\n",(0,i.jsx)(e.p,{children:"在 index.html 中添加引用。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'<h1>Hello Smarty UI</h1>\n<script src="./src/index.ts" type="module"><\/script>\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:m,alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:"看到调试窗口中的【 Hello Typescript 】的日志，说明 Vite 已经可以正常地调试 Typescript 代码了。"}),"\n",(0,i.jsx)(e.p,{children:"我觉得这个就是 Vite 体验好的地方。无需任何配置就可以提供一个Typescript 的前端开发环境，支持自动热更新。如果你是一个 前端 Typescript 党，可以考虑把 Vite 安装到全局。这样你就可以全局使用 Typescript 开发前端了。"}),"\n",(0,i.jsx)(e.p,{children:"最后在 package.json 中添加一个启动脚本，下次在启动开发环境运行 pnpm dev ，就可以启动 Vite 开发代码了。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:' \xa0"scripts": {\n \xa0 \xa0"dev": "vite"\n  },\n'})}),"\n",(0,i.jsxs)(e.h3,{id:"开发一个vue组件",children:["开发一个Vue组件",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#开发一个vue组件",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"基础组件"})}),"\n",(0,i.jsx)(e.p,{children:"下面尝试在 Vite 开发环境上开发 Vue 组件。"}),"\n",(0,i.jsx)(e.p,{children:"首先安装 Vue3.0 软件包。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'pnpm i vue@"3.2.37"\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:u,alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:"接着尝试编写一个简单的 Button 组件。"}),"\n",(0,i.jsx)(e.p,{children:"编写一个 /src/button/index.ts 组件。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:'import { defineComponent, h } from "vue";\n\nexport default defineComponent({\n\n  name: "SButton",\n\n  // template:\'<button>MyButton</button>\'\n\n  render() {\n\n    return h("button", null, "MyButton");\n\n  },\n\n});\n'})}),"\n",(0,i.jsx)(e.p,{children:"在 src/index.ts 中启动 Vue 实例。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'import { createApp } from "vue";\n\nimport SButton from "./button";\n\ncreateApp(SButton).mount("#app");\n'})}),"\n",(0,i.jsx)(e.p,{children:"还需要在 index.html 中添加一个容器。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'<div id="app"></div>\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:j,alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:"启动Vite进行调试。在浏览器中打开 localhost:3000。就可以看到一个按钮已经显示到浏览器中了。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"单文件组件"})}),"\n",(0,i.jsxs)(e.p,{children:["写到这里大家可能有点疑问：",(0,i.jsx)(e.strong,{children:"为什么是使用 render 函数，而不是熟悉的 template 语法编写呢？"})]}),"\n",(0,i.jsx)(e.p,{children:"这是因为 Vue3.0 默认的包是不支持模板编译功能的。也就是说， template 语法现在还不能用。在 Vue3.0 中编译功能推荐在构建阶段完成，而不是放到浏览器中运行。如果希望在浏览器中的话，可以选择 ./node_modules/vue/dist/vue.global.js 这个包。"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)("img",{src:h,alt:"image.png"}),"\n如果让 Vite 可以编译 Vue 模版，可以通过安装 Vite 的 Vue 插件实现。你可以这样理解， Vite 默认只能支持 TS 代码。而 Vue 的模板需要在编译阶段转换为 Typescript 代码 (渲染函数)才可以运行。Vue 插件不但提供了模板的编译，同时还支持 Vue 单文件 (SFC) 组件的编译。下面用一张图来说明一下。"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:"data:image/webp;base64,UklGRuQOAABXRUJQVlA4INgOAABQYwCdASpbApMAPp1Oo0ylpCOlolVZuLATiWVt2m5XD//5/7AgXGsH8C5+Xlc34fHL7F/rvKQ8V/AOm15Wv//HtGj+I7vp1+mhYvfSDnfqe21fmK84v0j7zZ0VHq0f5fJj/S3ab/dPC/ybBvz3k9H9B3w8AL2Jup+e+YRZ9f6foZ9kta8+jeYT0VP+zzwckH2JdMLyZhT9Zt6tkqZ9ImxKAa+z2TCre3uHeS3kQj8S3jyq/jlGv7w6sJPt7h3kt5EI/En2S21Fidug5WnPR8M6M2++ygSFeksengABtXrjXiV5zxJY9RLthRem0nQGw8OUO/X6e5J/lCSRijcn3YYkNipDEiO/vut6NzeIc2yfFhUPtJHjMg08JyGxHRwZ8a7Bq0D+Ycz7GDiZMpXV5RMfVoXDlWEt1VFuYvaVG1WRoX2XjpysKLnV/FJRImGu0ZwcjOtc/NN6M62KAdxcoNpfzv0f7o9HBCpwBbmIenQ10FJw6NqCiPaDVZ33XdPEIJeGVy93ZDooHgSEKN+LVal2rVf+YKHyoaWL1RxLCfN/41+hT5HOqMDVsKYoXlgQ4kmLP+agC9QQmD+W6LN5tyZX+8mPZxr7r+ThMXciVUgn3t+rsio9n/4USYv8+T2tfpws7wMpYhYKgvaBidQ4ihZ8x6KPI8CJmsmc1hrPh6VylPSuEmvwb894BSxRRt/0psUHthBVuCjlW/YQ9GAkCczpAgl8Wnoo9GQFFmiYsB2lq/1U5uF63DZ3CD6EWAEkDNkztJl/zBn4WXWxJ+Aqg7bKPYei4RAr6ne+4DVAIZrK3ApHhNXxDQZxTvjkUSV8ojoHRf5ELCTBaWs8joLcmnR8+xkinQExBWubxU2LUqsGhAZrC1qDzheEk32EQNRdM83rNzXDGJePwXKOJ96h3cC5zOKSHReXZPGmTVh1HbiUQ1GjywHzi5TVpu3KY17npB5vTT+JLHp47LHhbq4nJp/Elj02U4UppnoYLdRlblrnu7JoLl3cwxov6rXzYjMKJ0eLDSwItsh3noy2yOayVR6j8arrjN4FzqPUfjVdcZqHjK6ZwAD+/QKl7XzCzyXJH1S4cHrkQIIxnbA8TE0fQKigf6v0XG+ZLcVslrwDNIGu2KBFn2lnhAO5DpVgbCdV5IfkGi0o0xc8TzoHKxpc0nOFwWVUbBuz6sDQorAvu2gKaek2npwgLk+DwpcPs+FSpx6BUUD/JpXuftyqo2t6l9+eYnw27iInnQOVjK5pOcfbEf2kTOiDQit6HX1YF8qPEN/bCqz/0FjieUWzXZz3MhP4/0o04K6DcjuO26/r04P/n/aXB4SpREgM4DXhhMWLl1UbC/p6sDAqXiG/oauygd6zttK1xDt8K0nYOztvB4UvZLwWRVhAqDRy6uTLznBJOttNQBBo3n1PpB8pMn01A/0+rBcPdFfCCdrnIuiu8fxzTpuzV2Rd7DVRtmqrFAyYp4hyD0S7aJghqH2OLs6evihDU6XFQNPFE8xQFReIcg9XQXbaaegXyVuT8F63dW3JXu/50BN/IhpXvN/hReydej9ZBE09fVUwpaOsOgH4re/5MjSrrdB+2x0eDZ1VK6QQ/i/EOLkEXMdfz//4vcxqKzSqPjVs3AMYmHEwfy87662OdQhT/XgDf+YGQGt8mV0wIeuKUONTYLR+FHvrXP//i9rtmio1lJbGyFg/tO9adQH/Kq4A2xYw/12B2zfXi+njNjS25uXY0r+toH1K7TTI8+wIUglKlvr7Sr5MpK7kuzp2eM2Lltgy5wMeJSYEqAAglREFOqHog4j9z0HVFZpDO2iz/5XVVWyjoa88abAorEq7i3ZZrty9hC1tdzCYX3wPcaEOxaq3FoPs8ChnezynPKroox6sGFXuIAVCJF49N5GdYpegA5KAj13uGWq4d6smjSATZ2vmGQAPUW4JKwuBfHaO3InZS0IUuVHdNCBjuUa2sQhLAT3M/QolrOM08rOV4NKXyMHJ5GUcLO6x234LK+Ercf32FISRC/W3RmqwCLcsqKcjIlqTsKqLRFzOIaGNAmTDx0SHI3qxXODbLXRejgGilkBXPIo3tQ85PiWAQnE//rwV4/TlLe0F4OGWmOV0CtEvttw83a8rBm/vWq31R90AEMR7TOW6HA6rvdP1imzQKPhAWbmPZDJinYh3YintT5GkrYvRsG6EMEN/grjleDOpC1lLxbMyPRY16aPpNpkTyh3Q6aJc4+jF6oYjMQ3UuTruKDoZdqqnRieiDbzITVZGXu8diGRvcPSmNT3wM//sDM0K4MgmwXyfDSgQfnZCPWwh2P/B8uCUC7SspopLZqBXeYALf1ZqdV45BzlDKONzK/rimTb0lA93EsyeLbIZvjooE8AspiU2MIBZdtxy/11+Nnnk+VXCr80zxewRyqudu1c+/UWyB6BRVXpo4nrvYN7LHPHO97kvo/McCnR74EmgV2b34002P8eJ4S3czikEUat/o+ze9zV52+eP+e0Zvc3Qo1ZzReyy8YXwj3rcHDyZ/Zt93+0hTkRf+kPHbuD9aZ1GQVuMmf1kswRNM6BH3LqzIqIx7p7+P8K9vM0AbX/6t+Xvk9+PbbWD21slZGwIY6bEcV2xUZ5AfRRPAMYL4EdXtOobjvSXq285EURKEGop1Kp2/tJ9eGH9uWH9A60U1X/uT+mEDJpEDoDmQ6nbbunMCjGd6oWp6HiDuy9x24RRGCNsWpebH9Sb/acBBOa4lCtwrOaZyuaGOLm636D/D/QJaH1xfgEJHS4YTx1Pts8q0scUlETrb5PBy6iPyHkL8TD88wYGCSlcDp45ptg1GyxZSwzoSXVsoNbpHnf4s7N05g84JoNRSsvyHFCY31ndbHLTrvG5YpGvLjneMkssLIM88oYcVUvuFEJFlrKr7T7638qTAEOOV7IUodESTZ2kQtSZZQrUV3CItKrvlBE6MviANdpX58kahRs701EZa1Iiw2pMJNt5AqQbRkd3eB/fexQ5VjIfUmcu0yw/EUVIfiKK5JjYnGtL7OShc9ghizBei61AJavuItmP5hrqP3Bfyh6vR4VTeT2gv8HuFuv4wEOKfeZ8OYCXpZiQFUAHqnn2XMwYJmMmRxvR3fruS2mERnhoDXB6Jv/HXD800fJLCf/mx58nMDaFW9P4B4hneEe9a94kEClm5g18oOtBBp/6Q8drDZXful3lmVYW8j7P7X/OFH9QDUqY+7lUw0VGa/XM0A9ksL+7sK9TXV8sqzwomebgjCZDxZYdSqXpXaWwkqroxez17eoB8HMlASOg7VUYTj+vKNa0F+nfOpqI2Gd4IwvkVVQR87Qu/mmXrYhm5IugkCXXH889gaS+dRsVJV4K6AH8Dch4hSSlMXPZcJDixLPKV2teNs0muUMpEME6MYljq9S0So832qD50mTs3MCOZS9BlUTqlhRhI5WY8IE5ZXrT6DfrWWLxZseWbt0v1RXP2L7UCZZMDTldv8AnYYIVMf5vlPiHNr58McqjQ+2CLT74CIwwF6Kr37P2/LJDkbYNU5bc+geCSY8zMO8E6xoXkZ+49thtkDCCEkE9PHGF8HAkpmlFwSjf9X8sI7N8Oid83Brx6YwzrxcQj87/U7q2WBsltnragnKWG1Sl5rgd6sOouPD+JdBckgK4dIsZ10RAw8Nb1EgNZaQZr/j8R1YSVX57wwFNUNFt/0aLNCtFZrUx+H5fG2wjGT+36mtGGfN+ij4iloNw9JNlf0Nfb9GY+Xp7haYLnaAxoNjK3iS1EGPDx8DTnSDeUyjAh6+/NWF64wQpZOZet5sYDRueAo2FlGclSZFfQ7wrvxTv1d7DJxCF0oI33C6KHZR2XN7Lu4DLv9H5vq4vQaEuPt2VSOMNlClnajPWygSukRQiEqvul0csGcx9nKPaTg8fC1ti3EtU4vTfsEFepP/tjEbxMBhM4OyGaPxB+na6DsN9LuCqySQ9GMqWup1kT7bD9+KIn5s/UzuHcHn0ZfjCEzpvnNuKqC39yVINiP235pUzgAtJfxc5KtFqA674Xi9l0YLj9uU/Ke+MJ1mN3Al0/o08nkNSVxzG5BlQFXndeOE+UUVlNyOLVK8AgWRt5dMNWXSPhZQcN40sa1AVntZDxjidKPXJEsm5RfeCPQl0STFuPijLEzW8h4ovSEfKCWsy1hsMR0OBEaDZV3G8V+Go1MMlw76vGTmZnEQu6Enx64dODbNTOAC0mBpZwU8Nl36eikpZ9nF1ZCAjy5NhqHO+TM95Z5XK2jRZ2/rrrusPhmrlqhsENDxD0apMWrNEG31djWEgROf/5/iopSdfS/tDpd2+hJN8G2z3LTithm1PTdD+S1xN1RmCGaA0rzCOYsZTpH0/y+Szi6Djysl0MhFyiSGhb534IWNqDrsYfNgJczi5B6agfxIS4GUpy3qd3nkxCKKhuF2vrmSc9RPtbJakETCFnmTR/Zg6SCqfzixHrgXm55Oe0ll0+6HaIWCZI1gXPrRKrydKT7hZldA4RPS6AXzM65bh1hAGtffuxg/fqgiFlvguK8PKArXLtoo+6M1/95CzzE4rUYkkItybqrhsidI+QvRNR8qlV3i/KUjMO2XrQ8VMx+Yc1laFOsZHyue8IMYZsOMU9SDDqZJtPR7QFuOzmi/6toVka/3nmZ9k1Za8I8+/vpta54pT4zi1iTiQ5lyJ2f+PHxBwnFMjCncXj283yCPl/gj1fyDVMBP1iH5uWoaw3TOe20DC5gxB5Y7gpK97YDHLPNrSH9Mj3kGWXmQ02uoEGo+KPtzOvqjAnN9BKmAE+TmUhHYH1kejjJKNawmK3XUn2LRTzZsV/XGB4tHl3kinqyLvLixvE7p3d/kYZIFxyL9yqBHaBklkMwl6G1LtkehR4GjmX2bhCXOpPPTmQMS5XO7lmYbYsvcQvlSIwvr/FnFuWizQ+2It/3F0K1gy3/hLk2Sd23qey7QA4P2K1LFUrtsUDSjEwb0qca8APm8AARhNljZIgdjFb1JBNbYvTB91nmsTmM+yvuP57cAAAAESGLAACYbQJ51lQcsTzp5ERK68PBEszCJlitRJxsCWeGyN1oyRW2YoAA==",alt:"image.png"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"提供 Vue 3 单文件组件支持"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/vitejs/vite/tree/main/packages/plugin-vue",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/vitejs/vite/tree/main/packages/plugin-vue"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"安装 Vite 的Vue插件。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'pnpm i @vitejs/plugin-vue@"3.0.3" -D\n'})}),"\n",(0,i.jsx)(e.p,{children:"添加一个 vite.config.ts。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'import { defineConfig } from "vite";\nimport vue from "@vitejs/plugin-vue";\n\n// https://vitejs.dev/config/\n\nexport default defineConfig({\n\n  plugins: [vue()],\n\n});\n'})}),"\n",(0,i.jsx)(e.p,{children:"编写一个 SFC单文件组件 (也就是 .vue 文件) 使用template语法 来测试一下。"}),"\n",(0,i.jsx)(e.p,{children:"src/SFCButton.vue"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'<template>\n  <button>SFC Button</button>\n</template>\n\n<script lang="ts">\nexport default {\n  name: "SFCButton",\n};\n\n<\/script>\n'})}),"\n",(0,i.jsx)(e.p,{children:"引用到 index.ts 中测试一下。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'import { createApp } from "vue";\nimport SFCButton from "./SFCButton.vue";\n\ncreateApp(SFCButton)\n.mount("#app");\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:o,alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:"在引用 .vue 模块时候，编辑器中 import 语句会有红色的警告。这是因为Typescript 默认是不支持 .vue 类型的模块的。可以通过添加一个模块的类型定义来解决这个问题。"}),"\n",(0,i.jsx)(e.p,{children:"src/shims-vue.d.ts"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'declare module "*.vue" {\n  import { DefineComponent } from "vue";\n  const component: DefineComponent<{}, {}, any>;\n  export default component;\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"添加后可以看到红色警告随即消失。"}),"\n",(0,i.jsx)(e.p,{children:"最后测试一下结果。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:a,alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"JSX 组件"})}),"\n",(0,i.jsx)(e.p,{children:"JSX 是一种 Javascript 的语法扩展，最早运用于 React 架构中。JSX 也可以当作一种模板语言使用。虽然有人会质疑利用JSX语法编写 Vue3 代码是否合理， 比如怀疑 JSX 语法是否兼容 Vue3 的静态提升特性。但是现在很多基于 Vue 的组件库都大量使用 JSX 语法，对于工程化搭建，还是以开发者的使用习惯优先，我们支持了再说。"}),"\n",(0,i.jsx)(e.p,{children:"想要支持 JSX语法，还是需要就需要转译工具的支持。一般会使用 Babel。在 Vite 里，已经有人提前写好了对应的插件。就是下面这位【林成璋（Amour1688)】同学，大家可以膜拜一下。好像 Vue2 的 JSX 插件也是他写的。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/vitejs/vite/tree/main/packages/plugin-vue-jsx",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/vitejs/vite/tree/main/packages/plugin-vue-jsx"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["提供 Vue 3 JSX 支持（通过 ",(0,i.jsx)(e.a,{href:"https://github.com/vuejs/jsx-next",target:"_blank",rel:"noopener noreferrer",children:"专用的 Babel 转换插件"}),"）。"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:"data:image/webp;base64,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",alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:"有了现成的插件，只需要安装这个插件就可以了。"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'pnpm i @vitejs/plugin-vue-jsx@"2.0.0" -D\n'})}),"\n",(0,i.jsx)(e.p,{children:"vite.config.ts"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"import vueJsx from '@vitejs/plugin-vue-jsx'\n\nexport default defineConfig({\n\n  plugins: [\n    // 添加JSX插件\n    vueJsx({\n      // options are passed on to @vue/babel-plugin-jsx\n    })\n  ],\n\n})\n"})}),"\n",(0,i.jsx)(e.p,{children:"新建一个JSX组件 (使用TS语言所以是TSX)。"}),"\n",(0,i.jsx)(e.p,{children:"/src/JSXButton.tsx"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'import { defineComponent, h } from "vue";\n\nexport default defineComponent({\n\n  name: "JSXButton",\n  render() {\n    return <button>JSX Button</button>;\n  },\n\n});\n'})}),"\n",(0,i.jsx)(e.p,{children:"由于在ts中使用 JSX 语法，在 vscode编辑器中会提示错误。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:p,alt:"image.png"})}),"\n",(0,i.jsx)(e.p,{children:"这个提示的意思是不支持 JSX 语法造成的。而不是需要安装 React。只需要在 tsconfig 中配置一下 jsx 语法支持就行了。"}),"\n",(0,i.jsx)(e.p,{children:"./tsconfig.json"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n    "compilerOptions": {\n        "declaration": true, /* 生成相关的 \'.d.ts\' 文件。 */\n        "declarationDir": "./dist/types", /* \'.d.ts\' 文件输出目录 */\n        "jsx": "preserve",\n    },\n    "include": [\n        "./**/*.*",\n        "./shims-vue.d.ts",\n    ],\n    "exclude": [\n        "node_modules"\n    ],\n    "esModuleInterop": true,\n    "allowSyntheticDefaultImports": "true"\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:d,alt:"img"})}),"\n",(0,i.jsxs)(e.h3,{id:"库文件封装",children:["库文件封装",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#库文件封装",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"为了搞清楚如何封装一个组件库，先带大家研究一下Element组件库是怎么做的。"}),"\n",(0,i.jsx)(e.p,{children:"参考一下 Element 的使用指南。可以看到组件库有两种引入形态："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"完整引入 ：一次性引入全部组件，使用 Vue.use 以 Vue 插件的形式引入；"}),"\n",(0,i.jsx)(e.li,{children:"按需引入 ：按需引入，导出单个组件，使用 Vue.component 注册。"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"import Vue from 'vue'\nimport Element from 'element-ui'\n\n// 完整引入\nVue.use(Element)\n\n// or\nimport {\n  Select,\n  Button\n  // ...\n\n} from 'element-ui'\n\n// 按需引入\nVue.component(Select.name, Select)\nVue.component(Button.name, Button)\n"})}),"\n",(0,i.jsx)(e.p,{children:"综上所述，组件库的形态应该是这样的结构："}),"\n",(0,i.jsx)(e.p,{children:"可以满足以下的要求："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"默认导出为Vue插件；"}),"\n",(0,i.jsx)(e.li,{children:"每个组件可以单独导出。"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"当然，利用 Vite 还有更复杂的自动按需加载方案，这个计划我们后续放在单独章节介绍。"}),"\n",(0,i.jsx)(e.p,{children:"首先设计一个入口，包含两个功能："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"导出全部组件；"}),"\n",(0,i.jsx)(e.li,{children:"实现一个 Vue 插件，插件中编写 install 方法，将所有组件安装到 vue 实例中。"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"/src/entry.ts"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'import { App } from "vue";\nimport MyButton from "./button";\nimport SFCButton from "./SFCButton.vue";\nimport JSXButton from "./JSXButton";\n\n// 导出单独组件\nexport { MyButton, SFCButton, JSXButton };\n\n// 编写一个插件，实现一个install方法\n\nexport default {\n  install(app: App): void {\n    app.component(MyButton.name, MyButton);\n    app.component(SFCButton.name, SFCButton);\n    app.component(JSXButton.name, JSXButton);\n  },\n\n};\n'})}),"\n",(0,i.jsx)(e.p,{children:"默认 Vite 就是可以支持构建，使用 Vite 的 build 命令就可以打包输出。如果导出的是一个库文件的话，还需要配置【导出模块类型】并确定导出的文件名。配置如下:"}),"\n",(0,i.jsx)(e.p,{children:"vite.config.ts"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'const rollupOptions = {\n\n  external: ["vue", "vue-router"],\n  output: {\n    globals: {\n      vue: "Vue",\n    },\n  },\n};\n\nexport default defineConfig({\n\n  .....  \n\n  // 添加库模式配置\n\n  build: {\n    rollupOptions,\n    minify:false,\n    lib: {\n      entry: "./src/entry.ts",\n      name: "SmartyUI",\n      fileName: "smarty-ui",\n      // 导出模块格式\n      formats: ["esm", "umd","iife"],\n    },\n  },\n});\n'})}),"\n",(0,i.jsx)(e.p,{children:"接着添加一个 npm 运行脚本，方便运行。"}),"\n",(0,i.jsx)(e.p,{children:"package.json"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'  "scripts": {\n    "build": "vite build"\n  },\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pnpm build\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:c,alt:"img"})}),"\n",(0,i.jsx)(e.p,{children:"看到提示说明正常导出了。最后编写一个验证页面，测试一下打包结果是否正确。"}),"\n",(0,i.jsx)(e.p,{children:"验证的过程还是基于Vite。首先测试加载全部组件，引用构建完的 smarty-ui.esm.js 文件。"}),"\n",(0,i.jsx)(e.p,{children:"demo/esm/index.html"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'<h1>Demo</h1>\n<div id="app"></div>\n<script type="module">\n    import { createApp } from "vue/dist/vue.esm-bundler.js";\n    import SmartyUI, { SFCButton, JSXButton, MyButton } from "../../dist/smarty-ui.esm.js";\n\n    createApp({\n        template: `\n \xa0 \xa0 \xa0<SButton/>\n \xa0 \xa0 \xa0<JSXButton/>\n \xa0 \xa0 \xa0<SFCButton/>\n \xa0 \xa0`}).use(SmartyUI).mount(\'#app\')\n\n<\/script>\n'})}),"\n",(0,i.jsx)(e.p,{children:"然后是加载单独组件。"}),"\n",(0,i.jsx)(e.p,{children:"demo/esm/button.html"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'<h1>Demo</h1>\n<div id="app"></div>\n<script type="module">\n    import { createApp } from "vue/dist/vue.esm-bundler.js";\n    import SmartyUI, {\n        SFCButton,\n        JSXButton,\n        MyButton,\n    } from "../../dist/smarty-ui.esm.js";\n\n    createApp({\n        template: `\n<SButton/>\n<JSXButton/>\n<SFCButton/>\n`,\n    })\n        .component(SFCButton.name, SFCButton)\n        .component(JSXButton.name, JSXButton)\n        .component(MyButton.name, MyButton)\n        .mount("#app");\n<\/script>\n'})}),"\n",(0,i.jsx)(e.p,{children:"启动 vite"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pnpm dev\n"})}),"\n",(0,i.jsxs)(e.p,{children:["访问url： ",(0,i.jsx)(e.a,{href:"http://localhost:5173/demo/esm/index.html",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:5173/demo/esm/index.html"})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:l,alt:"image.png"})}),"\n",(0,i.jsx)(e.p,{children:"最后验证结果，证明 MVP 已经完成，虽然还很初级。"}),"\n",(0,i.jsxs)(e.p,{children:["本章节参考代码： ",(0,i.jsx)(e.a,{href:"https://github.com/smarty-team/smarty-admin/tree/chapter02",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/smarty-team/smarty-admin/tree/chapter02"})]}),"\n",(0,i.jsxs)(e.h2,{id:"复盘",children:["复盘",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#复盘",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"这节课是组件库开发的第一天，旨在搭建一个最小可用系统，了解如何使用 Vite 编写组件库。目前，这个工程可以实现组件库的【编写】、【调试】、【封装】的整个闭环。"}),"\n",(0,i.jsx)(e.p,{children:"最后留一些思考题帮助大家复习，也欢迎大家在评论区讨论。"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"如何使用Vite 从零搭建 Vue 开发环境 ？"}),"\n",(0,i.jsx)(e.li,{children:"如何让 Vite 支持 SFC 与 JSX 语法 ？"}),"\n",(0,i.jsx)(e.li,{children:"组件库的封装形态是什么样子 ？"}),"\n",(0,i.jsx)(e.li,{children:"如何使用 Vite 完成库文件的构建 ？"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"下节课，我们将给组件添加上五彩斑斓的颜色，下节课见。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:s,alt:"img"})})]})}function v(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(g,{...n})}):g(n)}let b=v;v.__RSPRESS_PAGE_META={},v.__RSPRESS_PAGE_META["%E5%9F%BA%E4%BA%8E%20Vite%20%E7%9A%84%E7%BB%84%E4%BB%B6%E5%BA%93%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%AE%9E%E6%88%98%2F2.MVP%E5%8E%9F%E5%9E%8B%E7%B3%BB%E7%BB%9F%EF%BC%9A%20%E5%B0%86%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E4%B8%BA%E7%BB%84%E4%BB%B6%E5%BA%93.md"]={toc:[{text:"用户故事(UserStory)：",id:"用户故事userstory",depth:2},{text:"功能实现",id:"功能实现",depth:2},{text:"Vite搭建开发环境",id:"vite搭建开发环境",depth:3},{text:"开发一个Vue组件",id:"开发一个vue组件",depth:3},{text:"库文件封装",id:"库文件封装",depth:3},{text:"复盘",id:"复盘",depth:2}],title:"2.MVP原型系统： 将组件封装为组件库",headingTitle:"2.MVP原型系统： 将组件封装为组件库",frontmatter:{}}}}]);