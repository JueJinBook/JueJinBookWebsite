"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["66471"],{439636:function(e,n,r){e.exports=r.p+"static/image/cacf208fd6fc8155c4478b5901230b79.71344aca.webp"},814217:function(e,n,r){r.r(n),r.d(n,{default:()=>a});var s=r(552676),t=r(740453),d=r(439636);function c(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",img:"img",ol:"ol",li:"li",code:"code",strong:"strong",pre:"pre"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"9总结--常见问题解答",children:["9.总结 & 常见问题解答",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#9总结--常见问题解答",children:"#"})]}),"\n",(0,s.jsxs)(n.h2,{id:"总结",children:["总结",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"在本小册的第一节中，笔者对 Vue.js 内部运行机制做了一个全局的概览，当时通过下面这张图把 Vue.js 拆分成一个一个小模块来介绍，之后通过这一系列小节的学习，相信大家已经对 Vue.js 内部的原理有了一个更进一步的了解，对这张图也再也不会感觉到那么陌生。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:d,alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["每个小节中的代码都是笔者根据 Vue.js 原理单独抽离出来写成的 Demo，大家可以在我的 ",(0,s.jsx)(n.a,{href:"https://github.com/answershuto",target:"_blank",rel:"noopener noreferrer",children:"Gtihub"})," 上查看完整的代码 (见 ",(0,s.jsx)(n.a,{href:"https://github.com/answershuto/VueDemo",target:"_blank",rel:"noopener noreferrer",children:"VueDemo"})," 项目)。"]}),"\n",(0,s.jsx)(n.p,{children:"本小册对 Vue.js 原理进行了初步的介绍，希望能够起到一个抛砖引玉的作用，读者读完以后，可以利用这些基础对 Vue.js 进行一个更加深入的探索，相信会有更大的收获。"}),"\n",(0,s.jsxs)(n.h2,{id:"常见问题",children:["常见问题",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常见问题",children:"#"})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["怎么实现 ",(0,s.jsx)(n.code,{children:"this._test"})," 改变而不是 ",(0,s.jsx)(n.code,{children:"this._data.test"})," 改变触发更新？"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["答：其实这中间有一个",(0,s.jsx)(n.strong,{children:"代理"}),"的过程。"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"_proxy(options.data);\n\nfunction _proxy (data) {\n    const that = this;\n    Object.keys(data).forEach(key => {\n        Object.defineProperty(that, key, {\n            configurable: true,\n            enumerable: true,\n            get: function proxyGetter () {\n                return that._data[key];\n            },\n            set: function proxySetter (val) {\n                that._data[key] = val;\n            }\n        })\n    });\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["本质就是通过 ",(0,s.jsx)(n.code,{children:"Object.defineProperty"})," 使在访问 ",(0,s.jsx)(n.code,{children:"this"})," 上的某属性时从 ",(0,s.jsx)(n.code,{children:"this._data"})," 中读取（写入）。"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["能不能将依赖收集中讲到的 ",(0,s.jsx)(n.code,{children:"dep.addSub(Dep.target)"})," 改成 ",(0,s.jsx)(n.code,{children:"dep.addSub(new Watcher())"}),"呢？"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["为了便于读者理解这部分内容，我将代码做了简化，实际上一个 ",(0,s.jsx)(n.code,{children:"Watcher"})," 对象可能会在多个 ",(0,s.jsx)(n.code,{children:"Dep"})," 中，并不是每次 ",(0,s.jsx)(n.code,{children:"addSub"})," 都是一个新的 ",(0,s.jsx)(n.code,{children:"Watcher"})," 对象，需依赖 ",(0,s.jsx)(n.code,{children:"Dep.target"})," 进行收集（实际上 ",(0,s.jsx)(n.code,{children:"Dep.target"})," 也是通过 ",(0,s.jsx)(n.code,{children:"Watcher"})," 对象的 ",(0,s.jsx)(n.code,{children:"get"})," 方法调用 ",(0,s.jsx)(n.code,{children:"pushTarget"})," 将自身赋值给 ",(0,s.jsx)(n.code,{children:"Dep.target"}),"）。"]}),"\n",(0,s.jsxs)(n.h2,{id:"最后",children:["最后",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#最后",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"从 2017 年 12 月开始写这本小册到现在差不多 2 个月的时间，虽说之前写过类似的内容，但是将 Vue.js 源码抽离成一个一个 Demo 还是花了很多时间，对于这本小册也是前前后后改了好几次才让自己满意。"}),"\n",(0,s.jsxs)(n.p,{children:["因为读者的基础不一致，而小册的定位是偏向于对新手读者更加友好，所以我尽量用更加浅显易懂的方式去写这本小册的内容。希望大家可以通过这本小册初步掌握 Vue.js 的原理，掌握这些原理以后再去尝试阅读 ",(0,s.jsx)(n.a,{href:"https://github.com/vuejs/vue",target:"_blank",rel:"noopener noreferrer",children:"Vue.js 源码"}),"，相信会事半功倍，也会对 Vue.js 有更深一层的理解。"]}),"\n",(0,s.jsx)(n.p,{children:"End"})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}let a=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["%E5%89%96%E6%9E%90%20Vue.js%20%E5%86%85%E9%83%A8%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%2F9.%E6%80%BB%E7%BB%93%20%26%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94.md"]={toc:[{text:"总结",id:"总结",depth:2},{text:"常见问题",id:"常见问题",depth:2},{text:"最后",id:"最后",depth:2}],title:"9.总结 & 常见问题解答",headingTitle:"9.总结 & 常见问题解答",frontmatter:{}}}}]);