"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["5975"],{121201:function(e,i,s){s.r(i),s.d(i,{default:()=>L});var c=s(552676),a=s(740453);let n=s.p+"static/image/e8c022faff323c2ff89a9e78ff75aa4a.bfbedf88.webp",p=s.p+"static/image/5ad0198464688db93fb01771aade4f7a.d81259cf.webp",r=s.p+"static/image/c6c23f70f14b08df1a4a87b0d42cf009.916b7859.webp",d=s.p+"static/image/0f9d9ccb550446c98ce5024bb7ea2980.faeed04f.webp",l=s.p+"static/image/e55b8cc9e3f5097a2e3e5913bd00ce5d.fd29de68.webp",t=s.p+"static/image/63beee38ba602fbcc51266c4122cbcac.6f8cc09a.webp",A=s.p+"static/image/01a030cb2867cbb169b27b182955fb9c.dc1354c3.webp",b=s.p+"static/image/4a5439d8745522fbe0e93d0facfae793.ec41067e.webp",x=s.p+"static/image/deea25394b20401f110ab901c316a79a.78fcde7f.webp",j=s.p+"static/image/daef30be51ace1650cdf912bc042b62a.490b4d09.webp",h=s.p+"static/image/62e13b9035e7a065f1027c66deabb85e.12b3885a.webp",f=s.p+"static/image/ecef8f55e65a5a083d9bf0b6ac77dddf.094752ff.webp",m=s.p+"static/image/68097b5f0c8329ccab02099e95e3d70a.c021fe4b.webp",g=s.p+"static/image/3f8c4e71d37571b8da74c409ef31b7fc.cfbb4213.webp",P=s.p+"static/image/7c8b3523cdb9d202c727bc2761f262b6.3b79007d.webp",u=s.p+"static/image/0710d52044338294f4738578c6938568.45fdb7df.webp",w=s.p+"static/image/f258b5278cab497d78e6a13e0b0220c1.c470c5c9.webp",U=s.p+"static/image/90bc97211f24a37330b7600c8c0ec0c4.2dd22d0b.webp",o=s.p+"static/image/4f123eb9e228fd0bc59bf044225e6e9d.eb65d272.webp",H=s.p+"static/image/832d965248e3bf91dfc6a4b3dba17551.88ea4a9b.webp",S=s.p+"static/image/ce70c54d77ac60f549f5a77cac2648b9.5c276698.webp",v=s.p+"static/image/44e3f95b9bfc4ef3c7731eccdae372b5.2a86787a.webp",Q=s.p+"static/image/e46e0c7a2f645929c3d4d5e9d9a3ec3a.ed6bb1b5.webp",R=s.p+"static/image/0d35bc9668de36f78bfe6fa68de4cdb7.96ec0646.webp",k=s.p+"static/image/890f5959543f1b8984a43c2b065c7b62.582ba49f.webp",q=s.p+"static/image/f86444808e444170bab76cf0d952b26b.5f7ec4ea.webp",z=s.p+"static/image/61fdf60c0d21fa27c112f6c5edf3884f.b9e56a66.webp",M=s.p+"static/image/7ddee8f3ab1cefd9e9405cf5edaaf36c.26e841e6.webp",D=s.p+"static/image/4385cd5e7d3f092f582fbec3b966e6e6.c2196c95.webp",B=s.p+"static/image/de113540deafd0e7e6e080488b07cbdf.f3d7c944.webp",X=s.p+"static/image/fdb2bdcbe4e77948ab471d7d2b726ea0.925b0fb9.webp",I=s.p+"static/image/e5f0742815e5a7c5d5c2dfd0a779510d.c18042ec.webp",C=s.p+"static/image/d027f619abc0a6060c626c42ef5d0f70.c7c9dbdd.webp",O=s.p+"static/image/228d8361d2b08fb00ff5803167a5820c.37ba07f2.webp",E=s.p+"static/image/2a2c68f8385f7cb4633de5a66e478e3e.49fc5767.webp",W=s.p+"static/image/a3c13aa023c90171992a57b36cce4028.56d6ebba.webp",Y=s.p+"static/image/2ddba415edf7dbaed41b08b53a8d5a9c.bbf2474c.webp",J=s.p+"static/image/f9429962a459b380c07e25acac920b8b.3556a995.webp",V=s.p+"static/image/31238edb4494d9085800e4ed9c80d95f.c068103d.webp",N=s.p+"static/image/8dab3f0fd68e2beb820e720c44515822.72287775.webp",G=s.p+"static/image/fedb03bf2fb1422bea02d82b43047ff9.a0f632d3.webp";function K(e){let i=Object.assign({h1:"h1",a:"a",p:"p",img:"img",ul:"ul",li:"li",pre:"pre",code:"code",h2:"h2"},(0,a.ah)(),e.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(i.h1,{id:"20-内置-pipe-和自定义-pipe",children:["20. 内置 Pipe 和自定义 Pipe",(0,c.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#20-内置-pipe-和自定义-pipe",children:"#"})]}),"\n",(0,c.jsx)(i.p,{children:"Pipe 是在参数传给 handler 之前对参数做一些验证和转换的 class，"}),"\n",(0,c.jsx)(i.p,{children:"对应的源码如下："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:G,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"对每个参数都会应用 pipe："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:N,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"内置的 Pipe 有这些："}),"\n",(0,c.jsxs)(i.ul,{children:["\n",(0,c.jsx)(i.li,{children:"ValidationPipe"}),"\n",(0,c.jsx)(i.li,{children:"ParseIntPipe"}),"\n",(0,c.jsx)(i.li,{children:"ParseBoolPipe"}),"\n",(0,c.jsx)(i.li,{children:"ParseArrayPipe"}),"\n",(0,c.jsx)(i.li,{children:"ParseUUIDPipe"}),"\n",(0,c.jsx)(i.li,{children:"DefaultValuePipe"}),"\n",(0,c.jsx)(i.li,{children:"ParseEnumPipe"}),"\n",(0,c.jsx)(i.li,{children:"ParseFloatPipe"}),"\n",(0,c.jsx)(i.li,{children:"ParseFilePipe"}),"\n"]}),"\n",(0,c.jsx)(i.p,{children:"它们都实现了 PipeTransform 接口："}),"\n",(0,c.jsx)(i.p,{children:"比如 ParseIntPipe 的源码是这样的："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:V,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"我们分别来试下内置的 Pipe 的功能吧。"}),"\n",(0,c.jsx)(i.p,{children:"创建个项目："}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{children:"nest new pipe-test -p npm\n"})}),"\n",(0,c.jsx)(i.p,{children:"参数默认是 string 类型："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:J,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"我们可以通过 Pipe 把它转为整数："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:Y,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"效果如下："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,c.jsx)(i.p,{children:"当你传入的参数不能 parse 为 int 时，会返回这样的响应："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:W,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"这个也是可以修改的，但要使用 new XxxPipe 的方式："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:E,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"比如我指定错误时的状态码为 404。"}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:O,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"就会返回这样的响应。"}),"\n",(0,c.jsx)(i.p,{children:"此外，你还可以自己抛一个异常出来，然后让 exception filter 处理："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:C,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"可以看到，状态码和 message 都改了："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:I,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"你也可以加个 @UseFilters 来使用自己的 exception filter 处理。"}),"\n",(0,c.jsx)(i.p,{children:"ParseFloatPipe 是把参数转换为 float 类型的。"}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:X,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,c.jsx)(i.p,{children:"它也同样可以 new ParseFloatPipe 的形式，传入 errorHttpStatusCode 和 exceptionFactory。"}),"\n",(0,c.jsx)(i.p,{children:"剩下这些与 parse 有关的 pipe 我们都试一下："}),"\n",(0,c.jsx)(i.p,{children:"ParseBoolPipe："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:B,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:D,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"ParseArrayPipe："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:M,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"这时会提示需要 class-validator 这个包："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:z,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"这是可以用装饰器和非装饰器两种方式对 class 属性做验证的库"}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:q,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"还会提示需要 class-transformer 这个包："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:k,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"它是把普通对象转换为对应的 class 实例的包："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:R,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:Q,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"后面我们也会用到这俩包。"}),"\n",(0,c.jsx)(i.p,{children:"安装这俩包："}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{children:"npm install -D class-validator class-transformer\n"})}),"\n",(0,c.jsx)(i.p,{children:"然后访问下："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:v,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"你会发现它确实把每一项都提取出来了，但是没有转为 number。"}),"\n",(0,c.jsx)(i.p,{children:"这时候就需要用 new XxxPipe 的方式传入参数了："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:S,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"指定 item 的类型。"}),"\n",(0,c.jsx)(i.p,{children:"这样就把数组每一项处理为 number 了。"}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,c.jsx)(i.p,{children:"此外，你还可以指定分隔符："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:H,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:o,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"当没有传参数的时候会报错："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:U,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"可以把它设置为 optional："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:w,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,c.jsx)(i.p,{children:"然后是 ParseEnumPipe："}),"\n",(0,c.jsx)(i.p,{children:"假设我们有这样一个枚举："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,c.jsx)(i.p,{children:"就可以用 ParseEnumPipe 来取："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:u,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,c.jsx)(i.p,{children:"有同学说，这不是多此一举么，本来 @Param 也能把它取出来呀。"}),"\n",(0,c.jsx)(i.p,{children:"ParseEnumPipe 还是有用的："}),"\n",(0,c.jsx)(i.p,{children:"第一个是可以限制参数的取值范围："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:P,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"如果参数值不是枚举里的，就会报错。"}),"\n",(0,c.jsx)(i.p,{children:"这个错误自然也可以通过 errorHttpStatusCode 和 exceptionFactory 来定制。"}),"\n",(0,c.jsx)(i.p,{children:"第二个是帮你转换类型："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:g,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"这里拿到的就直接是枚举类型了，如果有个方法的参数是这样的枚举类型，就可以直接传入。"}),"\n",(0,c.jsx)(i.p,{children:"接下来是 ParseUUIDPipe："}),"\n",(0,c.jsx)(i.p,{children:"UUID 是一种随机生成的几乎不可能重复的字符串，可以用来做 id。"}),"\n",(0,c.jsx)(i.p,{children:"它有 v3、v4、v5 3 个版本，我们用 uuid 包可以生成这种 id："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:m,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"在参数里，可以用 ParseUUIDPipe 来校验是否是 UUID："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:f,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"如果不是 uuid 会抛异常："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:h,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:j,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"接下来是 DefaultValuePipe："}),"\n",(0,c.jsx)(i.p,{children:"这个是设置参数默认值的："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:x,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"当你没传参数的时候，会使用默认值："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:b,alt:""})}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,c.jsx)(i.p,{children:"它的源码也很简单："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:A,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"还剩下 ValidationPipe 和 ParseFilePipe，这个我们之后再讲。"}),"\n",(0,c.jsx)(i.p,{children:"接下来我们自己实现个 Pipe 试一下："}),"\n",(0,c.jsx)(i.pre,{children:(0,c.jsx)(i.code,{children:"nest g pipe aaa --flat --no-spec\n"})}),"\n",(0,c.jsx)(i.p,{children:"生成一个 pipe，打印下参数值，返回 aaa："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:t,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"在 handler 里用下："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:l,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"浏览器访问这个接口："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:d,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"返回的值是 aaaaaa，也就是说 pipe 的返回值就是传给 handler 的参数值。"}),"\n",(0,c.jsx)(i.p,{children:"打印的 value 就是 query、param 的值，而 metadata 里包含 type、metatype、data："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:r,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"type 就是 @Query、@Param、@Body 装饰器，或者自定义装饰器："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:p,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"而 metatype 是参数的 ts 类型："}),"\n",(0,c.jsx)(i.p,{children:(0,c.jsx)("img",{src:n,alt:""})}),"\n",(0,c.jsx)(i.p,{children:"data 是传给 @Query、@Param、@Body 等装饰器的参数。"}),"\n",(0,c.jsx)(i.p,{children:"有了这些东西，做一下验证，抛出异常给 exception filter 处理，或者对 value 做些转换再传给 handler 就都是很简单的事情了。"}),"\n",(0,c.jsxs)(i.p,{children:["案例代码在",(0,c.jsx)(i.a,{href:"https://github.com/QuarkGluonPlasma/nestjs-course-code/tree/main/pipe-test",target:"_blank",rel:"noopener noreferrer",children:"小册仓库"}),"。"]}),"\n",(0,c.jsxs)(i.h2,{id:"总结",children:["总结",(0,c.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,c.jsx)(i.p,{children:"Pipe 是在参数传给 handler 之前做一些验证和转换的，有 9 个内置的 Pipe 可以直接用。"}),"\n",(0,c.jsx)(i.p,{children:"我们过了一遍内置的 ParseIntPipe、ParseBoolPipe、ParseArrayPipe、ParseUUIDPipe、ParseEnumPipe、ParseFloatPipe 还有 DefaultValuePipe。"}),"\n",(0,c.jsx)(i.p,{children:"剩下的 ValidationPipe 和 ParseFilePipe 之后的章节讲。"}),"\n",(0,c.jsx)(i.p,{children:"自己写一个 pipe 也很简单，就是实现 PipeTransform 接口的 transform 方法，它的返回值就是传给 handler 的值。"}),"\n",(0,c.jsx)(i.p,{children:"在 pipe 里可以拿到装饰器和 handler 参数的各种信息，基于这些来实现校验和转换就是很简单的事情了。"})]})}function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,a.ah)(),e.components);return i?(0,c.jsx)(i,{...e,children:(0,c.jsx)(K,{...e})}):K(e)}let L=F;F.__RSPRESS_PAGE_META={},F.__RSPRESS_PAGE_META["Nest%20%E9%80%9A%E5%85%B3%E7%A7%98%E7%B1%8D%20%20%E6%9C%80%E6%96%B0200%E7%AB%A0%2F20.%20%E5%86%85%E7%BD%AE%20Pipe%20%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%20Pipe.md"]={toc:[{text:"总结",id:"总结",depth:2}],title:"20. 内置 Pipe 和自定义 Pipe",headingTitle:"20. 内置 Pipe 和自定义 Pipe",frontmatter:{}}}}]);