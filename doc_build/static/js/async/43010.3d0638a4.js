"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["43010"],{439894:function(e,n,r){r.r(n),r.d(n,{default:()=>g});var s=r(552676),i=r(740453);let a=r.p+"static/image/4f3227c97cd34c7c680b4745010445f1.2fa9c392.webp",t=r.p+"static/image/5d1dcfcd608628279b06204137caed28.095593cd.webp",c=r.p+"static/image/c16292dd274f800b9d6c088cb3ae0f4d.93323265.webp",l=r.p+"static/image/6ea6777ed9275abe28ceec3a2746d5bf.7b78a849.webp",h=r.p+"static/image/c5072c3c2e786836923076901b0733ae.1601ac15.webp",d=r.p+"static/image/2d60c8ddc9521c3a8f79093304c8cb6f.d93aadd5.webp",o=r.p+"static/image/5c043d7a815580ec8e8cf69137e3fe7b.74c97328.webp",p=r.p+"static/image/5905da3a7ee4df312d03dc1c68a313cb.18f7b1cd.webp",j=r.p+"static/image/6661a193a0cfb0e81a89579363ca2f21.a51bf4f8.webp",x=r.p+"static/image/5346696f195e422cbebd3fa2520c0eea.3601f1c2.webp";function u(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",ol:"ol",li:"li",img:"img",code:"code",pre:"pre"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"57实战篇-_-博客-_-评论系统",children:["57.实战篇 _ 博客 _ 评论系统",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#57实战篇-_-博客-_-评论系统",children:"#"})]}),"\n",(0,s.jsxs)(n.h2,{id:"前言",children:["前言",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#前言",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"评论系统，一个说简单也简单，说复杂也复杂的系统。"}),"\n",(0,s.jsx)(n.p,{children:"往简单的说，搞个输入框，写个 API，数据存入数据库，展示时读取对应评论列表即可。"}),"\n",(0,s.jsx)(n.p,{children:"往复杂的说，评论的评论怎么处理？是否支持评论点赞？是否支持按赞数排序？是否支持评论置顶功能？评论框是否支持输入图片？是否支持表情？是否支持快捷键输入？是否支持 Markdown？Markdown 又细分是否支持公式、语法高亮等。此外，垃圾评论检测、XSS 防注入、后台人工审核、邮箱通知等等，想一想都是工作量。"}),"\n",(0,s.jsx)(n.p,{children:"所以虽然可以自己从头做，但有现成的还是用现成的吧。"}),"\n",(0,s.jsx)(n.p,{children:"但是现在评论系统相关的技术选项也是琳琅满目。且让我们做下调研："}),"\n",(0,s.jsxs)(n.h2,{id:"技术选型",children:["技术选型",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#技术选型",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"评论系统通常会涉及两部分，一部分是数据库，通常采用云端部署。一部分是前端展示，通常会提供客户端包方便引入使用。以下是评论系统常用的技术选型："}),"\n",(0,s.jsxs)(n.h3,{id:"1-waline",children:["1. Waline",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-waline",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://waline.js.org/",target:"_blank",rel:"noopener noreferrer",children:"Waline"}),"，一款简洁、安全的评论系统。"]}),"\n",(0,s.jsx)(n.p,{children:"服务端可免费部署到 Vercel，也提供了其他部署平台教程。客户端提供了 @waline/client，使用 Vue + TypeScript 编写，大小为 53kb gzip。支持 Markdown、表情包、插入图片等功能。也有安全相关的处理如内容校验、防灌水、保护敏感数据等。"}),"\n",(0,s.jsxs)(n.p,{children:["GitHub 地址（2k Star）：",(0,s.jsx)(n.a,{href:"https://github.com/walinejs/waline",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/walinejs/waline"}),"\n演示地址：",(0,s.jsx)(n.a,{href:"https://waline.js.org/",target:"_blank",rel:"noopener noreferrer",children:"https://waline.js.org/"})]}),"\n",(0,s.jsxs)(n.h3,{id:"2-twikoo",children:["2. Twikoo",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-twikoo",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://twikoo.js.org/",target:"_blank",rel:"noopener noreferrer",children:"Twikoo"}),"，一款简洁、安全、免费的网站评论系统。也分为云函数部署和前端部署，都提供了",(0,s.jsx)(n.a,{href:"https://twikoo.js.org/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:"教程"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:["GitHub 地址（1.3k Star）：",(0,s.jsx)(n.a,{href:"https://github.com/twikoojs/twikoo",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/twikoojs/twikoo"}),"\n演示地址：",(0,s.jsx)(n.a,{href:"https://twikoo.js.org/",target:"_blank",rel:"noopener noreferrer",children:"https://twikoo.js.org/"})]}),"\n",(0,s.jsx)(n.p,{children:"个人评价：功能弱于 Waline，满足基本的评论需求。"}),"\n",(0,s.jsxs)(n.h3,{id:"3-disqus",children:["3. Disqus",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-disqus",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://disqus.com/",target:"_blank",rel:"noopener noreferrer",children:"Disqus"}),"，国外老牌的评论系统，国内不能用，免费版有广告，于是诞生了很多 Disqus 的替代品。"]}),"\n",(0,s.jsx)(n.p,{children:"个人评价：国内还是用下边这个吧。"}),"\n",(0,s.jsxs)(n.h3,{id:"4-disqusjs",children:["4. DisqusJS",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-disqusjs",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/SukkaW/DisqusJS",target:"_blank",rel:"noopener noreferrer",children:"DisqusJS"})," 是一个基于 Disqus API 和 React 开发的 Embed 插件。DisqusJS 通过 Disqus API 渲染只读的评论列表，搭配反向代理可以实现在网络审查地区加载 Disqus 评论列表；支持自动检测访客是否能够访问 Disqus、并自动选择加载原生 Disqus（评论完整模式）或 DisqusJS 提供的评论基础模式。"]}),"\n",(0,s.jsxs)(n.p,{children:["GitHub 地址（0.6k Star）：",(0,s.jsx)(n.a,{href:"https://github.com/SukkaW/DisqusJS",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/SukkaW/DisqusJS"}),"\n演示地址：",(0,s.jsx)(n.a,{href:"https://disqusjs.skk.moe/",target:"_blank",rel:"noopener noreferrer",children:"https://disqusjs.skk.moe/"})]}),"\n",(0,s.jsx)(n.p,{children:"个人评价：可以用。还需要登陆 Disqus 做些配置、再使用 Vercel 做个 Disqus API。"}),"\n",(0,s.jsxs)(n.h3,{id:"5-chirpy",children:["5. chirpy",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-chirpy",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://chirpy.dev/",target:"_blank",rel:"noopener noreferrer",children:"Chirpy"}),"，是一个注重隐私保护和定制化的评论系统, 支持 vercel 部署。"]}),"\n",(0,s.jsxs)(n.p,{children:["GitHub 地址（0.5k Star）：",(0,s.jsx)(n.a,{href:"https://github.com/devrsi0n/chirpy",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/devrsi0n/chirpy"}),"\n演示地址：",(0,s.jsx)(n.a,{href:"https://chirpy.dev/play",target:"_blank",rel:"noopener noreferrer",children:"https://chirpy.dev/play"})]}),"\n",(0,s.jsx)(n.p,{children:"个人评价：样式不错，但免费版每月 1000 pageviews 上限，而且只支持一个项目，使得使用它太过于鸡肋。"}),"\n",(0,s.jsxs)(n.h3,{id:"6-cusdis",children:["6. Cusdis",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-cusdis",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://cusdis.com/",target:"_blank",rel:"noopener noreferrer",children:"Cusdis"}),"，轻量、保护隐私、开源的 Disqus 替代品。适用于小型网站。"]}),"\n",(0,s.jsxs)(n.p,{children:["GitHub 地址（2.6k Star）：",(0,s.jsx)(n.a,{href:"https://github.com/djyde/cusdis",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/djyde/cusdis"}),"\n演示地址：",(0,s.jsx)(n.a,{href:"https://cusdis.com/doc#/",target:"_blank",rel:"noopener noreferrer",children:"https://cusdis.com/doc#/"})]}),"\n",(0,s.jsxs)(n.h3,{id:"7-utterances",children:["7. utterances",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#7-utterances",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://utteranc.es/",target:"_blank",rel:"noopener noreferrer",children:"utterances"}),"，基于 Github Issues 的轻量评论组件。"]}),"\n",(0,s.jsxs)(n.p,{children:["GitHub 地址（8.7k Star）：",(0,s.jsx)(n.a,{href:"https://github.com/utterance/utterances",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/utterance/utterances"}),"\n演示地址：",(0,s.jsx)(n.a,{href:"https://utteranc.es/",target:"_blank",rel:"noopener noreferrer",children:"https://utteranc.es/"})]}),"\n",(0,s.jsx)(n.p,{children:"个人评价：老牌评论组件，但六七年没有更新了，也能用。"}),"\n",(0,s.jsxs)(n.h3,{id:"8-isso",children:["8. Isso",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#8-isso",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://isso-comments.de/",target:"_blank",rel:"noopener noreferrer",children:"Isso"}),"，使用 Python 和 JavaScript 编写的轻量评论服务端。"]}),"\n",(0,s.jsxs)(n.p,{children:["GitHub 地址（5k Star）：",(0,s.jsx)(n.a,{href:"https://isso-comments.de/",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(n.a,{href:"https://github.com/isso-comments/isso",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/isso-comments/isso"})}),"\n演示地址：",(0,s.jsx)(n.a,{href:"https://isso-comments.de/",target:"_blank",rel:"noopener noreferrer",children:"https://isso-comments.de/"})]}),"\n",(0,s.jsx)(n.p,{children:"那使用什么好呢？这肯定要看你的需求而定。"}),"\n",(0,s.jsx)(n.p,{children:"我个人选择 Waline，功能丰富、用的人多、GitHub 仓库更新比较频繁。有更好的建议欢迎评论区留言。"}),"\n",(0,s.jsxs)(n.h2,{id:"waline-使用",children:["Waline 使用",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#waline-使用",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["关于 Waline 如何使用，其实",(0,s.jsx)(n.a,{href:"https://waline.js.org/guide/get-started/",target:"_blank",rel:"noopener noreferrer",children:"官方文档"}),"已经给的很详细了。这里结合博客项目来重复一遍："]}),"\n",(0,s.jsxs)(n.h3,{id:"1-注册-leancloud数据库",children:["1. 注册 LeanCloud（数据库）",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-注册-leancloud数据库",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"LeanCloud 是一种 Serverless 云服务，提供了一站式的后端服务，如数据存储、即时通讯等等，简单的来说，比如我要实现一个数据存储功能，我只用在 LeanCloud 注册一个账号，获得对应的 App ID 和 App Key，然后调用提供的 API 即可进行数据存储。"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://console.leancloud.app/login",target:"_blank",rel:"noopener noreferrer",children:"登录"}),"或",(0,s.jsx)(n.a,{href:"https://console.leancloud.app/register",target:"_blank",rel:"noopener noreferrer",children:"注册"})," LeanCloud 国际版 并进入",(0,s.jsx)(n.a,{href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer",children:"控制台"})]}),"\n",(0,s.jsxs)(n.li,{children:["点击左上角",(0,s.jsx)(n.a,{href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer",children:"创建应用"}),"并起一个你喜欢的名字 (请选择免费的开发版)："]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:x,alt:"image.png"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["创建应用后，进入应用，点击左下角的设置 - 应用凭证，获取 ",(0,s.jsx)(n.code,{children:"AppID"}),"、",(0,s.jsx)(n.code,{children:"AppKey"}),"、",(0,s.jsx)(n.code,{children:"MasterKey"})," 等信息："]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:j,alt:"截屏2024-05-19 18.05.07.png"})}),"\n",(0,s.jsxs)(n.h3,{id:"2-vercel-部署服务端",children:["2. Vercel 部署（服务端）",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-vercel-部署服务端",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["Waline 提供了 ",(0,s.jsx)(n.a,{href:"https://vercel.com/new/yayus-projects/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample",target:"_blank",rel:"noopener noreferrer",children:"Vercel 模板"}),"，点击链接，进入部署界面，创建仓库并进行部署："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:p,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"部署成功后，进入应用的设置页面，设置环境变量："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:o,alt:"截屏2024-05-19 18.14.30.png"})}),"\n",(0,s.jsxs)(n.p,{children:["配置三个环境变量 ",(0,s.jsx)(n.code,{children:"LEAN_ID"}),", ",(0,s.jsx)(n.code,{children:"LEAN_KEY"})," 和 ",(0,s.jsx)(n.code,{children:"LEAN_MASTER_KEY"})," 。它们的值分别对应上一步在 ",(0,s.jsx)(n.code,{children:"LeanCloud"})," 中获得的 ",(0,s.jsx)(n.code,{children:"AppID"}),", ",(0,s.jsx)(n.code,{children:"AppKey"}),", ",(0,s.jsx)(n.code,{children:"MasterKey"}),"。"]}),"\n",(0,s.jsx)(n.p,{children:"然后重新部署（这步是为了让环境变量生效）："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:d,alt:"截屏2024-05-19 18.19.25.png"})}),"\n",(0,s.jsxs)(n.h3,{id:"3-配置自定义域名",children:["3. 配置自定义域名",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-配置自定义域名",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["参考小册",(0,s.jsx)(n.a,{href:"https://juejin.cn/book/7307859898316881957/section/7309114840307400714#heading-7",target:"_blank",rel:"noopener noreferrer",children:"《实战篇 | React Notes | Vercel 部署》"}),"的“自定义域名”和“国内访问”章节，为我们刚部署的项目添加一个自定义域名。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:h,alt:"截屏2024-05-19 18.29.02.png"})}),"\n",(0,s.jsxs)(n.p,{children:["配置成功后，访问 ",(0,s.jsx)(n.a,{href:"https://waline.yayujs.com/",target:"_blank",rel:"noopener noreferrer",children:"https://waline.yayujs.com/"})," 就可以查看评论前台界面："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:l,alt:"image.png"})}),"\n",(0,s.jsxs)(n.p,{children:["访问 ",(0,s.jsx)(n.a,{href:"https://waline.yayujs.com/ui",target:"_blank",rel:"noopener noreferrer",children:"https://waline.yayujs.com/ui"})," 就会进入评论管理后台："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:c,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"当然首次登录的时候，要注册 Waline 的账号和密码，并开启两步验证，提高安全性。完成后就可以成功进入后台。后台如上图所示，可以看到所有的评论信息，并可进行置顶、编辑、回复、删除等操作。"}),"\n",(0,s.jsxs)(n.h3,{id:"4-nextjs-应用客户端",children:["4. Next.js 应用（客户端）",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-nextjs-应用客户端",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Next.js 项目中又该如何使用呢？"}),"\n",(0,s.jsxs)(n.p,{children:["安装依赖项 ",(0,s.jsx)(n.code,{children:"@waline/client"}),"："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"npm i @waline/client\n"})}),"\n",(0,s.jsxs)(n.p,{children:["新建 ",(0,s.jsx)(n.code,{children:"components/Waline.js"}),"，代码如下："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"'use client'\n\nimport React, { useEffect, useRef } from 'react';\nimport { init } from '@waline/client';\n\nimport '@waline/client/style';\n\n const Waline = (props) => {\n  const walineInstanceRef = useRef(null);\n  const containerRef = React.createRef();\n\n  useEffect(() => {\n    walineInstanceRef.current = init({\n      ...props,\n      el: containerRef.current,\n    });\n\n    return () => walineInstanceRef.current?.destroy();\n  }, []);\n\n  useEffect(() => {\n    walineInstanceRef.current?.update(props);\n  }, [props]);\n\n  return <div ref={containerRef} />;\n};\n\nexport default Waline\n"})}),"\n",(0,s.jsxs)(n.p,{children:["新建 ",(0,s.jsx)(n.code,{children:"app/[lng]/posts/[id]/page.js"}),"，代码如下："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"// ...\nimport Waline from '@/components/Waline'\n\n// ...\nconst Page = ({ params }) => {\n  // ...\n  return (\n    <>\n      // ...\n      <article className=\"mx-auto max-w-xl py-8 prose prose-slate dark:prose-invert\">\n        // ...\n      </article>\n      <Waline el='#waline' serverURL=\"https://waline.yayujs.com/\" />\n    </>\n  )\n}\n\nexport default Page\n"})}),"\n",(0,s.jsx)(n.p,{children:"serverURL 设置为上步自定义配置的域名。"}),"\n",(0,s.jsx)(n.p,{children:"此时效果如下："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:t,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h3,{id:"5-自定义样式",children:["5. 自定义样式",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-自定义样式",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"评论框的样式该如何修改呢？就比如评论框的主题色是绿色，如果我想统一改为蓝色呢？"}),"\n",(0,s.jsxs)(n.p,{children:["Waline 提供了",(0,s.jsx)(n.a,{href:"https://waline.js.org/guide/features/style.html",target:"_blank",rel:"noopener noreferrer",children:"自定义样式"}),"的文档，我们可以通过修改 CSS 变量配置样式。我们以修改主题色为例："]}),"\n",(0,s.jsxs)(n.p,{children:["新建 ",(0,s.jsx)(n.code,{children:"components/Waline.css"}),"，代码如下："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:":root {\n  /* 主题色 */\n  --waline-theme-color: #42A5F5;\n  --waline-active-color: #1976D2;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["新建 ",(0,s.jsx)(n.code,{children:"next-blog/components/Waline.js"}),"，引入该样式表："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"'use client'\n\nimport React, { useEffect, useRef } from 'react';\nimport { init } from '@waline/client';\n\nimport '@waline/client/style';\nimport './Waline.css'\n\n// ...\n\nexport default Waline\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"此时效果如下："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:a,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h2,{id:"总结",children:["总结",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"我们的第二个实战项目就结束了，至于如何部署，可以参考第一个实战项目的部署篇，对三种常用的部署方式都有介绍。"}),"\n",(0,s.jsx)(n.p,{children:"你可能会好奇这个项目为什么没有数据库相关的内容，这是因为我们已经在第一个实战项目中讲解了 MySQL、Redis 的使用方式，所以没有再重复。在我看来，实战项目的意义一方面是熟悉技术，一方面是了解常见问题的解决方案。"}),"\n",(0,s.jsx)(n.p,{children:"如果说第一个实战项目 React Notes 的目的是为了让你熟悉 Next.js 的基本原理和常见的技术选型，那第二个实战项目则是以博客项目为例，侧重于解决内容型项目的常见问题：如何处理 MDX？如何进行 SEO 优化？如何支持深色模式？如何进行性能监控？如何接入评论系统等等？当然本篇小册对这些问题的处理并不能算是深入，实际开发中遇到的问题更为复杂，但至少能给你一个方向，节省一些时间，打下一些知识基础。"}),"\n",(0,s.jsx)(n.p,{children:"最后，如果你真的要做一个个人博客，还是建议优先用开源的改改，低成本的完成博客建设，将时间留给创作。博客项目更适合用于学习。这也算是我从过往重复建设博客的经历中总结的教训。这就是为什么项目的第一篇不是直接开始，而是教你如何找开源作品和修改。"})]})}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}let g=f;f.__RSPRESS_PAGE_META={},f.__RSPRESS_PAGE_META["Next.js%20%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97%2F57.%E5%AE%9E%E6%88%98%E7%AF%87%20_%20%E5%8D%9A%E5%AE%A2%20_%20%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F.md"]={toc:[{text:"前言",id:"前言",depth:2},{text:"技术选型",id:"技术选型",depth:2},{text:"1. Waline",id:"1-waline",depth:3},{text:"2. Twikoo",id:"2-twikoo",depth:3},{text:"3. Disqus",id:"3-disqus",depth:3},{text:"4. DisqusJS",id:"4-disqusjs",depth:3},{text:"5. chirpy",id:"5-chirpy",depth:3},{text:"6. Cusdis",id:"6-cusdis",depth:3},{text:"7. utterances",id:"7-utterances",depth:3},{text:"8. Isso",id:"8-isso",depth:3},{text:"Waline 使用",id:"waline-使用",depth:2},{text:"1. 注册 LeanCloud（数据库）",id:"1-注册-leancloud数据库",depth:3},{text:"2. Vercel 部署（服务端）",id:"2-vercel-部署服务端",depth:3},{text:"3. 配置自定义域名",id:"3-配置自定义域名",depth:3},{text:"4. Next.js 应用（客户端）",id:"4-nextjs-应用客户端",depth:3},{text:"5. 自定义样式",id:"5-自定义样式",depth:3},{text:"总结",id:"总结",depth:2}],title:"57.实战篇 _ 博客 _ 评论系统",headingTitle:"57.实战篇 _ 博客 _ 评论系统",frontmatter:{}}}}]);