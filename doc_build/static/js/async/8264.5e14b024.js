"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["8264"],{553137:function(e,d,i){i.r(d),i.d(d,{default:()=>l});var c=i(552676),s=i(740453);function n(e){let d=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",img:"img",h2:"h2",h3:"h3",ol:"ol",li:"li"},(0,s.ah)(),e.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d.h1,{id:"9进阶-6看看我都改了什么",children:["9进阶 6：看看我都改了什么",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#9进阶-6看看我都改了什么",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["之前的章节里，说到过 ",(0,c.jsx)(d.code,{children:"git log"})," 可以查看历史记录："]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git log\n"})}),"\n",(0,c.jsx)(d.p,{children:(0,c.jsx)(d.img,{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e2cc90e9?w=533&h=449&f=jpeg&s=134977",alt:""})}),"\n",(0,c.jsxs)(d.p,{children:["事实上，如果你希望看到更多细节，比如你想看看每条 ",(0,c.jsx)(d.code,{children:"commit"})," 具体都有那些改动，也是可以的。"]}),"\n",(0,c.jsxs)(d.h2,{id:"log--p-查看详细历史",children:["log -p 查看详细历史",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#log--p-查看详细历史",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:[(0,c.jsx)(d.code,{children:"-p"})," 是 ",(0,c.jsx)(d.code,{children:"--patch"})," 的缩写，通过 ",(0,c.jsx)(d.code,{children:"-p"})," 参数，你可以看到具体每个 ",(0,c.jsx)(d.code,{children:"commit"})," 的改动细节："]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git log -p\n"})}),"\n",(0,c.jsx)(d.p,{children:(0,c.jsx)(d.img,{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0dfd781e7?w=581&h=602&f=jpeg&s=163883",alt:""})}),"\n",(0,c.jsxs)(d.p,{children:[(0,c.jsx)(d.code,{children:"log -p"})," 可以看到每一个 ",(0,c.jsx)(d.code,{children:"commit"})," 的每一行改动，所以很适合用于代码 review。"]}),"\n",(0,c.jsxs)(d.h2,{id:"log---stat-查看简要统计",children:["log --stat 查看简要统计",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#log---stat-查看简要统计",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["如果你只想大致看一下改动内容，但并不想深入每一行的细节（例如你想回顾一下自己是在哪个 ",(0,c.jsx)(d.code,{children:"commit"})," 中修改了 ",(0,c.jsx)(d.code,{children:"games.txt"})," 文件），那么可以把选项换成 ",(0,c.jsx)(d.code,{children:"--stat"}),"。"]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git log --stat\n"})}),"\n",(0,c.jsx)(d.p,{children:(0,c.jsx)(d.img,{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e1ad48c7?w=539&h=512&f=jpeg&s=139383",alt:""})}),"\n",(0,c.jsxs)(d.h2,{id:"show-查看具体的-commit",children:["show 查看具体的 commit",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#show-查看具体的-commit",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["如果你想看某个具体的 ",(0,c.jsx)(d.code,{children:"commit"})," 的改动内容，可以用 ",(0,c.jsx)(d.code,{children:"show"}),"："]}),"\n",(0,c.jsxs)(d.h3,{id:"看当前-commit",children:["看当前 commit",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#看当前-commit",children:"#"})]}),"\n",(0,c.jsx)(d.p,{children:"直接输入："}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git show\n"})}),"\n",(0,c.jsx)(d.p,{children:(0,c.jsx)(d.img,{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e2b7738e?w=540&h=330&f=jpeg&s=78967",alt:""})}),"\n",(0,c.jsxs)(d.h3,{id:"看任意一个-commit",children:["看任意一个 commit",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#看任意一个-commit",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["在 ",(0,c.jsx)(d.code,{children:"show"})," 后面加上这个 ",(0,c.jsx)(d.code,{children:"commit"})," 的引用（",(0,c.jsx)(d.code,{children:"branch"})," 或 ",(0,c.jsx)(d.code,{children:"HEAD"})," 标记）或它的 ",(0,c.jsx)(d.code,{children:"SHA-1"})," 码："]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git show 5e68b0d8\n"})}),"\n",(0,c.jsx)(d.p,{children:(0,c.jsx)(d.img,{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e39c0b6b?w=434&h=388&f=jpeg&s=100518",alt:""})}),"\n",(0,c.jsxs)(d.h3,{id:"看指定-commit-中的指定文件",children:["看指定 commit 中的指定文件",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#看指定-commit-中的指定文件",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["在 ",(0,c.jsx)(d.code,{children:"commit"})," 的引用或 ",(0,c.jsx)(d.code,{children:"SHA-1"})," 后输入文件名："]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git show 5e68b0d8 shopping\\ list.txt\n"})}),"\n",(0,c.jsxs)(d.h2,{id:"看未提交的内容",children:["看未提交的内容",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#看未提交的内容",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["如果你想看未提交的内容，可以用 ",(0,c.jsx)(d.code,{children:"diff"}),"。"]}),"\n",(0,c.jsxs)(d.h3,{id:"比对暂存区和上一条提交",children:["比对暂存区和上一条提交",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#比对暂存区和上一条提交",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["使用 ",(0,c.jsx)(d.code,{children:"git diff --staged"})," 可以显示暂存区和上一条提交之间的不同。换句话说，这条指令可以让你看到「如果你立即输入 ",(0,c.jsx)(d.code,{children:"git commit"}),"，你将会提交什么」："]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git diff --staged\n"})}),"\n",(0,c.jsxs)(d.p,{children:[(0,c.jsx)(d.code,{children:"--staged"})," 有一个等价的选项叫做 ",(0,c.jsx)(d.code,{children:"--cached"}),"。这里所谓的「等价」，是真真正正的等价，它们的意思完全相同。"]}),"\n",(0,c.jsxs)(d.h3,{id:"比对工作目录和暂存区",children:["比对工作目录和暂存区",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#比对工作目录和暂存区",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["使用 ",(0,c.jsx)(d.code,{children:"git diff"})," （不加选项参数）可以显示工作目录和暂存区之间的不同。换句话说，这条指令可以让你看到「如果你现在把所有文件都 ",(0,c.jsx)(d.code,{children:"add"}),"，你会向暂存区中增加哪些内容」："]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git diff\n"})}),"\n",(0,c.jsxs)(d.h3,{id:"比对工作目录和上一条提交",children:["比对工作目录和上一条提交",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#比对工作目录和上一条提交",children:"#"})]}),"\n",(0,c.jsxs)(d.p,{children:["使用 ",(0,c.jsx)(d.code,{children:"git diff HEAD"})," 可以显示工作目录和上一条提交之间的不同，它是上面这二者的内容相加。换句话说，这条指令可以让你看到「如果你现在把所有文件都 ",(0,c.jsx)(d.code,{children:"add"})," 然后 ",(0,c.jsx)(d.code,{children:"git commit"}),"，你将会提交什么」（不过需要注意，没有被 Git 记录在案的文件（即从来没有被 add 过 的文件，untracked files 并不会显示出来。为什么？因为对 Git 来说它并不存在啊）。"]}),"\n",(0,c.jsx)(d.pre,{children:(0,c.jsx)(d.code,{className:"language-shell",children:"git diff HEAD\n"})}),"\n",(0,c.jsxs)(d.p,{children:["实质上，如果你把 ",(0,c.jsx)(d.code,{children:"HEAD"})," 换成别的 ",(0,c.jsx)(d.code,{children:"commit"}),"，也可以显示当前工作目录和这条 ",(0,c.jsx)(d.code,{children:"commit"})," 的区别。不过这种「如果」是可以列举很多很多的，Git 非常灵活，假如我把每个命令的所有可能性都列举出来，这本小册会变得杂乱无比没有重点，反而会让你困惑。所以我只讲最常用和最通用的内容，如果你对这些「如果」感兴趣，最好是自己去探索。"]}),"\n",(0,c.jsxs)(d.h2,{id:"小结",children:["小结",(0,c.jsx)(d.a,{className:"header-anchor","aria-hidden":"true",href:"#小结",children:"#"})]}),"\n",(0,c.jsx)(d.p,{children:"这一节介绍了一些查看改动内容的方法，大致有这么几类："}),"\n",(0,c.jsxs)(d.ol,{children:["\n",(0,c.jsxs)(d.li,{children:["查看历史中的多个 ",(0,c.jsx)(d.code,{children:"commit"}),"：",(0,c.jsx)(d.code,{children:"log"}),"\n",(0,c.jsxs)(d.ol,{children:["\n",(0,c.jsxs)(d.li,{children:["查看详细改动： ",(0,c.jsx)(d.code,{children:"git log -p"})]}),"\n",(0,c.jsxs)(d.li,{children:["查看大致改动：",(0,c.jsx)(d.code,{children:"git log --stat"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(d.li,{children:["查看具体某个 ",(0,c.jsx)(d.code,{children:"commit"}),"：",(0,c.jsx)(d.code,{children:"show"}),"\n",(0,c.jsxs)(d.ol,{children:["\n",(0,c.jsxs)(d.li,{children:["要看最新 ",(0,c.jsx)(d.code,{children:"commit"})," ，直接输入 ",(0,c.jsx)(d.code,{children:"git show"})," ；要看指定 ",(0,c.jsx)(d.code,{children:"commit"})," ，输入 ",(0,c.jsx)(d.code,{children:"git show commit的引用或SHA-1"})]}),"\n",(0,c.jsxs)(d.li,{children:["如果还要指定文件，在 ",(0,c.jsx)(d.code,{children:"git show"})," 的最后加上文件名"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(d.li,{children:["查看未提交的内容：",(0,c.jsx)(d.code,{children:"diff"}),"\n",(0,c.jsxs)(d.ol,{children:["\n",(0,c.jsxs)(d.li,{children:["查看暂存区和上一条 ",(0,c.jsx)(d.code,{children:"commit"})," 的区别：",(0,c.jsx)(d.code,{children:"git diff --staged"}),"（或 ",(0,c.jsx)(d.code,{children:"--cached"}),"）"]}),"\n",(0,c.jsxs)(d.li,{children:["查看工作目录和暂存区的区别：",(0,c.jsx)(d.code,{children:"git diff"})," 不加选项参数"]}),"\n",(0,c.jsxs)(d.li,{children:["查看工作目录和上一条 ",(0,c.jsx)(d.code,{children:"commit"})," 的区别：",(0,c.jsx)(d.code,{children:"git diff HEAD"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:d}=Object.assign({},(0,s.ah)(),e.components);return d?(0,c.jsx)(d,{...e,children:(0,c.jsx)(n,{...e})}):n(e)}let l=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["Git%20%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3%E5%8F%8A%E5%AE%9E%E7%94%A8%E6%8C%87%E5%8D%97%2F9%E8%BF%9B%E9%98%B6%206%EF%BC%9A%E7%9C%8B%E7%9C%8B%E6%88%91%E9%83%BD%E6%94%B9%E4%BA%86%E4%BB%80%E4%B9%88.md"]={toc:[{text:"log -p 查看详细历史",id:"log--p-查看详细历史",depth:2},{text:"log --stat 查看简要统计",id:"log---stat-查看简要统计",depth:2},{text:"show 查看具体的 commit",id:"show-查看具体的-commit",depth:2},{text:"看当前 commit",id:"看当前-commit",depth:3},{text:"看任意一个 commit",id:"看任意一个-commit",depth:3},{text:"看指定 commit 中的指定文件",id:"看指定-commit-中的指定文件",depth:3},{text:"看未提交的内容",id:"看未提交的内容",depth:2},{text:"比对暂存区和上一条提交",id:"比对暂存区和上一条提交",depth:3},{text:"比对工作目录和暂存区",id:"比对工作目录和暂存区",depth:3},{text:"比对工作目录和上一条提交",id:"比对工作目录和上一条提交",depth:3},{text:"小结",id:"小结",depth:2}],title:"9进阶 6：看看我都改了什么",headingTitle:"9进阶 6：看看我都改了什么",frontmatter:{}}}}]);