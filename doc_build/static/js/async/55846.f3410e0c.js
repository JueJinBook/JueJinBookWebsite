"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["55846"],{145943:function(n,e,r){r.r(e),r.d(e,{default:()=>p});var s=r(552676),i=r(740453);let a=r.p+"static/image/26f6de6a121e4ed50e7bbcf48ca15a4e.2826e0c1.webp",d=r.p+"static/image/955f1f3df9d6c801edce440b32db3259.dc3f42df.webp",l=r.p+"static/image/287571c9f5b444034443cbbbc32d0433.2d67c916.webp",c=r.p+"static/image/551f6d8f8ad931b1fb0bc9367c78dcea.025a473e.webp",t=r.p+"static/image/ccb3b694a49e2df2401e43a1574895e4.2a20c1c5.webp",x=r.p+"static/image/9520f100f2d0bfb617735931d4896d3c.f421b801.webp",h=r.p+"static/image/c35bc0105065556374a3fddada9cc117.d5bf0e07.webp",A=r.p+"static/image/8002ecc8d498024d499ac7ca1fd0464a.e79e3685.webp",j=r.p+"static/image/573fc4041cb29f5b20d8958b2343ebb7.ab31f7d6.webp";function o(n){let e=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",blockquote:"blockquote",img:"img",h4:"h4",pre:"pre",code:"code"},(0,i.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.h1,{id:"26深入研究-----数学库在-css-的-3d-动画中扮演的重要角色",children:["26.深入研究 --- 数学库在 CSS 的 3D 动画中扮演的重要角色",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#26深入研究-----数学库在-css-的-3d-动画中扮演的重要角色",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"前面两节，我们详细讲述了CSS 3D 属性的相关概念与使用方法，本节我们看一下 3D 数学库如何与 CSS 中的 tranform 属性实现复杂的 3D 效果。"}),"\n",(0,s.jsx)(e.p,{children:"我们依然从最简单的平移、旋转、缩放开始演示，但是不再使用 translate、scale、rotate 等属性来实现，而是采用 matrix 和 matrix3d。"}),"\n",(0,s.jsxs)(e.h2,{id:"matrix-和-matrix3d",children:["matrix 和 matrix3d",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#matrix-和-matrix3d",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"作为 transform 属性最冷门的两个属性值，我想大家很少有人会用到它们，或者不知道它们是做什么的，以及不知道该如何使用它们。"}),"\n",(0,s.jsx)(e.p,{children:"上一节我简单介绍了 matrix 和 matrix3d  的使用方法，本节我会详细介绍一下它们。"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"matrix 和 matrix3d 的作用。"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"它们的使用方法。"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"属性值的生成方式。"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"matrix",children:["matrix",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#matrix",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"matrix 是 transform 的 2 维变换矩阵，由六个数字组成。"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"transform: matrix(a, b, c, d, e, f);"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"事实上，二维变换矩阵是一个 3 阶矩阵，包含 3 x 3 = 9 个数字，但是你会发现 matrix 是由 6 个数字组成，它们对应一个 3 阶矩阵的如下部分："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,s.jsx)(e.p,{children:"很容易理解，由于第三行的数字始终是固定的，所以 css 规范中把第三行给省略了，matrix 只需要接收前两行数字即可。"}),"\n",(0,s.jsx)(e.p,{children:"对于基本变换，matrix 各个元素表示如下："}),"\n",(0,s.jsxs)(e.h4,{id:"平移",children:["平移",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#平移",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:j,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"如果 matrix 只表示平移时，只需要改变 tx 和 ty 即可，其中 tx 代表沿着 X 轴平移的像素值，ty 代表沿着 Y 轴平移的像素值。其余元素都是固定值，仅仅改变 tx 和 ty即可。"}),"\n",(0,s.jsx)(e.p,{children:"比如，让一个 dom 元素沿着 X 轴平移 30 像素，沿着 Y 轴平移 40 像素，那么，用 matrix 表示如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix(1, 0, 0, 1, 30, 40);\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["注意，",(0,s.jsx)(e.code,{children:"tx"})," 和 ",(0,s.jsx)(e.code,{children:"ty"})," 只能用数字表示，后面不可接 ",(0,s.jsx)(e.code,{children:"px"})," 。"]}),"\n"]}),"\n",(0,s.jsxs)(e.h4,{id:"缩放",children:["缩放",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#缩放",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"单一矩阵表示缩放时，各个位置的元素如下："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:A,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"其中 sx 代表 X 轴方向的缩放比例，sy 代表 Y 轴方向的缩放比例，其余位置的元素都是固定的。\n比如，沿着 X 轴放大两倍，沿着 Y 轴放大两倍时，css 表示如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix(2, 0, 0, 0, 2, 0, 0, 0, 1);\n"})}),"\n",(0,s.jsx)(e.p,{children:"等价于"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: scale(2);\ntransform: scale(2, 2);\n"})}),"\n",(0,s.jsx)(e.p,{children:"当我们想通过 matrix 设置缩放比例时，只需要改变 sx、sy 即可。"}),"\n",(0,s.jsxs)(e.h4,{id:"旋转",children:["旋转",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#旋转",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"单一矩阵表示旋转时，各个位置元素表示如下："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:h,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"由于 2D 旋转是在 XY 平面的旋转，也就是绕 Z 轴的旋转，所以 θ 角度是绕 Z 轴旋转的角度。\n比如旋转 45 度时："}),"\n",(0,s.jsx)(e.p,{children:"$\ncos45^。 = \\frac{\\sqrt{2}}{2} \\approx 0.7071\n$"}),"\n",(0,s.jsx)(e.p,{children:"$\nsin45^。 = \\frac{\\sqrt{2}}{2} \\approx 0.7071\n$"}),"\n",(0,s.jsx)(e.p,{children:"将各个数字代入公式后，css 表示如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix(0.7071, 0.7071, -0.7071, 0.7071, 0, 0);\n"})}),"\n",(0,s.jsx)(e.p,{children:"等价于"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: rotate(45deg);\ntransform: rotateZ(45deg);\n"})}),"\n",(0,s.jsxs)(e.p,{children:["以上就是通过单一矩阵介绍了 matrix 的用法。大家可能会有如下疑惑：transform 已经内置了基本变换属性",(0,s.jsx)(e.code,{children:"translate"}),"、",(0,s.jsx)(e.code,{children:"rotate"}),"、",(0,s.jsx)(e.code,{children:"scale"}),"，所以，我们为什么还要用 matrix？况且 matrix 更复杂，更不易于理解。回答这个问题之前，我们趁热打铁，先了解下 3 维变换 matrix3d 的用法。"]}),"\n",(0,s.jsxs)(e.h3,{id:"matrix3d",children:["matrix3d",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#matrix3d",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"顾名思义，matrix3d 是transform 的 3 维变换矩阵，由 16 个数字组成。"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"transform: matrix3d(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p);"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"CSS 中 matrix3d 的参数顺序对应变换矩阵的元素位置如下图所示。"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:x,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"16 个数字乍看之下很多，初学者容易犯晕，不过大家可以根据上图对这 16 个数字进行分类，分为四组，每组 4 个数字，每组数字代表变换矩阵的每一列，每一列数字代表的含义如下："}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["第一列，代表变换后的坐标系的 X 轴在原坐标系下的坐标。","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"a：X 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"b：Y 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"c：Z 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"d：通常为 0，代表向量。"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["第二列，代表变换后的坐标系的 Y 轴在原坐标系下的坐标。","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"e：X 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"f：Y 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"g：Z 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"h：通常为 0，代表向量。"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["第三列，代表变换后的坐标系的 Z 轴在原坐标系下的坐标。","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"i：X 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"j：Y 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"k：Z 轴坐标分量"}),"\n",(0,s.jsx)(e.li,{children:"l：通常为 0，代表向量。"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["第四列，代表变换后的坐标系原点在原坐标系下的坐标","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"m：X 轴坐标分量。"}),"\n",(0,s.jsx)(e.li,{children:"n：Y 轴坐标分量。"}),"\n",(0,s.jsx)(e.li,{children:"o：Z 轴坐标分量。"}),"\n",(0,s.jsx)(e.li,{children:"p：通常为 1，代表点。"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["如果你看过在之前章节坐标系变换原理的话，相信你会很容易理解上面的解释，如果你没看过，那也没关系，只需要掌握数学矩阵库的使用即可生成这么一个",(0,s.jsx)(e.code,{children:"变换矩阵"}),"，之后将矩阵的各个元素填入 matrix3d 的 对应位置即可。"]}),"\n",(0,s.jsx)(e.p,{children:"接下来看一下 matrix3d 是如何达到 transform 基本变换效果的。"}),"\n",(0,s.jsxs)(e.h3,{id:"3d-平移",children:["3D 平移",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#3d-平移",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"3D 平移无非就是增加了一个 Z 轴的平移效果。"}),"\n",(0,s.jsx)(e.p,{children:"平移时，matrix3d 对应变换矩阵的各个元素位置如下："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:t,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"其中："}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"tx：代表沿 X 轴的平移量。"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"ty：代表沿 Y 轴的平移量。"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"tz：代表沿 Z 轴的平移量。"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"如果，我们想通过 matrix3d 表示平移的话，只需要改变 tx、ty、tz 三个元素即可，其余元素如上图，无需变化。"}),"\n",(0,s.jsx)(e.p,{children:"假设我们要实现沿 X 轴平移 30 像素，沿 Y 轴平移 40 像素，沿 Z 轴平移 50 像素，那么 CSS 可以像下面这样设置："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix3d(\n1, 0, 0, 0, \n0, 1, 0, 0, \n0, 0, 1, 0, \n30, 40, 50, 1\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"等价于"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: translate(30px, 40px, 50px);\n"})}),"\n",(0,s.jsxs)(e.p,{children:["注意哦，当使用 translate 时需要带上单位 ",(0,s.jsx)(e.code,{children:"px"}),"。"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"大家仍然不难发现，使用 matrix3d 比 translate 复杂，要书写的属性内容也多，并且不易于理解。"}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"3d缩放",children:["3D缩放",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#3d缩放",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"3D 缩放仍然增加了 Z 轴方向的缩放效果，当 transform-style 设置为 preserve-3d 时，能够看到缩放 Z 轴所带来的视觉效果。"}),"\n",(0,s.jsx)(e.p,{children:"缩放对应的变换矩阵各个元素的位置如下图："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:c,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"其中："}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"sx：代表沿 X 轴缩放的比例。"}),"\n",(0,s.jsx)(e.li,{children:"sy：代表沿 Y 轴缩放的比例。"}),"\n",(0,s.jsx)(e.li,{children:"sz：代表沿 Z 轴缩放的比例。"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"除了 sx、sy、sz 这三个元素需要我们自己设置，其余位置的元素都是固定值，如上图。"}),"\n",(0,s.jsx)(e.p,{children:"假设我们要将一个 dom 元素沿 X 轴、Y 轴、Z 轴各放大两倍，那么用 matrix3d 表示如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix3d(\n    2, 0, 0, 0,\n    0, 2, 0, 0,\n    0, 0, 2, 0,\n    0, 0, 0, 1\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"等价于："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: scale3d(2, 2, 2);\n"})}),"\n",(0,s.jsx)(e.p,{children:"我们通过一个小例子，看下效果。"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:'<div class="parent">\n    <div class="son"></div>\n</div>\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:".parent{\n    transform-style: preserve-3d;\n    background: bisque;\n    transition: 2s;\n}\n.parent:hover{\n    transform: rotateY(80deg);\n}\n.son{\n    width: 100px;\n    height: 100px;\n    background-color: blueviolet;\n    transform: matrix3d(1 , 0, 0, 0,\n    0, 1, 0, 0, \n    0, 0, 4, 0,\n    0, 0, 0, 1) \n    rotateX(60deg);\n}\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["为了便于观察 Z 轴放大效果，此处我对子元素做了一个多重变换，首先将子元素沿着 X 轴旋转 60 度，之后再执行缩放变换。多重变换的细节大家可以参见",(0,s.jsx)(e.a,{href:"https://juejin.cn/book/6844733755580481543/section/6844733755945402382",target:"_blank",rel:"noopener noreferrer",children:"CSS 与 3D 变换之 transform"}),"章节。"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"我们将子元素沿着 Z 轴放大四倍，X 轴和 Y 轴比例不变，观察下效果："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRjQCAABXRUJQVlA4ICgCAABQJQCdASoQA3wAPp1OokylpCMiJjNoALATiWdu4XShBPGY+o/oAA9LDkw7v/qyCJQI6IfiLrX6BGnkxUiWwduq07iLrX6BGnkxUiWwdlU3Xf0ZOC2tAZGl+rIeDuGWtPG/5qG3/NQ2/5qG3/M+laAiyHhEAtC2+4LxoorNfqyHhEAtC2+38o79WQ8IgFoW33BeAVNs0cAqkkfYKpHpIg07EAtC2+4L2nzP/qyHhEAtC2+4KcajAAi5jgKLIeEQC0LUUd+rIeEQC0Lb7gvAIbraJWZ9gqkkfKd9/Z5NXz7gvcF7T5n/1ZDwiAWhbfcFSAdSdctSJbB26qZuIutfoEaeTFSJbB26rTuIutfmFjEV1Mh4RALQtvuC9wXvY2/5qG3/NQ2/5qG3/NQ2/5p2sh4RAK6AAP74Lwe+xrw338s+rQB/qD8GxwAIjs/7XD/P/gSn7rH0fYilr6KSYShjOUMZyhjOUMZyhdUDK/W9qwcBDZZ/HJcMAAEzdhAcYAYKzzMDi7//VHOpc8q3Udi7a3/LJ9d/tF8hQDOq3gEXl/YDJ4ydSxlRczJjC9VfjvUy87L//v7ylns5L56eW+P0DCMDDYMOBDjki/sBqeCz+HZhbKg9gomq2VC1tPTHCMgivIGaYILzmNjQSzVh/jN2WX9QumpOf/XVrnvmSEwGIdtMqDTY/1nC59f6ZI4zUOQYM8wGh6d2zdyxSZ0YlAJX4yQ6vRkAAAAAAAA=",alt:""})}),"\n",(0,s.jsx)(e.p,{children:"大家可以发现， Z 轴长度变为了之前的 4 倍。\n上面我们是用 matrix3d 实现的，使用 scale3d 同样能达到上述效果，大家不妨试一试。"}),"\n",(0,s.jsxs)(e.h3,{id:"旋转-1",children:["旋转",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#旋转-1",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"3D 旋转是基本变换最复杂的一个，涉及到绕基本坐标轴的旋转、绕任意轴的旋转、欧拉角旋转、四元数旋转等，但是 CSS 中除了 matrix 和 matrix3d 以外，只提供了绕基本轴旋转、绕任意轴旋转，欧拉角旋转和四元数旋转需要通过数学库计算出对应的旋转矩阵。我们还是先看下如何使用 matrix3d 实现基本旋转。"}),"\n",(0,s.jsxs)(e.h4,{id:"绕-x-轴旋转",children:["绕 X 轴旋转",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#绕-x-轴旋转",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"绕 X 轴旋转 θ 角度对应的变换矩阵各个元素的位置如下图所示："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:l,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"举个例子，假设我们实现绕 X 轴旋转 45 度的效果，那么对应的 css 表示如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix3d(\n    1, 0, 0, 0,\n    0,  0.7071, 0.7071, 0,\n    0, -0.7071, 0.7071, 0,\n    0, 0, 0, 1\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"等价于"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: rotateX(45deg);\ntransform: rotate3d(1, 0, 0, 45deg);\n"})}),"\n",(0,s.jsx)(e.p,{children:"效果如下图："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRgICAABXRUJQVlA4IPYBAACQGgCdASq6AXcAPp1Ko0slpCOhqrPYELATiWdu4XKQu7qCoACQg/+wpEZzc6PL5AgsRGiAqLDQ6QkdOVlldYmVqbk7QM6Tf1g/dk9mIvNQHzgPnAfOA+cBrn7M/QbTqNqWSYa6BzsnJV6jrr+6polLR+ddjEPjri5QcuFBtOo2kbS/G5dPzc7snY5/kKfXKC05erBXn7D9mNPYR9XYg7f3yFPrlBy4UG01L2wYbLBYRCR05S5f1iZWpudHl8gQWIjRAVFhodECGPGKfFnAfOA+cB84D5wHzgPnAfN/sAD+/v7NXsmax+YQFX0+hDA56DB9ua86tnMkkv3u/IZzpgabXtJAsDDuElAsDDuElAsDDuElAsDDuElAsDDuElAsDDt/v25q4P37eqcrldf1o50AAADpHEPAs6AAAA2FFrViP8srquL201hnsD//5clQus+4d7/0ebGncfcUZrlMMpA3lsmWpa3A//wa/K+bzZmbuAAAQVVCCFN4UgOwpqqsQTNWgAATk23yRqhb9VYMhJh/00fzOkBXjmrz/AF9/AItd97YV16rQADPGw9fbtEf4yXExdDQAARP71DHwZhIPCJY9Ijp0sMkg9Qh8znFBpcOAeDWtai7mQfucOmIbnDpiG5w6YhucOmIbnDpiG5JVKbAAAAAAAAA",alt:""})}),"\n",(0,s.jsxs)(e.h4,{id:"绕-y-轴旋转",children:["绕 Y 轴旋转",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#绕-y-轴旋转",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"绕 Y 轴旋转 θ 角度对应的变换矩阵各个元素的位置如下图所示："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:d,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"举个例子，假设我们实现绕 Y 轴旋转 45 度的效果，那么对应的 css 表示如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix3d(\n    0.7071, 0, 0.7071, 0,\n    0,  1, 0, 0,\n    -0.7071, 0, 0.7071, 0,\n    0, 0, 0, 1\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"等价于"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: rotateY(45deg);\ntransform: rotate3d(0, 1, 0, 45deg);\n"})}),"\n",(0,s.jsx)(e.p,{children:"效果如下图："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRloCAABXRUJQVlA4IE4CAACQGwCdASq6AXwAPp1KoEslpCMhqrNoALATiWdu4XVQ42xzO3nKU+wAb49xOsGTh16x9IpyxJtvyaGhoaGhoaGhoaGhoaGhoaGhVYpvA2P1ysCEPdsnWLxHfiO/Ed+I76D17A74J1sMczMzMzMzMzMywrjkSe+giGzNp2TcuZmZmZkaThzcYG6af2idA/KqqqqqqSVzHCBZnnRU5LchEREREREPSuKzKRFu89mnXwbm0ULAYfa0sqysrKysrKysrKysrKysrKysaIQcrekF8MgHLAGAALuhh6eVhNS84D5wHzgPm/2AAP7/cfJ/8i5/in8ad75U5KELxkR8OSSv3cq+y5fTN6bppZlbdof49j73/5+rjv+WSvZzMv1MAO2fcgdye2z039Aat5Q70HAy1nL//yryHmeuWno4d94wjRNnEcvLgXAQ7CI7AAC6qCLvkJXJtP3dlePlbNyI+LyeJ/rFxZiX4u1yQrQGye+Wht9iAAUlq8gZ59Gnz6NPn0afPo0+fRp8+kh87EgMIAigqMrpOlC4Ea7/+AAAA6kLcPCKwBaqACTgMmg+IKk0ADrsLR2f2AAKX8Rz+qPyrT0RaTjVyyDYn9wlRyLJZ1BhfzP36tG8+w36N4LIrQvjkopEzO7DzYpzS9Lxhpf8ARVHrr5HinWEeFSf6QF3dSvU83y8QA9ci9AeGszQ7wAARX9cRPpyE/2B/pf3fhhXUqRmk2f47f0oPXhd5yjY995ZyPG5KUltf5t2D+KQR0fMYSD8NfErgfllMq1Y7M+IAAAAAA==",alt:""})}),"\n",(0,s.jsxs)(e.h4,{id:"绕-z-轴旋转",children:["绕 Z 轴旋转",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#绕-z-轴旋转",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"绕 Z 轴旋转 θ 角度对应的变换矩阵各个元素的位置如下图所示："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:a,alt:""})}),"\n",(0,s.jsx)(e.p,{children:"举个例子，假设我们实现绕 Z 轴旋转 45 度的效果，那么对应的 css 表示如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: matrix3d(\n    0.7071, -0.7071, 0, 0,\n    0.7071, 0.7071, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"等价于"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: rotateZ(45deg);\ntransform: rotate3d(0, 0, 1, 45deg);\n"})}),"\n",(0,s.jsx)(e.p,{children:"效果如下图："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRoYFAABXRUJQVlA4IHoFAACwMACdASq6AZoAPp1OoUwlpKMiI5hJwLATiWVu4XSgzvjWk05HPoKbOle8S9RXzAP0P/Sbr4/0j0AboB0h///3yj9qv2g9kDqAP//1n/uv6V78b3P052+Z+T/R1muEB7TXggQD3GuNGmUFrnO1HmxFXFGiuDItZUEfAsQ7InavFeiT5wgclFH2W/VJT2LpbJzvI2Zw2pPs+bJOvQtKeRszhs2vODpRYNlj0ae4II6mSWUu5ZNhT05rX1XNELTKGo+RGDWB0DeGBQyAWY0L+NoH9I3W1x8C4TijRW6KElF3gf6no8zvDoZmt2MlqdoR4q0BLFrKgj4Fv5WgB00Y9klwgR2b4dcE222KTVTnCcUaK4MS+ZGzH1cAfAETuHQ+3U1/GdnQWoFwj4FwnFDTYVLrmavaE430Cm0LlQmrMVM0OqallDak+z5sk69C0p5GzOG1J9nzZlSCtksILzfdgFPVVIwODQzrwEaQU4tTnysZma9SiLy3SKV6NDSujvYMdiChzpDIV/f0fuoF/FCIAAD+/2qXCf7naZqZf8rqKXH19dy8goiuHrjvJgQOA4OtXdzlPcFHBvfRytIu4arK/cN7xMB5+TtYnTGwxgH8uQAACmx7xnuAm5+X8r1sRdOoxbcL9IwyvqlYsV7Ly9sKsan+bnb6Iy3AKilz/+m319d1eOtcBWl3Uh5eqAPIeULTeKeGtxlPg61gDdQd6/xKZZCxIeUaRTxYeRp3OgrB2rdf1PBsBG74y73iL+3Ciqrl2cfT6tM2+M4JSQIGsUDlPa0trf5f2z7Z9s+2fbPtnx/6MLf3Gv3VU/nu7dbjcrE0DE3cWhbI24EtdqfJvrUw0zXkTEs9VUiU0E0DsB3xrPVIiP1fGojMLJjV+1l5YtC8Ifx4na5XdDShBwehJmsBcKVtsi1q3Igz1CK/GoY/YK+q33gAOqeAfi6f6PkLxlq2vP4st9EaXubfRTtN7fFAk5i5l7QaO1vzh9hkbYIHs+7mXs6yAgsg9SrYBJOI8Gk9O7QOh/oFXwnI8u3gwPasZWw9cd2/A4DZUfqNJBhGHqLfPrNmdAJjr+UgCu2Avj1wuygAclViPw1SzaTna0xXkd/rDQjr7pEevhty5OQvA2WAAAAKvAiosrqEknAiOH4mH3kFDqX8Oemo1FgONbPs+ZaHVetiVJMjPI7P7SClyUZUNiufSZfXgXBu+tnTBaoxW2ZdkY6dLsrPzVbh2nwbGnW7iGK6kAD30PCrSlGD8bG5sN+6GCUZUvgPtLjfywGcRcL3mtwQYkxRLnbvBi+whRNvzygR8pdbEC6PS7+/B52bl+/B52blkGqqwxDjCxb4EGUoXOemyBNt8oAB4xfa0d/8oJcp4Ygm5SuwlGNRPD3Bvfv7OqB4Z8f2rn5LX9hlA8M+P72zPfjyuhJqvWbsc5L9BywR1d3pGEv/pcAfIR/pcAfIR1y09cQpepL8cxKbO9/qwBxqOgAAFutKQBYOuxcOOtArOKq08iiJP3mclbGtmoGdwus+Gm57q36owIvN9DlvQPDPj+Sz8TGkXRjt/dzSKgt8MK6Y4jYOZyQBVWAGOon9BNJxSRp9J4ZpX+lwB8hH1PiK6DhaXfJ3IEILsVDUS6Cb9cm6n6RMga3qCqkUczgQEBAQEBHXjnOUBQBiWnIwfMlfQ9pcb+YeYWxGD4pbxby0gbm48RTIxfuFlKNmOLJ/LtbEJ9fjbaIfq5KhGN4LKuE1GC94N1TLmQNo1T+PorLZP/04mNc7GrSTDkbM7CJQkFWFYNVJklNe+7yb32/wC0ujW/rcb4hY/MAAHb2m3T072/f+noNP+uR/H+Fhgt7xL+tKf95pvUcyO6dVAA9+DBfgsSAAAAAA",alt:""})}),"\n",(0,s.jsx)(e.p,{children:"以上就是使用 matrix 和 matrix3d 来代替基本变换属性的讲解内容。大家应该能明白它们的用法了，归纳起来如下："}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"matrix 接收二维变换矩阵。"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"matrix3d 接收三维变换矩阵。"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"很简单。"}),"\n",(0,s.jsx)(e.p,{children:"那另一个问题是，如何求得变换矩阵呢？这就需要用到我们前面总结的数学矩阵库了。"}),"\n",(0,s.jsxs)(e.h3,{id:"矩阵库与-matrix-的搭配",children:["矩阵库与 matrix 的搭配。",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#矩阵库与-matrix-的搭配",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"对于基本变换，我们没有必要使用 matrix 来实现，但是对于一些基本变换满足不了的效果，我们就需要考虑 matrix 了。"}),"\n",(0,s.jsx)(e.p,{children:"比如，我需要为一个 dom 元素进行如下变换："}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"首先绕 X 轴旋转 45 度。"}),"\n",(0,s.jsx)(e.li,{children:"接着沿 Y 轴平移 30 像素。"}),"\n",(0,s.jsx)(e.li,{children:"然后绕 Z 轴旋转 45 度。"}),"\n",(0,s.jsx)(e.li,{children:"最后沿 Y 轴方向旋转 90 度。"}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"以上变换基于静态坐标系（世界坐标系）进行的。"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"对于这么一个复杂的变换，我们有两种方式来实现："}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"组合变换，上节已经讲过。"}),"\n",(0,s.jsx)(e.li,{children:"matrix 变换。"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"首先，我们看下如何使用组合变换来实现："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"transform: rotateY(90deg) \n    rotateZ(45deg) \n    translateY(30px) \n    rotateX(45deg);\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"在 css transform 章节中介绍了 transform 组合变换时各个变换的顺序与坐标系的关系，如果大家还没忘记的话，应该记得变换属性从后往前排列代表按照世界坐标系进行变换。"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRloDAABXRUJQVlA4IE4DAACwNACdASq6AW8BPp1Opk0lpKQiI7VoALATiWdu5VARV5e5hNhnUwUUzkAH6q2laTAeMggoA2HaapdVPig5sO01S6qfFBzYdpql1U+KDaMH8u+x6NkN9WlUcuvAFN/gDGtDpx+xLivo5vfVpVHLsCtKo5Qk2Zo0XSPcgZTTWM+UvTAvY1oA8phwLurkDKXpMmS3pL9A2HJCIW0hDKaqYUYTzDVkTq/pZizrcIhbSEMpqphRhPMNWQrEDYh95hqtwI19PIu/j4oOWtbD5OuBcQEuZCuYc90ILZDfVpVHLsCtKhmOkUyku6HTj9iW/PnS/l2BWlUcuwK0qWLd+GpmpdVPig5sO01S6qfFBzYdpql1U+KDmw7TVLqp8UHNh2mqXVT4oObDtNUuqnxQc2HaapdVPig5sO01S6qfFBzYdpql1U+KDmw7TVLqp8UHNh2mqXVT4oObDtNUuqnxQc2HaapdVPig5sO01S6qfFBzYdpql1U+KDmw7TVLqp8UHNh2mqXVT4oObDtNUuqnxQc2HaapdVPig5sO01S6qfFBzYdpql1U+KDmw7TVLqp8UHLQAP7/azwAAGp9ND+xfoT++t6g4rzYpAEDLQuFMehqxt1G5iVRqjVGqNW/OzN+y8k7dnK//K+6iNdmrcwExlY+8vdXRWgx+7hv4FNhi2+nSWbJVNlIICELw05K/Zmhd4cn5Fvv/cyxq5criRt9xmX7rc4cV6ObfJL0+V+vlx4xjr37u5kxz93cyY5+7uZKTclyf75SesIimB4NfAX866lUUF9zu+wQpC9wDUc0AbQ+YxSXdzw4LZQ9BF3MO1zn3Bsq0uS0VHMqnb48ReemRajP15is+vOg1nLSCdbNOF7wS9hSfAHHzsgRCXTW59t/vao8fMc/hCbKFZJBXoWhR3IUCxMV6Gh29C/p58JV0j9Eju+bc8gHaY771iKPvMmgbKZG1pH1Ur8frASBBdSvpof0x9xf0Mbz42/mJHI4SjxiAWdoKK//8dvaJf2+/gQ+gH2gtH8nzj9BgiHzC0i0aHJYUpeuUKvr/f507/77YO574k338IHGOt00ZSE0AdwsLCwsK/Q2AwfcncWiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=",alt:""})}),"\n",(0,s.jsx)(e.p,{children:"变换的分步执行过程如上图。"}),"\n",(0,s.jsx)(e.p,{children:"你会发现，如果变换过程比较多的话，transform 中要书写很多属性，所以可以尝试另一种思路，matrix3d。"}),"\n",(0,s.jsx)(e.p,{children:"我们看下如何使用 matrix3d 来表示。"}),"\n",(0,s.jsx)(e.p,{children:"利用之前的矩阵库，我们需要如下几个方法计算最终的变换矩阵："}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"rotateZ：绕 Z 轴旋转。"}),"\n",(0,s.jsx)(e.li,{children:"rotateX：绕 X 轴旋转。"}),"\n",(0,s.jsx)(e.li,{children:"rotationY：绕 Y 轴旋转。"}),"\n",(0,s.jsx)(e.li,{children:"translate：平移。"}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"你可能没有发现矩阵相乘的方法，这是因为 rotateZ、rotateX、translate 方法允许传入一个矩阵作为左乘矩阵，返回一个组合矩阵。当然，你也可以用矩阵相乘方法来实现组合矩阵的求值，但是那样会多执行一些重复运算。"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"这几个方法在之前章节已经讲述过，所以我们拿来使用即可："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"var deg = Math.PI / 180;\n// 首先创建一个沿 Y 轴旋转矩阵。\nvar target = matrix.rotationY(90 * deg); \n// 接着计算 Y 轴旋转矩阵与 Z 轴旋转矩阵的组合变换。\n// 等价于 matrix.multiply(target, matrix.rotationZ(45 * deg));\ntarget = matrix.rotateZ(target, 45 * deg);\n// 等价于 matrix.multiply(target, matrix.translate(0, 30, 0));\ntarget = matrix.translate(target, 0, 30, 0, target);\n// 等价于 matrix.multiply(target, matrix.rotationX(45 * deg));\ntarget = matrix.rotateX(target, 45 * deg, target);\n"})}),"\n",(0,s.jsx)(e.p,{children:"我们将 target 打印出来看一下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"[\n    4.329780632585522e-17, 0.7071067690849304,\n    -0.7071067690849304, 0,\n    0.7071067690849304, 0.5, 0.5, 0,\n    0.7071067690849304, -0.5, -0.5, 0,\n    -1.298934236097771e-15, 21.21320343017578,\n    21.21320343017578, 1\n]\n"})}),"\n",(0,s.jsx)(e.p,{children:"target 就是上面几种变换组合后的最终矩阵，我们将它转化为 css 的 matrix3d 属性："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// 将矩阵转化为transform matrix 属性值。\nfunction matrix2css(m){\n    var style = 'matrix(';\n    if(m.length == 16){\n        style = 'matrix3d('\n    }\n    for(let i =0; i< m.length; i++){\n        style += m[i];\n        if(i !== m.length - 1){\n            style += ','\n        }else{\n            style +=')'\n        }\n    }\n    return style;\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"最终效果如下："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRmIDAABXRUJQVlA4IFYDAACQNACdASq6AW8BPp1Oo00lpKMiI7W4CLATiWdu5VARV5NZhNhmzZDIAP1VtLMl2/yQWoA2HaapdVPig5sO01S6qfFBzYdpql1U+KDaOlzwK3a1oWVYXdFhz78gS07bnMeCrJDyvo5vgVu1rQsqwu6K6ZlBgq2VFRsO0z8l+gWurdjMnrFmrCED7Nh2km0O8nXaMDKacgl6SW2w7TPyZMlvTOBBkQH30AwwEoObB2BDIeWnDsgqZLhD9iH2mqSu1blLQC6rKhBqWCudYTRlyPnl4AWVYXdFh0vM8bu3bVOgNWSH9DvsWHz5/6dnVP8mF/MK3FGyrC7eiDMkii4OIDYdpql1VCs4BsO01S6qfFBzYdpql1U+KDmw7TVLqp8UHNh2mqXVT4oObDtNUuqnxQc2HaapdVPig5sO01S6qfFBzYdpql1U+KDmw7TVLqp8UHNh2mqXVT4oObDtNUuqnxQc2HaapdVPig5sO01S6qfFBzYdpql1U+KDmw7TVLqp8UHNh2mqXVT4oObDtNUuqnxQc2HaapdVPig5sO01S6qfFBzYdpql1U+KDmw7TPgA/v9/ZAAAS/4tf87+8ucIZIzBCjkACEk0LhTHoaprdRuYlUao1RqjVv0t9mKTTcWzLf/5Y/r512atzATGZt+T+Lu3+9i/dw38JiC6QnJfmaxHTLy8vnne3YJs8hiXCIv28/n/Myxq5cri8y/82F+63OUj3kjym3ghOriFfaj9HrJVD93cyY5+7uZMc/cadcLmu91KytLJQMEokHPhAKRFBfc7vsEJ8vcA1HNAG0PmMUl3c8OC2UPQRczBNc59wbKtLktFRzKZhZLprc9uO0lRMCCLtKrBYQOATRfzH4C8bBtaKLZw/xo7wEjKkFPU6s7sglyyOY5afHbrz8ffRz/fb/z1lbozniObHO9ATXuOwUV+2H/eT4hJUftmmgaJHI4ShxbcU9Itu//8dvtEv7ffwIfQD7r7j/J8A/Sp8tEaRCLRndAmsLM51eoE/v+rV9+/bB3PfMPg/wgII63Rjyl0P/zdFzeJKNQpr7wX73gCUcy9XrvKoV1Tk+HnAPMH6XgYW/p5COcjVIEIwyFOxM+L+2+TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",alt:""})}),"\n",(0,s.jsx)(e.p,{children:"很显然，通过组合变换和 matrix，我们达到了同样的效果。"}),"\n",(0,s.jsx)(e.p,{children:"通过比较上面的两种实现，我们发现，组合变换相较于 matrix 更容易理解，当变换次数较少时，使用组合变换更优一些。但是当变换次数越来越多时，就需要使用 matrix 了。那么，什么时候变换次数会越来越多呢？"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["分段动画","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"当一段动画分成很多段时，变换次数会越来越多，这时，需要针对动画做关键帧处理，每一个关键帧处使用 matrix 来表示。"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["复杂交互","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"当交互比较复杂时，每一次交互都会在原来的变换属性上触发一次或者多次变换，这就需要使用数学库的矩阵乘法来计算组合矩阵。"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"下面，我会通过一个魔方格子的旋转来讲述 matrix3d 的使用场景。"}),"\n",(0,s.jsxs)(e.h2,{id:"魔方格子的旋转",children:["魔方格子的旋转。",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#魔方格子的旋转",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"大家都玩过魔方吧，沿不同方向进行旋转，可以将一个面的格子绕指定轴旋转 90 度。"}),"\n",(0,s.jsx)(e.p,{children:"接下来我们构造一个魔方格子，演示一下如何通过 matrix3d 完成这种交互。"}),"\n",(0,s.jsxs)(e.h3,{id:"构造魔方格子",children:["构造魔方格子。",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#构造魔方格子",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"首先，我们要构造一个魔方格子，魔方格子是一个立方体，在前面章节我曾经介绍过图片盒的实现，此处仍然采用图片盒的实现方式，只不过将图片换成 DIV 容器。"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:'<div class="block" id="block">\n    <div class="face front"></div>\n    <div class="face back"></div>\n    <div class="face up"></div>\n    <div class="face down"></div>\n    <div class="face left"></div>\n    <div class="face right"></div>\n</div>\n'})}),"\n",(0,s.jsx)(e.p,{children:"样式如下："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:".block {\n    position: absolute;\n    transform-style: preserve-3d;\n    width: 100px;\n    height: 100px;\n    transform-origin: 50px 50px;\n}\n.front {\n    background: fuchsia;\n}\n\n.back {\n    transform: translate3d(0, 0, 100px) rotateY(180deg);\n    background: red;\n}\n.left {\n    transform-origin: 100% 50% 0px;\n    transform: rotateY(90deg);\n    background: aqua;\n}\n.right {\n    transform-origin: 0% 50% 0px;\n    transform: rotateY(-90deg);\n    background: blueviolet;\n}\n.up {\n    transform-origin: 50% 0% 0px;\n    transform: rotateX(90deg);\n    background: darkorange;\n}\n.down {\n    transform-origin: 50% 100% 0px;\n    transform: rotateX(-90deg);\n    background: darkviolet;\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"为了便于观察，我们为让魔方格子旋转起来："}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"@keyframes rotate {\n    0% {\n        transform: translate(-50%, -50%) rotate3d(1, 1, 1, 0deg);\n    }\n\n    100% {\n        transform: translate(-50%, -50%) rotate3d(1, 1, 1, 360deg);\n    }\n}\n\n.block{\n    animation: rotate 3s linear infinite;\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:"魔方格子效果如下："}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,s.jsxs)(e.p,{children:["上图魔方格子的旋转是通过CSS 中的 ",(0,s.jsx)(e.code,{children:"animation"})," 属性 来实现的，并没有通过交互来触发，接下来，我们讲解一下如何通过鼠标滑动进行旋转。"]}),"\n",(0,s.jsxs)(e.h3,{id:"旋转-2",children:["旋转。",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#旋转-2",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"鼠标滑动分为左、右、上、下滑动，每种滑动对应一种方向的格子旋转。"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"从右往左：绕 Y 轴旋转 θ 角。"}),"\n",(0,s.jsx)(e.li,{children:"从左往右：绕 Y 轴旋转 -θ 角。"}),"\n",(0,s.jsx)(e.li,{children:"从上往下：绕 X 轴旋转 θ 角。"}),"\n",(0,s.jsx)(e.li,{children:"从下往上：绕 X 轴旋转 -θ 度。"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["当然旋转需要有一个参照点，默认盒子中心。在 23 章节",(0,s.jsx)(e.a,{href:"/",children:"深入研究 --- 四元数的应用：使用鼠标控制模型的旋转"}),"我们使用四元数、欧拉角分别实现了模型的旋转交互，本节我们依然采用旋转矩阵的生成原理，区别就是将生成的矩阵转化为 CSS 中 transform 的 matrix3d 属性值。"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"var currentQ = {x:0, y:0, z:0, w:1};\nvar lastQ = {x:0, y:0, z:0, w:1};\nvar currentMatrix = matrix.identity();\nvar l = Math.sqrt(dx * dx + dy * dy);\nif(l <= 0)return;\nvar x = dx / l, y = dy / l;\nvar axis = {x: x, y: y, z: 0};\nvar q = matrix.fromAxisAndAngle(axis, l);\ncurrentQ = matrix.multiplyQuaternions(q, lastQ);\ncurrentMatrix = matrix.makeRotationFromQuaternion(currentQ);\n"})}),"\n",(0,s.jsx)(e.p,{children:"通过上述方式我们计算出了当前旋转矩阵 currentMatrix，接下来，我们使用上面介绍的矩阵转化成对应 css 的函数，生成对应的 transform 属性。"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"var style = matrix2css(currentMatrix);\n"})}),"\n",(0,s.jsx)(e.p,{children:"最后将生成的样式应用到魔方格子上。"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"document.querySelector('#block').style.transform = style;\n"})}),"\n",(0,s.jsx)(e.p,{children:"至此，我们通过 matrix3d 实现了使用鼠标控制魔方格子旋转的效果。"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRjoCAABXRUJQVlA4IC4CAAAwHQCdASpfAdAAPp1OpU0lpSOiItM4ILATiWdu5IgJvRrPvyCCArlX8A/meAAb8B1p/oAeUb+x3wot8BkE3oDSQAw/oCMuum8rcz0BGXXTeVuZ6AjLrpvK3M9ARl103lbmegGwqqrfy3HMNvy7bIZz7f+ARl103lbPSCtTw+HTIKtzPQEZdReBnm//RGF9YaZEKbhhl103lXf9FLo8DKyqSg4BWqbCAEa8A/6/6KYBblbmduTabuFApsIAW5W5IPo0Ezl9ccw2/LtslKfH9yJeZ6AjLrp1HWZXa8F5noCMuum8sOKtzPQEZddN5W5noCMtgAD+/7jqAAADaWVl+it6QxWzBE9O9C+0cpa//jePgJ2u315q/+jSL/yCLzLuNgP251MVigvcRMUwSIVCw4+7jLO9jzIQhPZkh3537LKq0Iw7sObQrq1kWJ/QDzIaTo9yAseCGVNM8Eu6bWQzzhhIEd09d/hYMnTniA8uX3/q7n2/6f/69jJPHy46EO6rn9B63hwt/F7bUzbVBXcMyuVhOu77E8QWCv0h+5pKZIy+P7+al/E/hbDXLzbE9jHN7N47ShN7jeA/HeQs+/TJiGWEN7X2X+2LcxhhDCHiNSZDRaylz/iSPRN1TZy4fmgAAAAN0Ya23hY8u2IHnj7wHmXvd1enYwvLZPRU7aMPsSPgJGHHDjtQIThmhPeBp/MM36ADnuSmpGRaRKbP3j+Z0oMX5lUFgAoEMLCtRAAAAAA=",alt:""})}),"\n",(0,s.jsxs)(e.h2,{id:"回顾",children:["回顾",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#回顾",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"以上就是数学矩阵库与 CSS transform 属性的高级使用技巧，通过这两个例子的学习，大家应该对 transform 的 3D 属性更有信心了，希望大家以后碰到交互给出的 3D 特效时不再畏手畏脚，而是大胆的拥抱它。"}),"\n",(0,s.jsx)(e.p,{children:"至此，我们对 CSS 的 3D 属性的学习就告一段落了。下一节，我们还是回到 WebGL 的学习内容上来。"})]})}function m(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}let p=m;m.__RSPRESS_PAGE_META={},m.__RSPRESS_PAGE_META["WebGL%20%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5%2F26.%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%20---%20%E6%95%B0%E5%AD%A6%E5%BA%93%E5%9C%A8%20CSS%20%E7%9A%84%203D%20%E5%8A%A8%E7%94%BB%E4%B8%AD%E6%89%AE%E6%BC%94%E7%9A%84%E9%87%8D%E8%A6%81%E8%A7%92%E8%89%B2.md"]={toc:[{text:"matrix 和 matrix3d",id:"matrix-和-matrix3d",depth:2},{text:"matrix",id:"matrix",depth:3},{text:"平移",id:"平移",depth:4},{text:"缩放",id:"缩放",depth:4},{text:"旋转",id:"旋转",depth:4},{text:"matrix3d",id:"matrix3d",depth:3},{text:"3D 平移",id:"3d-平移",depth:3},{text:"3D缩放",id:"3d缩放",depth:3},{text:"旋转",id:"旋转-1",depth:3},{text:"绕 X 轴旋转",id:"绕-x-轴旋转",depth:4},{text:"绕 Y 轴旋转",id:"绕-y-轴旋转",depth:4},{text:"绕 Z 轴旋转",id:"绕-z-轴旋转",depth:4},{text:"矩阵库与 matrix 的搭配。",id:"矩阵库与-matrix-的搭配",depth:3},{text:"魔方格子的旋转。",id:"魔方格子的旋转",depth:2},{text:"构造魔方格子。",id:"构造魔方格子",depth:3},{text:"旋转。",id:"旋转-2",depth:3},{text:"回顾",id:"回顾",depth:2}],title:"26.深入研究 --- 数学库在 CSS 的 3D 动画中扮演的重要角色",headingTitle:"26.深入研究 --- 数学库在 CSS 的 3D 动画中扮演的重要角色",frontmatter:{}}}}]);