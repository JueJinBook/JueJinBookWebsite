"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["86578"],{230872:function(e,n,i){i.r(n),i.d(n,{default:()=>h});var r=i(552676),s=i(740453);function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",blockquote:"blockquote",ul:"ul",li:"li",h3:"h3",h4:"h4",br:"br",strong:"strong",pre:"pre",img:"img"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"20中级进阶-----坐标系变换世界空间变换到观察空间",children:["20.中级进阶 --- 坐标系变换：世界空间变换到观察空间",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#20中级进阶-----坐标系变换世界空间变换到观察空间",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"上一节我们学习了坐标系变换的基本变换的原理以及算法实现，模型空间通过基本变换会转变到世界空间，转变到世界空间之后，就需要将世界空间映射到观察空间，本节我们学习世界空间向观察空间转换的算法实现。"}),"\n",(0,r.jsxs)(n.h2,{id:"什么是观察空间",children:["什么是观察空间",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#什么是观察空间",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"观察空间"}),"是从人眼或者摄像机看到的 3D 空间，是整个3D 世界的一部分，观察变换的主要作用是将模型的顶点坐标从",(0,r.jsx)(n.code,{children:"世界坐标系"}),"变换到",(0,r.jsx)(n.code,{children:"观察坐标系"}),"中。"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"观察坐标系也可以理解为相机坐标系。"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"还记得上一节我们求解变换矩阵的思路吗？"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"求出新坐标系原点在原坐标系中的位置。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"求出新坐标系基向量在原坐标系中的表示。"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"视图变换",children:["视图变换",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#视图变换",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["世界空间转变到观察空间这个过程通常称为视图变换，变换矩阵称为视图矩阵。在做视图变换之前，我们会在世界坐标系里指定摄像机或者人眼的位置",(0,r.jsx)(n.code,{children:"eyePosition"}),"，以及摄像机头顶方向向量",(0,r.jsx)(n.code,{children:"upDirection"}),"，然后我们要根据这两个条件计算出视图变换矩阵。"]}),"\n",(0,r.jsx)(n.p,{children:"按照矩阵求解步骤进行分析。"}),"\n",(0,r.jsxs)(n.h3,{id:"新坐标系原点在原坐标系中的位置",children:["新坐标系原点在原坐标系中的位置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#新坐标系原点在原坐标系中的位置",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"首先我们要分清哪个是新坐标系，哪个是原坐标系。\n在世界空间变换到观察空间的过程中，新坐标系是观察坐标系，原坐标系是世界坐标系，我们已经知道的是世界坐标系下的顶点位置 P0，需要求出顶点在观察坐标系中的位置 P1。"}),"\n",(0,r.jsx)(n.p,{children:"$P1 = M \\times P0。$"}),"\n",(0,r.jsx)(n.p,{children:"其中 M 是世界坐标系变换到观察坐标系的观察矩阵。"}),"\n",(0,r.jsx)(n.p,{children:"为了求M，我们需要知道世界坐标系的原点在观察坐标系中的位置，还需要知道世界坐标系基向量在观察坐标系中的表示。"}),"\n",(0,r.jsx)(n.p,{children:"我们目前的已知量有如下三个："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"1、观察坐标系原点在世界坐标系中的位置。"}),"\n",(0,r.jsx)(n.li,{children:"2、观察坐标系的 Z 轴在世界坐标系中的表示。"}),"\n",(0,r.jsx)(n.li,{children:"3、顶点在世界坐标系中的位置P0。"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"根据 1、2 两项可以得出观察坐标系到世界坐标系的观察矩阵 M 。"}),"\n",(0,r.jsx)(n.p,{children:"但是我们需要求出的是 世界坐标系到观察坐标系的视图矩阵 N。"}),"\n",(0,r.jsxs)(n.h3,{id:"逆变换",children:["逆变换",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#逆变换",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"大家还记得在数学章节，我们学习了逆矩阵的含义与算法实现。在坐标系变换中，逆矩阵有着重要的意义。"}),"\n",(0,r.jsx)(n.p,{children:"假设有一顶点在坐标系A中坐标 P0，经过矩阵变换 M 后顶点在坐标系 B 中的坐标 P1，"}),"\n",(0,r.jsx)(n.p,{children:"$P1 = M \\times P0$"}),"\n",(0,r.jsx)(n.p,{children:"又有"}),"\n",(0,r.jsx)(n.p,{children:"$M \\times M^{-1} = I $"}),"\n",(0,r.jsx)(n.p,{children:"$I \\times P1 = P1$"}),"\n",(0,r.jsx)(n.p,{children:"所以"}),"\n",(0,r.jsx)(n.p,{children:"$M \\times M^{-1} \\times P1 = M \\times P0$"}),"\n",(0,r.jsx)(n.p,{children:"两边约去 M，可得"}),"\n",(0,r.jsx)(n.p,{children:"$M^{-1} \\times P1 = P0$"}),"\n",(0,r.jsx)(n.p,{children:"什么意思呢？"}),"\n",(0,r.jsx)(n.p,{children:"意思就是顶点 P1 经过矩阵 M 的逆矩阵就可以变换回顶点 P0。我们看下逆矩阵在视图变换中如何应用。"}),"\n",(0,r.jsx)(n.p,{children:"假设顶点在世界坐标系中的坐标 P0，观察坐标系变换到世界坐标系的变换矩阵为 M，那么顶点在观察坐标系中的坐标 P1 为："}),"\n",(0,r.jsx)(n.p,{children:"$P0 = M \\times P1 $"}),"\n",(0,r.jsx)(n.p,{children:"$\\Longrightarrow M \\times M^{-1} \\times P0 = M \\times P1$"}),"\n",(0,r.jsx)(n.p,{children:"$\\Longrightarrow M^{-1} \\times  P0 = P1$"}),"\n",(0,r.jsx)(n.p,{children:"同样地，我们只要求出观察坐标系变换到世界坐标系 的逆矩阵即可求出物体在观察坐标系中的坐标。"}),"\n",(0,r.jsx)(n.p,{children:"在此，我们定义观察坐标系变换到世界坐标系的矩阵为相机矩阵 E，世界坐标系变换到观察坐标系的矩阵为视图矩阵 V，其中 E 和 V 互逆。"}),"\n",(0,r.jsxs)(n.h3,{id:"求解相机矩阵",children:["求解相机矩阵",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#求解相机矩阵",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"求解相机矩阵仍然按照上一节的求解步骤。"}),"\n",(0,r.jsx)(n.p,{children:"我们已经知道的几个条件："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["假设相机在世界坐标系中的位置 ",(0,r.jsx)(n.code,{children:"Pe (ex, ey, ez)"}),"。"]}),"\n",(0,r.jsxs)(n.li,{children:["看向目标位置为",(0,r.jsx)(n.code,{children:"T (tx,ty,tz)"}),"。"]}),"\n",(0,r.jsxs)(n.li,{children:["摄像机上方方向向量 ",(0,r.jsx)(n.code,{children:"upDirection 为(ux, uy, uz)"}),"。"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"接下来我们要根据这些条件求出相机矩阵。"}),"\n",(0,r.jsxs)(n.h4,{id:"1相机坐标系的原点在世界坐标系的位置",children:["1、相机坐标系的原点在世界坐标系的位置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1相机坐标系的原点在世界坐标系的位置",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"由上面条件可知，相机坐标系原点在世界坐标系中的位置如下："}),"\n",(0,r.jsx)(n.p,{children:"$\nP_e = (ex， ey， ez)\n$"}),"\n",(0,r.jsxs)(n.h4,{id:"2-求解相机坐标系的基向量在世界坐标系中的表示",children:["2、 求解相机坐标系的基向量在世界坐标系中的表示",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-求解相机坐标系的基向量在世界坐标系中的表示",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"从相机位置看像目标位置的方向称为观察方向，观察方向可以看做相机坐标系的 Z 轴方向，那么世界坐标系的 Z 轴基向量方向可以这样求出："}),"\n",(0,r.jsxs)(n.p,{children:["$\n\\begin{aligned}\nzAxis &= P_e - T \\",(0,r.jsx)(n.br,{}),"\n","& =(ex - tx, ey - ty, ez - tz)\n\\end{aligned}\n$"]}),"\n",(0,r.jsxs)(n.p,{children:["有了 Z 轴方向向量",(0,r.jsx)(n.code,{children:"zAxis"}),"和临时 Y 轴 方向",(0,r.jsx)(n.code,{children:"upDirection"}),"，我们就可以利用向量叉乘来计算 X 轴方向了。"]}),"\n",(0,r.jsx)(n.p,{children:"$\nxAxis = zAxis \\times upDirection\n$"}),"\n",(0,r.jsxs)(n.p,{children:["计算出 X 轴方向之后，我们需要将 ",(0,r.jsx)(n.code,{children:"xAxis"})," 和 ",(0,r.jsx)(n.code,{children:"zAxis"})," 归一化，得到它们的",(0,r.jsx)(n.code,{children:"基向量"}),"，这时还需要求一遍 Y 轴的方向向量，因为 ",(0,r.jsx)(n.code,{children:"upDirection"})," 是我们一开始假想的，只是为了求解 X 轴方向，",(0,r.jsx)(n.code,{children:"upDirection"})," 和 ",(0,r.jsx)(n.code,{children:"zAxis"})," 不一定是垂直关系。"]}),"\n",(0,r.jsx)(n.p,{children:"仍然利用向量叉乘求解 Y 轴方向："}),"\n",(0,r.jsx)(n.p,{children:"$\nyAxis = zAxis \\times xAxis\n$"}),"\n",(0,r.jsx)(n.p,{children:"将 xAxis(xx, xy, xz)、yAxis(yx, yy, yz)、zAxis(zx, zy, zz)以及相机位置 Pe(ex, ey, ez) 代入矩阵变换框架，可以求得相机坐标系变换到世界坐标系的矩阵 E"}),"\n",(0,r.jsxs)(n.p,{children:["$\n\\begin{aligned}\n\\begin{pmatrix}\nxx & yx & zx & ex \\",(0,r.jsx)(n.br,{}),"\n","xy & yy &  zy & ey \\",(0,r.jsx)(n.br,{}),"\n","xz & yz & zz & ez \\",(0,r.jsx)(n.br,{}),"\n","0 & 0 & 0 & 1\n\\end{pmatrix}\n\\end{aligned}\n$"]}),"\n",(0,r.jsxs)(n.p,{children:["这就是",(0,r.jsx)(n.code,{children:"相机矩阵E"}),"，有了它 ，我们利用逆矩阵的算法求出 E 的逆矩阵 $E^{-1}$，即视图矩阵。"]}),"\n",(0,r.jsxs)(n.p,{children:["之后就可以利用",(0,r.jsx)(n.code,{children:"视图矩阵"}),"左乘顶点在世界坐标系的坐标，计算出顶点在观察坐标系中的坐标，也就完成了世界坐标系到观察坐标系的变换。"]}),"\n",(0,r.jsxs)(n.h3,{id:"算法实现",children:["算法实现",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#算法实现",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"有了上面的分析，我们的算法就很容易实现了。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1、 首先，求出Z 轴基向量，即观察方向："})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"function lookAt(cameraPosition, target, upDirection){\n    var zAxis  = (Vector3.subtractVectors(cameraPosition, target)).normalize();\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2、 其次，根据 zAxis 和 upDireciton 求出 X 轴基向量："})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var xAxis = (Vector3.cross(upDirection, zAxis)).normalize();\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3、处理 zAxis 和 upDirection 平行的情况："})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"if(xAxis.length() == 0){\n    if (Math.abs(upDirection.z == 1)) {\n      zAxis.x += 0.0001;\n    } else {\n      zAxis.z += 0.0001;\n    }\n    zAxis.normalize();\n    xAxis = Vector3.cross(upDirection, zAxis).normalize();\n}\n\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"4、接着，根据 zAxis 和 xAxis ，重新计算Y轴基向量 yAxis："})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var yAxis = (Vector3.cross(zAxis, xAxis)).normalize();\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"5、最后，将各个值代入矩阵框架"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var target = new Float32Array(16);\n\n// 第一列，x 轴基向量\ntarget[0] = xAxis.x;\ntarget[1] = xAxis.y;\ntarget[2] = xAxis.z;\ntarget[3] = 0;\n\n// 第二列，y 轴基向量\ntarget[4] = yAxis.x;\ntarget[5] = yAxis.y;\ntarget[6] = yAxis.z;\ntarget[7] = 0;\n\n// 第三列，z 轴基向量\ntarget[8] = zAxis.x;\ntarget[9] = zAxis.y;\ntarget[10] = zAxis.z;\ntarget[11] = 0;\n\n// 第四列，坐标系原点位置\ntarget[8] = cameraPosition.x;\ntarget[9] = cameraPosition.y;\ntarget[10] = cameraPosition.z;\ntarget[11] = 1;\n\nreturn target;\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"使用方法",children:["使用方法",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用方法",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"有了上面的算法，我们构造一个观察矩阵就轻而易举了。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"首先定义摄像机的位置："}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var cameraPosition = new Vector3(0, 0, 10);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"接着指定视线看向的点："}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var target = new Vector3(0, 0, 0);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"假定一个方向向量代表摄像机上方："}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var upDirection = new Vector3(0, 1, 0);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"将这三个参数代入 lookAt 方法，求出相机矩阵："}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var cameraMatrix = matrix.lookAt(cameraPosition, target, upDirection);\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"最后一步，求相机矩阵的逆矩阵，即观察矩阵。"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var viewMatrix = matrix.inverse(cameraMatrix);\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"效果演示",children:["效果演示",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#效果演示",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"接下来，我们利用上面的观察矩阵，演示轨道摄像机和第一人称摄像机的效果。"}),"\n",(0,r.jsxs)(n.h4,{id:"轨道摄像机",children:["轨道摄像机",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#轨道摄像机",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"我们创建一个围绕场景中心的圆形摄像机轨道，半径为10，观察处于场景中心的一个立方体。其中，摄像机在圆形轨道上移动，并且观察方向始终看向场景中心的立方体，"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,UklGRiICAABXRUJQVlA4IBYCAAAQIQCdASpoAfAAPp1OpU0lqCQiIlio0QATiWdu4XSVyATGBktORTOQHNpNwxgFeNLS7oaZ8NLSXrvUfJu1SA9UtLuhpnwmCVOCuGlpd0NM+Gk8Lx1sEtLuhpnw0tJkoiIyhd0NM+Glpdtvq46HdhpntPPK5Oan/hNongoZUYxPKG9RPDNd0NM4cNuoByPMDOTd31cdDuw0vgHx6x6Re0z+IzO/bl2Xhy0u51OXaD3DI91oSvdnhNLvq46HdhpntOIUUpcPNSUdmogTTrHUer3++d5aAkZQu6GmjRN8Xi78fBvlT6paXdDTPhpZfRh+HLS7oaZ8NLS49UTwzXdDTPhpaXc7LQEjKF3Q0z4aWl22+lAA/v7LG/sf/8QFv/YE/8xCj/0h/Ihf9/+onPT2Qsw69xJN6UYwAAAFS1NowYXrx3531WV/BrbxvJOwAVQ4A74WfecDsjzDK4CR8fGv+d/um/8lvFLBzC1/6Y/p/e/A96G4iagnHt8QdaO02KjfJZrZ+5+Oe+/gAfyEeBb0b26NEY77k0QnFZqXxNVxUX9W7JIXy08b7eP6HAZ027I9e5A2vgMi+xsHne2rXPz2GpbOGKpPUV7ByqC9wBzWvBQto+OjL1VXyt+W/787b8SMOTUfrJqLwLY1fFPnPYuXr8Cp/8mGhQjD1+wmMjiI82ZXiHjOSbD+OGd94iSZ82IwAAAAAAAAAAA=",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"这是圆形轨道摄像机的观察效果，咋看之下，它给我们的感觉是立方体自己在动。其实是我们的摄像机在绕着圆形轨道移动，立方体的位置并没有变化。"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"移动摄像机靠近物体等价于移动物体、远离摄像机的观察效果。"}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"跟踪摄像机",children:["跟踪摄像机",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#跟踪摄像机",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"在一些第一人称游戏中，摄像机往往是跟随人物而动的，接下来我们模拟人物走动的视觉效果。"}),"\n",(0,r.jsx)(n.p,{children:"我们将摄像机的位置和人物的位置保持一致，摄像机看向的目标点始终保持在人物前方 20 单位处，于是就产生了下面的效果："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,UklGRk4GAABXRUJQVlA4IEIGAABQOwCdASpoAfAAPp1OokulpKOhpLlJkLATiWlu+nj5ceTh7zz28KTDrRThQPvfKH3wfCkm0dMef75JnOozSldXwNrLyeVYTJX/CkjaUoU4wJcdOhVfhQHuTu6UrTol1QkSGjLTt5cESC4aF3d0pWnRMlf8J6Qza+LLAgfkPbZhq7pStOiZK/4T006M8kCk6kY7tsMHKNUpWnRMlf8J3mmRhIBj8p0GBxcRrzzYaV+C2Viu6UrTl6dx47Vh6epQIoVzZG2TH5dsQmxrBzy0eUEv5ID/4L4UpsxOpyiaTbpmxGweyUlmSkksILCV1KuT88+pbwkh71AtSl3cf3I+48zfvbzy3QuGYw0xSBoTto0kMC9WuHFkfJ1I/7rsppscoBBcREGGieSlmBDdQbFQudFyuJ9AMRYgU6zvw+UCUAXWyIT91baWEFhK6lXGnCryCQWhTqHEVUawe04k7jlq8R7LI3AHFkleRTnUMKCX8knKIFbao6j9MFNrcpuUiWoTuSycURyqdjUrOU01wFZ2gIdq58tHlBL+NShWthpTu9JR0RKXzq9MEkrXjtJmqdbekUuJbEGwoAaE7aNJDAvPuK3yAXK646NKMY2JFzXQ1G+uRc6542ejyIB3KS/wHJc4sMR/pgAA/v9V2Zv//juH/7giQId6PTRMISd+cUQbD19NjnxnK4DVOg9YahDFuQxbkMXM+oD/yQT/9pAiC/TtYdpt7DROKoKGS0pERf1sVL5IUYXXIDmDdIBINB4+6m2pigwAAHD5BVU2uAImRSD1OLl9eYM6thiH4wpoCwbBZfvW6Ou0bXa4MQkNMJEDd47N8gECPnu5YHKwlIDWXWhFd3TXigEcQgLpdMn0YUMN0UpwVRe6Kl2Bwj/S3cJPFprPvoWUkgH+Kp9Fo6ALgcVOgWMuVwjOVRUIsQZKgszpGcCmRd/r0L+/7c3aUjZFzXwKb8zMKVyblaPIHwF8lzk1slMwNpQSuuNbOCAJGe8VqD7mOAll6dFD570l6afJ69wN+WMR0R+4ihfntdaYg+GTuuSzMfrV6KDaSWfD7Y8UbtTyvFDPecAfdXwweQAPf/fgrNMqlJmopmGeMmHSQer5AxCwaWG3F4mq4AZzshjsJcJ/oTYQO6Gw54jg35P8eDqR/K4QLfENh9FEKGAAHhsFsEP6qcg7gI4sWL3zZQN+QIudR1rughz9lmDfGnMtpZqI3ONT+l2kfkJ5vMViyWcs+jvV4xkq9GZIuaGpoQ7sc+beR1/JJgW6dDV2d+ASVyPAcAwsO6pvVIATIAxyWKUQb8umMcXhhrYR1a5hiDBtxlQSMN/Q4s7X5upvsC1gjLoH+Jzio7d4VMJBDxtaLdbO0OILxgMFlNfq+CaIo8HHOijRhAo4SDX9J1F72/CCuY+iNCvIz59asMlfDMbaMC6QecTfSw9Gvko2EfQdkIEWJSkUEgkr/oWxD/Zbm+zVXOf/dJmi5MSAD5CnZfuEi8nhXCJErw8jJDGRfOCdZtdFhBUuh8uh7K9b0n2GhKTUNtBrKou7G5i3Gs3gfWBbobOePEhYv7dNLCcA9wYHPNH0yQgfBR5W5x98XqGCAGC5cdcimkcF+cH13K5Ita8o6AJ+glMhR0nOKc6xhC+ESAjo8Irkhf/3ssn0NTujAXF14xZmHF21P13sQBpPi6+wPCtL056vSmRyZdroaxYMBSiIZhonP7p60jgDRBB9N6bFui9EitU/VJ94eQPidgupF9h8m1Y9hcq6PoUOl1/TVzbIFAHe+hQP25iXwl+h0xlby5YBWMw7Z0kn3fqXoMGOfK9OW8mKLbL0wnzNilNz4MaL3338duC/oBVhvWB9w0LhDRxpC73F7BOi+24Lf7U0n850zv3ZmDU1qToZXFkL87XFrlWkcBeztXIPC8nULPtSdDwJFmJkPUIieHMZP41gECBMjY8ITfIiR7tMNpjZaS+fE3RuujMEhT0Bqz0IbIzpPHY1aYSmfYeQkKayMcB+QCcx6wOl3IdTim2XSnfQLWZLi/hl63GQOeBfT6GPOzyw5ODqI/kDbCGZe4cgqiqJaKyDRXMpJI4J9HWh3L2Rqx6FZZKxJCHdf3X5nZC9x4J8IOhZJu+wHsnqAJm0FqonfYkkvgAAAAA=",alt:""})}),"\n",(0,r.jsxs)(n.h2,{id:"回顾",children:["回顾",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#回顾",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"本节我们讲解了如何实现视图矩阵的推导，以及视图矩阵的简单应用，推导过程仍然涉及了很多数学知识的应用，在此建议大家一定要多加练习，熟练掌握这些数学知识。"}),"\n",(0,r.jsx)(n.p,{children:"下一节，我们学习投影矩阵的推导以及应用。"})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}let h=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["WebGL%20%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5%2F20.%E4%B8%AD%E7%BA%A7%E8%BF%9B%E9%98%B6%20---%20%E5%9D%90%E6%A0%87%E7%B3%BB%E5%8F%98%E6%8D%A2%EF%BC%9A%E4%B8%96%E7%95%8C%E7%A9%BA%E9%97%B4%E5%8F%98%E6%8D%A2%E5%88%B0%E8%A7%82%E5%AF%9F%E7%A9%BA%E9%97%B4.md"]={toc:[{text:"什么是观察空间",id:"什么是观察空间",depth:2},{text:"视图变换",id:"视图变换",depth:2},{text:"新坐标系原点在原坐标系中的位置",id:"新坐标系原点在原坐标系中的位置",depth:3},{text:"逆变换",id:"逆变换",depth:3},{text:"求解相机矩阵",id:"求解相机矩阵",depth:3},{text:"1、相机坐标系的原点在世界坐标系的位置",id:"1相机坐标系的原点在世界坐标系的位置",depth:4},{text:"2、 求解相机坐标系的基向量在世界坐标系中的表示",id:"2-求解相机坐标系的基向量在世界坐标系中的表示",depth:4},{text:"算法实现",id:"算法实现",depth:3},{text:"使用方法",id:"使用方法",depth:3},{text:"效果演示",id:"效果演示",depth:3},{text:"轨道摄像机",id:"轨道摄像机",depth:4},{text:"跟踪摄像机",id:"跟踪摄像机",depth:4},{text:"回顾",id:"回顾",depth:2}],title:"20.中级进阶 --- 坐标系变换：世界空间变换到观察空间",headingTitle:"20.中级进阶 --- 坐标系变换：世界空间变换到观察空间",frontmatter:{}}}}]);