"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["31345"],{636726:function(e,n,i){i.r(n),i.d(n,{default:()=>A});var s=i(552676),d=i(740453);let r=i.p+"static/image/b79d61f10d74ba295ad91d383f6a53f7.adeb5688.webp",c=i.p+"static/image/d0a6aedf4aa44f9e5b0dd674fa31f163.57f44184.webp",h=i.p+"static/image/0150bb7b4ee0f6a63eb0acbf8474c6b5.6d085d95.webp",l=i.p+"static/image/ae886c62361de69bc743c870b19d8388.841d9c52.webp",a=i.p+"static/image/9120359784c9785a94afc6aa8af9e8b9.56592bc0.webp",x=i.p+"static/image/31959f69638ee34c737141850f58c0e0.6f0e2021.webp",t=i.p+"static/image/538231b765f669f5253ee25bb69c8044.cf4f5e62.webp",j=i.p+"static/image/68a1f6ba0c873c15223ccee100dd9e49.26bb91eb.webp",p=i.p+"static/image/442e2b1e1acf30a06d46bba1046eeacd.bcddc886.webp",o=i.p+"static/image/a2b55e19a8df5c2e97190489b1ac64a2.04805eef.webp",g=i.p+"static/image/d7ccf83615bf8c1c3cae7f29a6177306.ad8e0a62.webp",m=i.p+"static/image/0d9fb72586ecbbcf97ec1bd056c9d6a8.b61d4b6b.webp",f=i.p+"static/image/6d8b2f9ffbf1e16a2930a16f5ae21eae.ca41a183.webp";function u(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",img:"img",code:"code",ol:"ol",h4:"h4",pre:"pre"},(0,d.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"9-基础篇--代码库索引让-ai-更懂你的项目",children:["9-基础篇 ｜ 代码库索引：让 AI 更懂你的项目",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#9-基础篇--代码库索引让-ai-更懂你的项目",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:'代码库索引是 Cursor 最强大的功能之一。它通过为代码文件创建嵌入向量（Embeddings），帮助 AI 全面理解你的项目。这个功能让 AI 能够"看见"整个代码库，而不仅仅是当前打开的文件。本章将详细介绍如何使用这一功能，提升你的开发效率。'}),"\n",(0,s.jsxs)(n.h2,{id:"什么是代码库索引",children:["什么是代码库索引？",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#什么是代码库索引",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"代码库索引是 Cursor 的核心功能。它会："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"为代码文件创建嵌入向量"}),"\n",(0,s.jsx)(n.li,{children:"把索引数据存储在云端"}),"\n",(0,s.jsx)(n.li,{children:"保持代码本身只在本地存储"}),"\n",(0,s.jsx)(n.li,{children:"确保项目安全性"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"为什么需要代码库索引",children:["为什么需要代码库索引？",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#为什么需要代码库索引",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"在传统开发中，开发者需要记住整个项目结构。使用代码库索引后："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"✅ AI 回答更准确，因为它能基于当前项目的索引库回答问题"}),"\n",(0,s.jsx)(n.li,{children:"✅ 文件搜索更快"}),"\n",(0,s.jsx)(n.li,{children:"✅ AI 能更好地理解跨文件的关系"}),"\n",(0,s.jsx)(n.li,{children:"✅ 重构建议更精准"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"使用效果对比",children:["使用效果对比",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用效果对比",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"版本变化",children:["版本变化",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#版本变化",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"在 Cursor 0.45 版本及之前，Chat 窗口有两个提交按钮："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"submit 按钮：不使用代码库索引"}),"\n",(0,s.jsx)(n.li,{children:"codebase 提交按钮：使用代码库索引"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:f,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:'从 0.46 版本开始，Cursor 只保留了一个"send"按钮。Ask 模式下默认情况下不会使用代码库索引，只有按下 Ctrl/Command + Enter 时才会使用。这个变化让功能变得更隐蔽了。'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:m,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h3,{id:"实际效果对比",children:["实际效果对比",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#实际效果对比",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["我在本地有一个",(0,s.jsx)(n.code,{children:"sort.js"}),'文件，我问 Cursor："解释下目前已实现的排序算法"']}),"\n",(0,s.jsx)(n.p,{children:"不使用代码库索引的回答："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:g,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"使用代码库索引的回答："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:o,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"对比可以看出："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"使用代码库索引时，AI 先搜索了项目中的文件，然后根据文件内容回答"}),"\n",(0,s.jsxs)(n.li,{children:["AI 准确指出",(0,s.jsx)(n.code,{children:"sort.js"}),"文件中实现了冒泡排序和选择排序"]}),"\n",(0,s.jsx)(n.li,{children:"不使用代码库索引时，AI 只能从一般角度回答常见排序算法，没有针对项目的具体情况"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"如何配置代码库索引",children:["如何配置代码库索引",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何配置代码库索引",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"基本设置",children:["基本设置",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#基本设置",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Cursor 默认会自动索引新打开的文件夹。设置步骤："}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["打开",(0,s.jsx)(n.code,{children:"Cursor Settings"})]}),"\n",(0,s.jsxs)(n.li,{children:["进入",(0,s.jsx)(n.code,{children:"Features"})," > ",(0,s.jsx)(n.code,{children:"Codebase Indexing"})]}),"\n",(0,s.jsx)(n.li,{children:"查看同步状态指示条（显示索引进度）"}),"\n",(0,s.jsxs)(n.li,{children:["可用操作：","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"【Resync Index】重新同步索引"}),"\n",(0,s.jsx)(n.li,{children:"【Delete Index】删除现有索引"}),"\n",(0,s.jsx)(n.li,{children:"【Hide Settings/Show Settings】隐藏/显示详细设置"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:p,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h3,{id:"重要配置选项",children:["重要配置选项",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#重要配置选项",children:"#"})]}),"\n",(0,s.jsxs)(n.h4,{id:"1-自动索引新文件夹",children:["1. 自动索引新文件夹",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-自动索引新文件夹",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Index new folders by default"}),"选项默认开启。开启后，Cursor 会自动索引新打开的文件夹。"]}),"\n",(0,s.jsx)(n.p,{children:"注意：超过 10,000 个文件的文件夹不会自动索引。"}),"\n",(0,s.jsx)(n.p,{children:"下图显示了正在索引的项目，可以看到索引进度条："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:j,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h4,{id:"2-忽略文件设置",children:["2. 忽略文件设置",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-忽略文件设置",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Ignore files"}),"选项用于配置索引时要忽略的文件。这些规则会补充",(0,s.jsx)(n.code,{children:".gitignore"}),"中的规则。"]}),"\n",(0,s.jsx)(n.p,{children:"你可以："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["点击",(0,s.jsx)(n.code,{children:"Configure ignored files"}),"按钮设置规则"]}),"\n",(0,s.jsxs)(n.li,{children:["创建",(0,s.jsx)(n.code,{children:".cursorignore"}),"文件配置规则"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:t,alt:"image.png"})}),"\n",(0,s.jsxs)(n.p,{children:["点击",(0,s.jsx)(n.code,{children:"See all included files"}),"按钮可以查看所有被索引的文件："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:x,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h4,{id:"3-git-关系图",children:["3. Git 关系图",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-git-关系图",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Git graph file relationships"}),"选项默认开启。开启后，Cursor 会索引 git 历史记录，帮助 AI 理解文件间的关系。"]}),"\n",(0,s.jsxs)(n.h2,{id:"实际应用快速理解项目",children:["实际应用：快速理解项目",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#实际应用快速理解项目",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["以一个图片压缩项目为例：",(0,s.jsx)(n.code,{children:"https://github.com/qufei1993/compressor"})]}),"\n",(0,s.jsx)(n.p,{children:"如果你是初学者，想快速了解这个项目，可以："}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"打开项目"}),"\n",(0,s.jsx)(n.li,{children:"在 Chat 窗口中切换到 Ask 模式，使用代码库索引功能，输入问题"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"例如，输入："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"介绍下这个项目的作用和使用的技术栈\n"})}),"\n",(0,s.jsx)(n.p,{children:"以下的输出结果显示了 AI 的代码库搜索和思考过程，回答结果还是很准确的。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:a,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:l,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h2,{id:"最佳实践",children:["最佳实践",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#最佳实践",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"为了更好地使用代码库索引功能："}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"定期检查索引状态（通过进度条）"}),"\n",(0,s.jsx)(n.li,{children:"合理设置忽略规则，避免索引无关文件"}),"\n",(0,s.jsx)(n.li,{children:"大型项目考虑模块化索引"}),"\n",(0,s.jsxs)(n.li,{children:["团队统一",(0,s.jsx)(n.code,{children:".cursorignore"}),"配置"]}),"\n",(0,s.jsx)(n.li,{children:"使用代码库索引功能快速理解项目"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"常见问题解决",children:["常见问题解决",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常见问题解决",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"索引不同步或失败问题",children:["索引不同步或失败问题",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#索引不同步或失败问题",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["点击",(0,s.jsx)(n.code,{children:"Delete Index"}),"删除索引，然后重新打开项目"]}),"\n",(0,s.jsxs)(n.li,{children:["或者点击",(0,s.jsx)(n.code,{children:"Resync Index"}),"重新同步"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:h,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:'如下图所示，索引被删除时，需要点击"Compute Index"重新计算：'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:c,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h3,{id:"索引进度条卡住",children:["索引进度条卡住",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#索引进度条卡住",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"如果索引进度条卡住（一直显示 Pause Indexing）："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:r,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"如果出现这种情况，要确定下网络是否正常，之前层遇到过网络连接问题导致索引卡住。或 者尝试删除索引，重新计算。"}),"\n",(0,s.jsxs)(n.h3,{id:"代码安全问题",children:["代码安全问题",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码安全问题",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["关于代码安全，Cursor 的",(0,s.jsx)(n.a,{href:"https://www.cursor.com/privacy",title:"https://www.cursor.com/privacy",target:"_blank",rel:"noopener noreferrer",children:"隐私政策"}),"说明："]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"代码会分成小块上传到服务器计算嵌入向量"}),"\n",(0,s.jsx)(n.li,{children:"所有明文代码在请求完成后立即删除"}),"\n",(0,s.jsx)(n.li,{children:"只有嵌入向量和元数据（如哈希值、文件名）会存储在数据库中"}),"\n",(0,s.jsx)(n.li,{children:"源代码本身不会被保存"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"总结",children:["总结",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"代码库索引是 Cursor 中提升 AI 理解能力的关键功能。通过正确配置和使用这一功能，你可以："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"让 AI 更准确地回答项目相关问题"}),"\n",(0,s.jsx)(n.li,{children:"加快文件搜索速度"}),"\n",(0,s.jsx)(n.li,{children:"提升 AI 对项目整体结构的理解"}),"\n",(0,s.jsx)(n.li,{children:"获得更精准的代码建议和重构方案"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"合理使用代码库索引功能，将大大提高你的开发效率，让 AI 成为你更得力的编程助手。"})]})}function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}let A=b;b.__RSPRESS_PAGE_META={},b.__RSPRESS_PAGE_META["Cursor%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%EF%BC%9AAI%20%E9%A9%B1%E5%8A%A8%E7%9A%84%E6%99%BA%E8%83%BD%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%2F9-%E5%9F%BA%E7%A1%80%E7%AF%87%20%EF%BD%9C%20%E4%BB%A3%E7%A0%81%E5%BA%93%E7%B4%A2%E5%BC%95%EF%BC%9A%E8%AE%A9%20AI%20%E6%9B%B4%E6%87%82%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE.md"]={toc:[{text:"什么是代码库索引？",id:"什么是代码库索引",depth:2},{text:"为什么需要代码库索引？",id:"为什么需要代码库索引",depth:2},{text:"使用效果对比",id:"使用效果对比",depth:2},{text:"版本变化",id:"版本变化",depth:3},{text:"实际效果对比",id:"实际效果对比",depth:3},{text:"如何配置代码库索引",id:"如何配置代码库索引",depth:2},{text:"基本设置",id:"基本设置",depth:3},{text:"重要配置选项",id:"重要配置选项",depth:3},{text:"1. 自动索引新文件夹",id:"1-自动索引新文件夹",depth:4},{text:"2. 忽略文件设置",id:"2-忽略文件设置",depth:4},{text:"3. Git 关系图",id:"3-git-关系图",depth:4},{text:"实际应用：快速理解项目",id:"实际应用快速理解项目",depth:2},{text:"最佳实践",id:"最佳实践",depth:2},{text:"常见问题解决",id:"常见问题解决",depth:2},{text:"索引不同步或失败问题",id:"索引不同步或失败问题",depth:3},{text:"索引进度条卡住",id:"索引进度条卡住",depth:3},{text:"代码安全问题",id:"代码安全问题",depth:3},{text:"总结",id:"总结",depth:2}],title:"9-基础篇 ｜ 代码库索引：让 AI 更懂你的项目",headingTitle:"9-基础篇 ｜ 代码库索引：让 AI 更懂你的项目",frontmatter:{}}}}]);