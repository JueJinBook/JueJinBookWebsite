"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["98251"],{700780:function(e,s,n){n.r(s),n.d(s,{default:()=>p});var c=n(552676),r=n(740453);let l=n.p+"static/image/15f99b1b795db500eb32066caf9bef91.d7a9b12b.webp",i=n.p+"static/image/db459f0d0d13f07839d81c2bedcc5e7e.b9af5a37.webp",d=n.p+"static/image/6d7f286d056c7e9884d66ca3c0798105.e30517e3.webp",o=n.p+"static/image/3311ac3f01bce976f913606facc878e3.490dfa93.webp",a=n.p+"static/image/cb977e48e57693b93c21fa8c49197e18.ec5a099b.webp",h=n.p+"static/image/36ebe98ec5f80dff132c3384a4436eb5.eb89dbae.webp",t=n.p+"static/image/536a431d91d0e209358e16ad361bc833.236d9cd2.webp";function j(e){let s=Object.assign({h1:"h1",a:"a",p:"p",em:"em",code:"code",img:"img",blockquote:"blockquote",strong:"strong",h2:"h2",ul:"ul",li:"li",pre:"pre"},(0,r.ah)(),e.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.h1,{id:"8console-篇---异步的-console",children:["8.console 篇 - 异步的 console",(0,c.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#8console-篇---异步的-console",children:"#"})]}),"\n",(0,c.jsxs)(s.p,{children:["如今，越来越多与浏览器有关的 API 都是 ",(0,c.jsxs)(s.em,{children:["基于 ",(0,c.jsx)(s.code,{children:"Promise"})," 的"]})," 。当你使用 ",(0,c.jsx)(s.code,{children:"promise"})," 的时候通常配套用 ",(0,c.jsx)(s.code,{children:".then(处理方法)"})," 或者 将 ",(0,c.jsx)(s.code,{children:"promise"})," 包裹在 ",(0,c.jsx)(s.code,{children:"async"})," 方法中，再使用 ",(0,c.jsx)(s.code,{children:"await"})," 来接收结果。"]}),"\n",(0,c.jsxs)(s.p,{children:["我们在 ",(0,c.jsx)(s.code,{children:"JavaScript/TypeScript"})," 中大量使用的东西，但如果在 ",(0,c.jsx)(s.code,{children:"Console"})," 中书写这样的结构很不方便。"]}),"\n",(0,c.jsx)(s.p,{children:"像下面这样"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)("img",{src:t,alt:""})}),"\n",(0,c.jsx)(s.p,{children:"或者这样"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)("img",{src:h,alt:""})}),"\n",(0,c.jsx)(s.p,{children:"这样太难用了！不是输入之前就被触发了，就是括号漏写了..."}),"\n",(0,c.jsxs)(s.blockquote,{children:["\n",(0,c.jsx)(s.p,{children:(0,c.jsxs)(s.strong,{children:["但如果 ",(0,c.jsx)(s.code,{children:"console"})," 默认就被 ",(0,c.jsx)(s.code,{children:"async"})," 包裹呢？"]})}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:["你猜怎么着，还真是这样！你可以直接使用 ",(0,c.jsx)(s.code,{children:"await"})," ："]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)("img",{src:a,alt:""})}),"\n",(0,c.jsxs)(s.p,{children:["事实上,在 ",(0,c.jsx)(s.code,{children:"Console"})," 中使用 ",(0,c.jsx)(s.code,{children:"promise"})," 比在源码中使用起来还要简单！"]}),"\n",(0,c.jsxs)(s.h2,{id:"1-用你的异步console-来看一些更酷的东西",children:["1. 用你的异步",(0,c.jsx)(s.code,{children:"console"})," 来看一些更酷的东西",(0,c.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#1-用你的异步console-来看一些更酷的东西",children:"#"})]}),"\n",(0,c.jsxs)(s.p,{children:["我和你一样，觉得 ",(0,c.jsx)(s.code,{children:"fetch"})," 的例子相当无聊 -- 所以再来一个新玩法：通过 ",(0,c.jsx)(s.code,{children:"console"})," 来获取到更多有意思的信息。"]}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"Storage"})," 系统的 ",(0,c.jsx)(s.strong,{children:"占用数"})," 和 ",(0,c.jsx)(s.strong,{children:"空闲数"})]}),"\n"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-javascript",children:"await navigator.storage.estimate()\n"})}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)("img",{src:o,alt:""})}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["设备的 ",(0,c.jsx)(s.strong,{children:"电池信息"})]}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:["为了达到更好的效果，我们将这个技巧和前几天中提到的 ",(0,c.jsx)(s.code,{children:"console.table"})," 来合并使用："]}),"\n",(0,c.jsxs)(s.p,{children:["敲黑板：这是一条",(0,c.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API",target:"_blank",rel:"noopener noreferrer",children:"不推荐使用的API"}),",尽管看起来这么酷炫..."]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)("img",{src:d,alt:""})}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.strong,{children:"媒体能力"})}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)("img",{src:i,alt:""})}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.strong,{children:"Cache storage keys"})}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:["(注：",(0,c.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage",target:"_blank",rel:"noopener noreferrer",children:"Cache storage keys"})," 一般用来对 ",(0,c.jsx)(s.code,{children:"request"})," 和 ",(0,c.jsx)(s.code,{children:"response"})," 进行缓存)"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)("img",{src:l,alt:""})}),"\n",(0,c.jsx)(s.p,{children:"更多的例子就不一一举例了。"})]})}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.ah)(),e.components);return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(j,{...e})}):j(e)}let p=x;x.__RSPRESS_PAGE_META={},x.__RSPRESS_PAGE_META["%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%20Chrome%20%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%2F8.console%20%E7%AF%87%20-%20%E5%BC%82%E6%AD%A5%E7%9A%84%20console.md"]={toc:[{text:"1. 用你的异步`console` 来看一些更酷的东西",id:"1-用你的异步console-来看一些更酷的东西",depth:2}],title:"8.console 篇 - 异步的 console",headingTitle:"8.console 篇 - 异步的 console",frontmatter:{}}}}]);