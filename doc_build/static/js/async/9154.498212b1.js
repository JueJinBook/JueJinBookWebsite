"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["9154"],{120745:function(e,n,i){i.r(n),i.d(n,{default:()=>o});var d=i(552676),a=i(740453);let c=i.p+"static/image/a9d4590703d94a4a1c8bfbecc6368841.efdd07f7.webp",s=i.p+"static/image/9d77c9fdd1c50cc2613246ef65c89883.917cf5af.webp",l=i.p+"static/image/4506198382aea30a0bb2ed53bbe49dd8.8917df06.webp",r=i.p+"static/image/24132ac7c516fbb10a6e15c0e4b12e54.a9695f8e.webp";function t(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ol:"ol",li:"li",h2:"h2",img:"img",pre:"pre",strong:"strong",br:"br"},(0,a.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"30-福利3宽屏适配",children:["30 福利3：宽屏适配",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#30-福利3宽屏适配",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["最近（20201014）",(0,d.jsx)(n.code,{children:"Uniapp"}),"官方在",(0,d.jsx)(n.code,{children:"HBuilderX 2.9.3"}),"版本更新中，增加了PC宽屏适配的功能，在写下本章时该功能只支持",(0,d.jsx)(n.code,{children:"H5"}),"端，这章来尝尝鲜。"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"https://uniapp.dcloud.net.cn/adapt",target:"_blank",rel:"noopener noreferrer",children:"官方文档"}),"介绍得很详细，这章我打算以我的看法来介绍。"]}),"\n",(0,d.jsx)(n.p,{children:"目前适配主要大致分为两种："}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["框架级适配 -- 在 ",(0,d.jsx)(n.code,{children:"page.json"})," 增加配置项，可选有",(0,d.jsx)(n.code,{children:"leftWindow"}),"、",(0,d.jsx)(n.code,{children:"rightWindow"}),"、",(0,d.jsx)(n.code,{children:"topWindow"})]}),"\n",(0,d.jsxs)(n.li,{children:["组件级适配 -- 使用",(0,d.jsx)(n.code,{children:"match-media"}),"组件"]}),"\n"]}),"\n",(0,d.jsxs)(n.h2,{id:"框架级适配",children:["框架级适配",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#框架级适配",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"leftWindow"}),"、",(0,d.jsx)(n.code,{children:"rightWindow"}),"、",(0,d.jsx)(n.code,{children:"topWindow"}),"，顾名思义就知道代表",(0,d.jsx)(n.code,{children:"左右上"}),"的位置，从用户体验和产品角度，这种模式对使用范围还是有所约束，适合上导航，左分类，右内容的布局，对，我说的就是",(0,d.jsx)(n.code,{children:"后台管理系统"}),"。"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)("img",{src:r,alt:""})}),"\n",(0,d.jsxs)(n.p,{children:["首先，在",(0,d.jsx)(n.code,{children:"page.json"}),"里加入配置："]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:'{\n  "globalStyle": {\n\n  },\n  "topWindow": {\n    "path": "responsive/top-window.vue", // 指定 topWindow 页面文件\n    "style": {\n      "height": 60\n    },\n    "matchMedia": {\n      "minWidth": 0\n    }\n  },\n  "leftWindow": {\n    "path": "responsive/left-window.vue", // 指定 leftWindow 页面文件\n    "style": {\n      "width": 300\n    }\n  },\n  "rightWindow": {\n    "path": "responsive/right-window.vue", // 指定 rightWindow 页面文件\n    "style": {\n      "width": "calc(100vw - 400px)" // 页面宽度\n    },\n    "matchMedia": {\n      "minWidth": 768 //生效条件，当窗口宽度大于768px时显示\n    }\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["然后建立目录和文件",(0,d.jsx)(n.code,{children:"responsive/right-window.vue"}),"，加入用于显示右内容的代码："]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",children:'\x3c!--responsive/right-window.vue--\x3e\n<template>\n  <view>\n    <pages-detail-artDetail ref="detailPage"></pages-detail-artDetail>\n  </view>\n</template>\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"responsive/top-window.vue"}),"，加入用于显示上导航的代码："]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",children:'\x3c!--responsive/top-window.vue--\x3e\n<template>\n  <view>\n    <view class="logo">logo</view>\n    <pages-head-nav ref="navPage"></pages-head-nav>\n  </view>\n</template>\n'})}),"\n",(0,d.jsxs)(n.p,{children:["这里要说明一下，",(0,d.jsx)(n.code,{children:"<pages-detail-artDetail>"}),"组件是",(0,d.jsx)(n.strong,{children:"按照目录结构"}),"来命名的，他表示的是",(0,d.jsx)(n.code,{children:"pages -> detail -> artDetail文件"}),"，"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,d.jsxs)(n.p,{children:["组件数据渲染通过",(0,d.jsx)(n.code,{children:"uni.$emit"}),"和",(0,d.jsx)(n.code,{children:"uni.$on"}),"通信获取："]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"\x3c!--父--\x3e\nuni.$emit('updateDetail', {\n  detail: encodeURIComponent(JSON.stringify(detail))\n})\n\x3c!--子--\x3e\nuni.$on('updateDetail', (e) => {\n  this.$refs.detailPage.load(e.detail);\n})\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"组件级适配",children:["组件级适配",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#组件级适配",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"match-media"}),"组件是媒体查询适配组件，用于动态屏幕适配，可以在页面多次使用。"]}),"\n",(0,d.jsxs)(n.p,{children:["在",(0,d.jsx)(n.code,{children:"match-media"}),"组件中放置内容，并为组件指定一组",(0,d.jsx)(n.code,{children:"media query"}),"媒体查询规则，如屏幕宽度。运行时，如屏幕宽度满足查询条件，这个组件就会被展示，反之则隐藏。"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",children:'<template>\n    <view>\n        <match-media :min-width="375" :max-width="800">\n          <view>当页面最小宽度 375px， 页面宽度最大 800px 时显示</view>\n        </match-media>\n\n        <match-media :min-height="400" :orientation="landscape">\n          <view>当页面高度不小于 400px 且屏幕方向为纵向时展示这里</view>\n        </match-media>\n    </view>\n</template>\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)("img",{src:l,alt:""})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)("img",{src:s,alt:""}),(0,d.jsx)(n.br,{}),"\n","页面小于375px，第一段代码被隐藏了。"]}),"\n",(0,d.jsxs)(n.h2,{id:"小结",children:["小结",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#小结",children:"#"})]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["PC宽屏适配这个功能的出现，预示着",(0,d.jsx)(n.code,{children:"Uniapp"}),"实现了全平台开发，是一个里程碑。"]}),"\n",(0,d.jsx)(n.li,{children:"相信不久的将来，会有更多自适应组件和插件出来，改进开发方式，提高开发效率，少点996，多点955 :)。"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)("img",{src:c,alt:""})})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}let o=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["Uniapp%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E8%BF%9B%E9%98%B6%2F30%20%E7%A6%8F%E5%88%A93%EF%BC%9A%E5%AE%BD%E5%B1%8F%E9%80%82%E9%85%8D.md"]={toc:[{text:"框架级适配",id:"框架级适配",depth:2},{text:"组件级适配",id:"组件级适配",depth:2},{text:"小结",id:"小结",depth:2}],title:"30 福利3：宽屏适配",headingTitle:"30 福利3：宽屏适配",frontmatter:{}}}}]);