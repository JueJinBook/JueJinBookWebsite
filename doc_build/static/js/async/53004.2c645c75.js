"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["53004"],{537460:function(e,n,r){r.r(n),r.d(n,{default:()=>A});var s=r(552676),c=r(740453);let i=r.p+"static/image/dcdcde47ad15b46e252b09bec6df5a77.9c367a30.webp",a=r.p+"static/image/a586ce4f69649d139d0673deaf47b392.0a726ec4.webp",p=r.p+"static/image/71ab0f9a7f960cb6212c467d9b317c33.c1ad0ddb.webp",d=r.p+"static/image/4db787a03a5e3a05d5a1b1bd9385198d.6fd80003.webp",t=r.p+"static/image/5348a0a0640a5b31f3058aed33eb5538.f895ff51.webp",l=r.p+"static/image/b870afa08c7d12c99c637cf3147b6d5a.3b78e975.webp",h=r.p+"static/image/e31e3e3fb04d531d08542439e0558b6a.77b23526.webp";function x(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",strong:"strong",img:"img",ul:"ul",li:"li"},(0,c.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"4typescript-类型系统支持哪些类型和类型运算",children:["4.TypeScript 类型系统支持哪些类型和类型运算？",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4typescript-类型系统支持哪些类型和类型运算",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"学完前几节我们知道 TypeScript 给 JavaScript 加了一套静态类型系统，还支持了泛型和各种类型运算逻辑。"}),"\n",(0,s.jsx)(n.p,{children:"那么这个类型系统里都有哪些类型？支持哪些类型运算逻辑？"}),"\n",(0,s.jsxs)(n.h2,{id:"typescript-类型系统中的类型",children:["TypeScript 类型系统中的类型",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#typescript-类型系统中的类型",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"静态类型系统的目的是把类型检查从运行时提前到编译时，那 TS 类型系统中肯定要把 JS 的运行时类型拿过来，也就是 number、boolean、string、object、bigint、symbol、undefined、null 这些类型，还有就是它们的包装类型 Number、Boolean、String、Object、Symbol。"}),"\n",(0,s.jsx)(n.p,{children:"这些很容易理解，给 JS 添加静态类型，总没有必要重新造一套基础类型吧，直接复用 JS 的基础类型就行。"}),"\n",(0,s.jsx)(n.p,{children:"复合类型方面，JS 有 class、Array，这些 TypeScript 类型系统也都支持，但是又多加了三种类型：元组（Tuple）、接口（Interface）、枚举（Enum）。"}),"\n",(0,s.jsxs)(n.h3,{id:"元组",children:["元组",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#元组",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"元组（Tuple）"}),"就是元素个数和类型固定的数组类型："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type Tuple = [number, string];\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"接口",children:["接口",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#接口",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"接口（Interface）"}),"可以描述函数、对象、构造器的结构："]}),"\n",(0,s.jsx)(n.p,{children:"对象："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface IPerson {\n    name: string;\n    age: number;\n}\n\nclass Person implements IPerson {\n    name: string;\n    age: number;\n}\n\nconst obj: IPerson = {\n    name: 'guang',\n    age: 18\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"函数："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface SayHello {\n    (name: string): string;\n}\n\nconst func: SayHello = (name: string) => {\n    return 'hello,' + name\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"构造器："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface PersonConstructor {\n    new (name: string, age: number): IPerson;\n}\n\nfunction createPerson(ctor: PersonConstructor):IPerson {\n    return new ctor('guang', 18);\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"对象类型、class 类型在 TypeScript 里也叫做索引类型，也就是索引了多个元素的类型的意思。对象可以动态添加属性，如果不知道会有什么属性，可以用可索引签名："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface IPerson {\n    [prop: string]: string | number;\n}\nconst obj:IPerson = {};\nobj.name = 'guang';\nobj.age = 18;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["总之，",(0,s.jsx)(n.strong,{children:"接口可以用来描述函数、构造器、索引类型（对象、class、数组）等复合类型"}),"。"]}),"\n",(0,s.jsxs)(n.h3,{id:"枚举",children:["枚举",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#枚举",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"枚举（Enum）"}),"是一系列值的复合："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"enum Transpiler {\n    Babel = 'babel',\n    Postcss = 'postcss',\n    Terser = 'terser',\n    Prettier = 'prettier',\n    TypeScriptCompiler = 'tsc'\n}\n\nconst transpiler = Transpiler.TypeScriptCompiler;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["此外，TypeScript 还支持",(0,s.jsx)(n.code,{children:"字面量类型"}),"，也就是类似 1111、'aaaa'、{ a: 1} 这种值也可以做为类型。"]}),"\n",(0,s.jsxs)(n.p,{children:["其中，字符串的字面量类型有两种，一种是普通的字符串字面量，比如 'aaa'，另一种是模版字面量，比如 ",(0,s.jsx)(n.code,{children:"aaa${string}"}),"，它的意思是以 aaa 开头，后面是任意 string 的字符串字面量类型。"]}),"\n",(0,s.jsx)(n.p,{children:"所以想要约束以某个字符串开头的字符串字面量类型时可以这样写："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:h,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"还有四种特殊的类型：void、never、any、unknown："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"never"})," 代表不可达，比如函数抛异常的时候，返回值就是 never。"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"void"})," 代表空，可以是 undefined 或 never。"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"any"})," 是任意类型，任何类型都可以赋值给它，它也可以赋值给任何类型（除了 never）。"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"unknown"})," 是未知类型，任何类型都可以赋值给它，但是它不可以赋值给别的类型。"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"这些就是 TypeScript 类型系统中的全部类型了，大部分是从 JS 中迁移过来的，比如基础类型、Array、class 等，也添加了一些类型，比如 枚举（enum）、接口（interface）、元组等，还支持了字面量类型和 void、never、any、unknown 的特殊类型。"}),"\n",(0,s.jsxs)(n.h3,{id:"类型的装饰",children:["类型的装饰",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#类型的装饰",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"除了描述类型的结构外，TypeScript 的类型系统还支持描述类型的属性，比如是否可选，是否只读等："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface IPerson {\n    readonly name: string;\n    age?: number;\n}\n\ntype tuple = [string, number?];\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"typescript-类型系统中的类型运算",children:["TypeScript 类型系统中的类型运算",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#typescript-类型系统中的类型运算",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"我们知道了 TypeScript 类型系统里有哪些类型，那么可以对这些类型做什么类型运算呢？"}),"\n",(0,s.jsxs)(n.h3,{id:"条件extends--",children:["条件：extends ? :",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#条件extends--",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["TypeScript 里的条件判断是 ",(0,s.jsx)(n.code,{children:"extends ? :"}),"，叫做条件类型（Conditional Type）比如："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type res = 1 extends 2 ? true : false;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:l,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"这就是 TypeScript 类型系统里的 if else。"}),"\n",(0,s.jsx)(n.p,{children:"但是，上面这样的逻辑没啥意义，静态的值自己就能算出结果来，为什么要用代码去判断呢？"}),"\n",(0,s.jsx)(n.p,{children:"所以，类型运算逻辑都是用来做一些动态的类型的运算的，也就是对类型参数的运算。"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type isTwo<T> = T extends 2 ? true: false;\n\ntype res = isTwo<1>;\ntype res2 = isTwo<2>;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["这种类型也叫做",(0,s.jsx)(n.code,{children:"高级类型"}),"。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"高级类型的特点是传入类型参数，经过一系列类型运算逻辑后，返回新的类型。"})}),"\n",(0,s.jsxs)(n.h3,{id:"推导infer",children:["推导：infer",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#推导infer",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"如何提取类型的一部分呢？答案是 infer。"}),"\n",(0,s.jsx)(n.p,{children:"比如提取元组类型的第一个元素："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type First<Tuple extends unknown[]> = Tuple extends [infer T,...infer R] ? T : never;\n\ntype res = First<[1,2,3]>;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["注意，第一个 extends 不是条件，条件类型是 ",(0,s.jsx)(n.code,{children:"extends ? :"}),"，这里的 extends 是约束的意思，也就是约束类型参数只能是数组类型。"]}),"\n",(0,s.jsx)(n.p,{children:"因为不知道数组元素的具体类型，所以用 unknown。"}),"\n",(0,s.jsx)(n.p,{children:"infer 在后面的章节会大量用到，这里先简单了解即可。"}),"\n",(0,s.jsxs)(n.h3,{id:"联合",children:["联合：｜",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#联合",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"联合类型（Union）类似 js 里的或运算符 |，但是作用于类型，代表类型可以是几个类型之一。"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type Union = 1 | 2 | 3;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"交叉",children:["交叉：&",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#交叉",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"交叉类型（Intersection）类似 js 中的与运算符 &，但是作用于类型，代表对类型做合并。"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type ObjType = {a: number } & {c: boolean};\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:t,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"注意，同一类型可以合并，不同的类型没法合并，会被舍弃："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,s.jsxs)(n.h3,{id:"映射类型",children:["映射类型",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#映射类型",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"对象、class 在 TypeScript 对应的类型是索引类型（Index Type），那么如何对索引类型作修改呢？"}),"\n",(0,s.jsxs)(n.p,{children:["答案是",(0,s.jsx)(n.code,{children:"映射类型"}),"。"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type MapType<T> = {\n  [Key in keyof T]?: T[Key]\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["keyof T 是查询索引类型中所有的索引，叫做",(0,s.jsx)(n.code,{children:"索引查询"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:["T[Key] 是取索引类型某个索引的值，叫做",(0,s.jsx)(n.code,{children:"索引访问"}),"。"]}),"\n",(0,s.jsx)(n.p,{children:"in 是用于遍历联合类型的运算符。"}),"\n",(0,s.jsx)(n.p,{children:"比如我们把一个索引类型的值变成 3 个元素的数组："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type MapType<T> = {\n    [Key in keyof T]: [T[Key], T[Key], T[Key]]\n}\n\ntype res = MapType<{a: 1, b: 2}>;\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:d,alt:""})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.typescriptlang.org/play?#code/C4TwDgpgBAsghmAKuCAeRA+KBeKBvAKCmKgG0BpCEKASwDsoBrKgewDMpEBdALjMQpUuAGk6CQIsZQlcCAXwIFQkKACcIAZxywEySKjxw+ARlEAjPgCY5GANxA",target:"_blank",rel:"noopener noreferrer",children:"试一下"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"映射类型就相当于把一个集合映射到另一个集合，这是它名字的由来"}),"。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:p,alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["除了值可以变化，索引也可以做变化，用 as 运算符，叫做",(0,s.jsx)(n.code,{children:"重映射"}),"。"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type MapType<T> = {\n    [\n        Key in keyof T \n            as `${Key & string}${Key & string}${Key & string}`\n    ]: [T[Key], T[Key], T[Key]]\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"我们用 as 把索引也做了修改，改成了 3 个 key 重复："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:a,alt:""})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.typescriptlang.org/play?#code/C4TwDgpgBAsghmAKuCAeRA+KBeKBvAKCmKgG0iTKBpCEKASwDsoBrWgewDMpEoLKBUOAGcoAAwAkeGnQBkUYcABOTAOYBfKTKjzFKxhq20dC5WvVj+UALoAuMolIzrAGh5Par98+sF1BAlBIKCUIUVx4JBRUPDh7AEY3ACN7ACZ1DABuIA",target:"_blank",rel:"noopener noreferrer",children:"试一下"})}),"\n",(0,s.jsx)(n.p,{children:"这里的 & string 可能大家会迷惑，解释一下："}),"\n",(0,s.jsx)(n.p,{children:"因为索引类型（对象、class 等）可以用 string、number 和 symbol 作为 key，这里 keyof T 取出的索引就是 string | number | symbol 的联合类型，和 string 取交叉部分就只剩下 string 了。就像前面所说，交叉类型会把同一类型做合并，不同类型舍弃。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:i,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"因为 js 处理对象比较多，所以索引类型的映射比较重要。"}),"\n",(0,s.jsxs)(n.h2,{id:"总结",children:["总结",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"给 JavaScript 添加静态类型系统，那肯定是能复用的就复用，所以在 TypeScript 里，基础类型和 class、Array 等复合类型都是和 JavaScript 一样的，只是又额外加了接口（interface）、枚举（enum）、元组这三种复合类型（对象类型、class 类型在 TypeScript 里叫做索引类型），还有 void、never、any、unkown 四种特殊类型，以及支持字面量做为类型。此外，TypeScript 类型系统也支持通过 readonly、？等修饰符对属性的特性做进一步的描述。"}),"\n",(0,s.jsx)(n.p,{children:"此外，TypeScript 支持对类型做运算，这是它的类型系统的强大之处，也是复杂之处。"}),"\n",(0,s.jsx)(n.p,{children:"TypeScript 支持条件、推导、联合、交叉等运算逻辑，还有对联合类型做映射。"}),"\n",(0,s.jsxs)(n.p,{children:["这些逻辑是针对类型参数，也就是泛型（类型参数）来说的，",(0,s.jsx)(n.strong,{children:"传入类型参数，经过一系列类型运算逻辑后，返回新的类型的类型就叫做高级类型"}),"，如果是静态的值，直接算出结果即可，没必要写类型逻辑。"]}),"\n",(0,s.jsx)(n.p,{children:"这些语法看起来没有多复杂，但是他们却可以实现很多复杂逻辑，就像 JS 的语法也不复杂，却可以实现很多复杂逻辑一样。"}),"\n",(0,s.jsx)(n.p,{children:"后面我们会大量用到这些类型编程语法来实现各种复杂的类型逻辑。"})]})}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}let A=j;j.__RSPRESS_PAGE_META={},j.__RSPRESS_PAGE_META["TypeScript%20%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E9%80%9A%E5%85%B3%E7%A7%98%E7%B1%8D%2F4.TypeScript%20%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%94%AF%E6%8C%81%E5%93%AA%E4%BA%9B%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%B1%BB%E5%9E%8B%E8%BF%90%E7%AE%97%EF%BC%9F.md"]={toc:[{text:"TypeScript 类型系统中的类型",id:"typescript-类型系统中的类型",depth:2},{text:"元组",id:"元组",depth:3},{text:"接口",id:"接口",depth:3},{text:"枚举",id:"枚举",depth:3},{text:"类型的装饰",id:"类型的装饰",depth:3},{text:"TypeScript 类型系统中的类型运算",id:"typescript-类型系统中的类型运算",depth:2},{text:"条件：extends ? :",id:"条件extends--",depth:3},{text:"推导：infer",id:"推导infer",depth:3},{text:"联合：｜",id:"联合",depth:3},{text:"交叉：&",id:"交叉",depth:3},{text:"映射类型",id:"映射类型",depth:3},{text:"总结",id:"总结",depth:2}],title:"4.TypeScript 类型系统支持哪些类型和类型运算？",headingTitle:"4.TypeScript 类型系统支持哪些类型和类型运算？",frontmatter:{}}}}]);