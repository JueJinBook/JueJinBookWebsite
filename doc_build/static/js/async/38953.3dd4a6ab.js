"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["38953"],{398837:function(n){n.exports="data:image/webp;base64,UklGRqgBAABXRUJQVlA4WAoAAAAQAAAAPAAADAAAQUxQSFgBAAABkHTbtqnHutdnxrZtp2XbSdm2bdu2bbtV6ZVt27bv+8oRMQH8J51GjJ4a8O8cSKfxVRk0SPsnlpbS5IUCzhf8VUYVShdEi/N1wemjpWBpD8htUdj/Jiswt4KA8Rdb95u5VOjfFMYdubMmEedlg8Z0JHDiiOVT9lZLeHlLu0s0m76hb+eDVYyyetWamAfCbBkwcwzoL+cSMYGpcpuvHodKBG2PnpIdmsoA2dTcpwEMn41Z/GM5bfcL4wDO5kPzN4MHDjLHgvyr/GazkfNhbzvougl2dTADnACnz9Ya7eTVSI9bhlYraFuYbCoTqGmAxXt3cza2x/jOew4EztZA2WlGuHRaCGYNHG+Gnm1DP2cBb5MeiLp3rlQdcx7ETT80l4YlQcYFawg51b8Yw9aeI8c4mp0YN2zzkFr81oRjkFwzyQIzQK3DtEYNYK0GNDr0Gn6v3ACYKfjHAVZQOCAqAAAAMAMAnQEqPQANAD6dSp9LJaQioagIALATiWkAAC51m3P+wAD++2UAAAAA"},962028:function(n){n.exports="data:image/webp;base64,UklGRsYBAABXRUJQVlA4WAoAAAAQAAAAPgAADAAAQUxQSHYBAAABkGzbtmk749m2bdu2bZRsx7Zt2zaqtm2UbDv7xPmAiJgA/ofRs6dXFdjYjBk53e5v0hkyc7JDLVCxUJGWp/JHg2m6ANRE/B26+zwwuFsPOs81wGAH6xJpvQ/cjfs7pvUHFrtAyBdvUMkEDG7kgO1bVUHXEJAzQM7odx1YLANFgM7jt3s7VADGFMLU03fX+GGxYsDYZlwmDV8+dW+JhI2ttPUPxn25Ot0X0XPBvS+rhTkAiweBxu04/MYyTVbvi/XxHEGxu6dka7W8lGKP/R/eOICiFjDmqTBOuB0DTa8GDx6kgRZpt/jd+oDdyyrISwcyTwkmgO0HNWWlWUuRHr8MZWVBsbpGulpeYgHA1TiY0g2sLgc8p8pB+THGGvWcDRrlJndcLzXQ11zAxlbaGtHqjgIEH5GDXYvHVC3pBMi5ogb+Zwako7Wza8RYI62z40ZsHlzKb61ctrG+9xZjwBybWC1+VlUJwFAJUFFFXYXfa456sAf/Q1ZQOCAqAAAAMAMAnQEqPwANAD6dSp9LJaQioagIALATiWkAAC51m3P+wAD++2UAAAAA"},101642:function(n,A,e){e.r(A),e.d(A,{default:()=>h});var t=e(552676),a=e(740453),r=e(398837),s=e(962028);let i="data:image/webp;base64,UklGRgIDAABXRUJQVlA4WAoAAAAQAAAAZQAADgAAQUxQSLACAAABkEbb1hlJJ2jbtjm2bdu2mbFtG82xbdu2bXuqq5FkPP8jYgL4bzooiqI4AWHjJyW2EQEzRV3ZElqOm9ha+HOsFEVRPAH/UZMTu8iA2ENRFKW6NWAS9TIuRIJuB4MwSV4ASJGvZ4ZEj7zqXGM18vNq4DLhz5Ai7y4PNYEWx6OQZqwBhIj7CaGR/W57AwGpJYGely2AIGMmwDe1AHintiyzHPlFK2ix98/AKaU60OKeHeCQWgRwSCkPNqk9gCZfrSDr9wIAkrElUO+jKdQyZAf67DWHxMEq2c8EcDDF0exXVU1xhpBPlVC/VoAKBjsobSwMxO0Bll9A7ZnaGpi1Q3Qqe6oS4LrHikLLDFtGQuuEDlus6Nlzz8iRpwWVfaCunc7kU8CcB5LKwtgHGHNMcCx+vA7A7SEgfh6qUTI1L3Bp66jZzwMAKpcDgj6bQ6c9orDcoUx5psZVO4G6kKJbSOfsJODRdNTZU8sDR/aMmv4qCsA/tRi4pjbRiLsogocxP6ybpuriBTTfDcKLjQPGlsBO4FgTfrWzsQqYGLtpTLhnBnbfy0FSoqrJV0uw+NgCOxuiPhUC6n0ygxOJKjcJSByOrUdqIJr2hhDsNHK11M2lVc3oDOIzBRt7/N5XBCoY7GDXOlX8AYD45dnHTA0/1wRg/i4QP08hHwwuAtwsFzTI9J0bVPYYnFT7qWA/QsM+UNdea8o5gIk7wydPiD7aBWDiCeBFHPnyxN+/OR+w2XSt3rhD+QRToubcuzYBDmzpXhKOdQJWTRpjSaMlXSbUY0DcxN3dpjpo/GyWuNt3k0UwX3a11aBTJTAjcM6tmzNh0/521fjB4CINx9LOAV05dwj6jgDm7gAu4Mrv9i9SeT6NfNAVc0Tw43lTX43l3xie+mo+v16e1E/+Rwijhpn/hn85VlA4ICwAAABwAwCdASpmAA8APp1OoUylpCMiJIgAsBOJaQAAGqALK7Pu4AAA/vtlAAAAAA==",d="data:image/webp;base64,UklGRlQCAABXRUJQVlA4WAoAAAAQAAAATgAADgAAQUxQSAMCAAABkChJsmlbdXyubdu2bT3btm3btm3btm3btvbezx8QERPA/zh+5PBpeT/h2K/fSPe/SVlpzPhRPj+jmjjRGNOj9aX2xlH/PFAr/u+w31lPQei9ICnZ3CUA5Z7qSCzMpeFjGdxM+yvMz9cDmLJCqtpLK0H012AJML1cGlzf6QpMLAGFOQrL3zRnp0zQ+b6E7OJUhMW+hv1En4ow8vjNBWHYze46qDG+w/rNGLGptIiLq7iTiMeX8ghHP5Tw/1pMpMNbAxIbeIhMAJjeDfSvZhI8iFFyy68Ox4sEmjZtxVspBC2+6Its24yyTC0jyPkaKJCdnEHkeP2bZoJBguupUP919249DDGm4BK/eeg9hI6fKtKxVPpWCPkaiqWGig/ssC2uvm8isAFcP+ppNaNnIz50OlqNQF27jnhthaDtQ2R2MqZvlhEfmLwdZCfbV2o9OOJKDOC6oBZAyEgFVDrEIKvWE8Ggku197wt16GQrwFXSGaHbm7A+DZo0PGIGJO/yBzz2HilausBFC6A97g0UXjSAiONd8jFc07L3QGuTU4P7Lu1ejt9bbP+6kgf762oBAo8pALl/Qt9y6nZQpy7bayCtqwGw1AC6uuhr+d16kZEbbazqwqQQ7Vd7RBt/fl4GSvZNPGL+E3/zyjf3nGF46QYLELeaVBnAIU7LP5kwOQIgOIT/MABWUDggKgAAAFADAJ0BKk8ADwA+nUqgS6WkIyGmaACwE4lpAAAlESY2kK4AAP77ZQAAAA==",l="data:image/webp;base64,UklGRjoCAABXRUJQVlA4WAoAAAAQAAAATgAADgAAQUxQSOkBAAABkCjbtmlH8+TGdtK2bdu2bdu2bdu2bdu2bXewz4k/ICImgJg475RJC8uEIf7IkVOSRiXbutNnTU0VFrs5czzxvtDKdCIPrW4BTfNGjbhHWlpkfpnBpFasB6j5wcmwpjRt3il4UiRK+N5qCTB/s6nhlwCRMyijAbzvVYPEP52Flz9g+WL5R9DyI0r0e2VQdxYgKwZlCcPwOjDl0pPVWYizbMDYdqSeOHLx5L3VNIkS6xNokv2vhZz2xpA2qKKm9w83VDHdbIBFA8H1QXEyjmWqjX9QvEsVhEP3Hvquluj831VzcB845wNKBaUX6spiYvd4qhsrHhWGVt8GDRzsjifl7hLBE14i4/+tQ56py4FMQZnxd6DO6zjAfV0sIPEfF0eHacvQT1iEo4Owb9Zc38wSPd6g4igW7VOQU6grvep2G5ftfi7CkGmKBXXPMjag2xxwqxv7VcrbzekbW5DYmBCZ5HuW4a3btznvg4FkJ85X2LA6kaN4oCl/xw2yXepfFvftXYaNCfS6Om7EhkE1idiKp3ZWOTPK2VGsENikzTeipn1P8VCjd3YA8HcAnJ1xdSSiXbJn3xMroIVYqQHa/ftUHbxbfmrlGYaovOX7y4SQbszF2oaAufUAy8vNy4oW+eZlAxy93DwMMSkAVlA4ICoAAABQAwCdASpPAA8APp1KoEulpCMhpmgAsBOJaQAAJREmNpCuAAD++2UAAAA=";function c(n){let A=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",img:"img",code:"code",pre:"pre",strong:"strong",ul:"ul",li:"li"},(0,a.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(A.h1,{id:"第-13-节-复杂数据图表--箱线图",children:["第 13 节 复杂数据图表 \xb7 箱线图",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#第-13-节-复杂数据图表--箱线图",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"箱线图是一种结合了散点图和柱状图特性的复合数据图表，它主要用于展示一组或多组离散型数值数据的多个特征值及离散程度。"}),"\n",(0,t.jsx)(A.p,{children:"箱线图可以非常好地表现一组数据中大致的整体状况，从而配合统计学方法对数据进行分析和评价。"}),"\n",(0,t.jsxs)(A.h2,{id:"131-准备数据",children:["13.1 准备数据",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#131-准备数据",children:"#"})]}),"\n",(0,t.jsxs)(A.h3,{id:"1311-箱线图统计量",children:["13.1.1 箱线图统计量",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#1311-箱线图统计量",children:"#"})]}),"\n",(0,t.jsxs)(A.p,{children:["箱线图是利用离散数据中的 5 个统计量进行绘制的：最小值、第一四分位数 ",(0,t.jsx)("img",{src:l,alt:"Q_1"}),"、中位数、第三四分位数 ",(0,t.jsx)("img",{src:d,alt:"Q_3"})," 以及最大值，并利用 ",(0,t.jsx)("img",{src:l,alt:"Q_1"})," 和 ",(0,t.jsx)("img",{src:d,alt:"Q_3"})," 两个四分位数计算得到四分位距 ",(0,t.jsx)("img",{src:i,alt:"IQR"}),"。"]}),"\n",(0,t.jsxs)(A.p,{children:[(0,t.jsx)("img",{src:i,alt:"IQR"})," 是一种用于表示离散数据离散程度的统计量，其定义为一组离散数据中的第一四分位数与第三四分位数的差值。"]}),"\n",(0,t.jsx)(A.p,{children:"![IQR=Q_3-Q_1](./images/eb8148366d4dfb47df4e331b5b941605.webp %3DQ_3-Q_1)"}),"\n",(0,t.jsxs)(A.p,{children:["得到了 ",(0,t.jsx)("img",{src:i,alt:"IQR"})," 之后便可以继续推导出离散数据箱线图的内限 ",(0,t.jsx)("img",{src:"data:image/webp;base64,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",alt:"[Q_1-1.5 \\\\times IQR,Q_3+1.5 \\\\times IQR]"}),"，超出这个内限的值便为该组数据中的离群值（outlier），需要被单独标记。"]}),"\n",(0,t.jsx)(A.p,{children:"虽然在 ECharts 中已经提供了这些数据的计算工具，但是为了能够更好地理解其中的统计学含义，这里将会一步步地计算这些我们需要使用到的数据。"}),"\n",(0,t.jsxs)(A.h3,{id:"1312-计算统计量",children:["13.1.2 计算统计量",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#1312-计算统计量",children:"#"})]}),"\n",(0,t.jsxs)(A.p,{children:["跟前几节不一样的是，使用 ",(0,t.jsx)(A.code,{children:"Math.random()"})," 所生成的数据在不加以处理的情况下都会呈均匀分布，而像 ",(0,t.jsx)("img",{src:i,alt:"IQR"})," 这些用于表示数据离散程度的统计量在这里便失去了意义。因此，这一节会使用一组真实的数据来作为将要使用的数据。"]}),"\n",(0,t.jsx)(A.p,{children:"这份数据来自非常著名的物理实验 —— 迈克耳孙-莫雷实验，它是一项用于验证“以太”物质是否存在的实验。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const data = [ 850, 740, 900, 1070, 930, 850, 950, 980, 980, 880, 1000, 980, 930, 650, 760, 810, 1000, 1000, 960, 960 ]\n\n"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.strong,{children:"最小值 & 最大值"})}),"\n",(0,t.jsxs)(A.p,{children:["最小值和最大值可以说是我们非常熟悉的一对数据统计量，在 JavaScript 中计算这两个值的方法非常多，可以先使用排序然后取头尾两值。当然在 JavaScript 中我们有更好的方法，可以分别使用 ",(0,t.jsx)(A.code,{children:"Math.min()"})," 和 ",(0,t.jsx)(A.code,{children:"Math.max()"})," 来进行计算。"]}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const min = Math.min(...data) //=> 650\nconst max = Math.max(...data) //=> 1070\n\n"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.strong,{children:"中位数"})}),"\n",(0,t.jsxs)(A.p,{children:["中位数的定义为离散数据 ",(0,t.jsx)("img",{src:s,alt:"S"})," 在数轴上的中间值："]}),"\n",(0,t.jsxs)(A.ul,{children:["\n",(0,t.jsxs)(A.li,{children:["如果离散数据的个数 ",(0,t.jsx)("img",{src:r,alt:"n"})," 为奇数，则中位数就为第 ",(0,t.jsx)("img",{src:"data:image/webp;base64,UklGRuYCAABXRUJQVlA4WAoAAAAQAAAAdgAAHgAAQUxQSJACAAABkETb2rE397fi1dhvbdu2bf5fbdttbNu2Papt21O7Db7v+/mm44iYAPyfmu6mj6tad3345Ck1f+hg48bXLetWpe58+IChlBgwgw84qgHZ7tBq9wqRBr4UGLpOOuTgKA0G6kYQvvn+dlXdYpq47M+vHWv50YVvkG4cJ/tlAXWrWFJCCIklhDjw/DWOCc431JD9askyJ4TMWUsIseKp4gGuzIfJ91YsO4ZhmGqGYebw/DMOWP6xxdiXAlZPhmG8whmGGchTzWf22wHT7yoHgtcXGg6tN5LJd4GQ4PZO4B40AxoereEbcwfw91zXQxeWM+rtTYzCIxC4NS5ErgOxZcAFKznXxFVAz/BZ0EVYhE/kZpa71+kQYkj7ewFLA7pCB60jQwIix3Jpv0gDDa/2waY7ANYMMhCt2/ThM/i8Udj6AcDbEcZh1DbPpwKtvitYVjYARNYQ2TYDvrOAkFuvsnrAOf2Q7wa0DziVGlQ9j8OdcLvRKAoAkg8Dpq9GoJcXgoXW9S7XprFkO3dz7lSLDWnsXf3vZfmwXg8DNn05fPSIKcwx+Rl0feiu/ofDcB0AtPqllMuiEsHtlwS5jCVVM9xqMQdVuwUJgSWX4GuzNxwwW+jwqv3DNdjvyII74XYDfWc+VAJ9bh6eCPOK7ae8bS3u+J4uOLIA9LQ4lXXYTBfcSikA2MgAKJUwUcAw24dmrRLqL8NVkX9NqjPjdEg2cXkapDeHejV61I+gyqI/bbDjp1Rfgq2uaFs/kiq2O6RY90OuL/b++3KqsOtiYIAd77cFbVfUqAzAttRFakqZoakyc7HezKJbYM4EunT1ESFcoS9x9Z1zV962oorzmzOXr9yBvm082CKqDPDw8PBYrbfmE1ZQOCAwAAAA8AMAnQEqdwAfAD6dTqNNpaQjIiIIALATiWkAAAxkG/Km9x1gArwcAAD++2UAAAAA",alt:"\\\\frac{n+1}{2}"})," 个数值，",(0,t.jsx)("img",{src:"data:image/webp;base64,UklGRnIFAABXRUJQVlA4WAoAAAAQAAAA6gAAFwAAQUxQSBQFAAABoIZt2+FGu2aaNg0mbFNzbbtd20q7tm3bu2nXtm3btm3b5o+ZtDm62X7fz4iYAP4HNAyf7g++QlIpPG1io+qRLkoZN3xi2N9WdnQ78LAmFV3PqRPStEtannXeqQj5GZ5E6s3xov1blYsuZKXbSaBV3r/ItnsgjFqTRDS7otGfH5K06LAFxJQkTcs7PfhsxrXCpkL0uAfCs+i/iHvFIEBKIn0mASOKu0plgSA1QqAoE4I0MpN6dS/EQORWT0Awgp/aVQV+ZwJtZRcBAffKQdpPapnJFxCtiL4usqjwDgDJpKAJlgm2FN91GCQAlY9M8sAzwGVrNnlAVW8XqSce6zi0y53Kg4bvAyou7bgxHNvy7qveRImjlvcCzex+c7ekxbGt77AO18IUTJFOjUrWN1+2ttfg+gmVYOqFe8uzErKo/9iWpB07YsGE7TUVwiOVIxQqxR9r233T4F4djlQD3YTR3aZCzOLeZ46QfdSNQIha033JTLI5bjTrM3u6UlikUyfd/tyZVgBXVy+4fR4864Ptj5ZyN7XEZRUONaToJ6+qZcePg5XdSPdTyt5k4j4VJ6opFOnutJAS2eY9+bMkQR4gVunobAbAkt5guF+EHKOYKFr/RJyuLvPs2l25m1o2PvP3HNR7GcTIybCtO6aVRN/TsnkE0w2fI0j71MKsSYwxfbcTdV9B7NzdqU5JbL//+488CfEAIjtlVTB6vc9G8E8D5W7A8cP9R9Sh/HcdbXZi8nxWgPx/gqh5Gq3n+erovqRWSLSnDoT4twmqAoJ5k7M4QHgSBR3eDe432ICJcvdwsanVThg7Gfa0JP/v8b3jI9gzDu6WwVz/OKxaDCdrYyz6ADptVki8CQh80jchVQBD96IK5HojUvsETB2rEz+VBBh+CFb2lah4TeXd5RpMmaDH8stGpauCRpa3mdM8CvayQMVzQK5JTfplAqoCJCAYSPvV29tz1hyU4xahVstUTZo5VctY2g9O18D8PURqdhlA9aUK4T8kiV2t9DxphvFnuJ4BC2FPC61MbNzMqVZhDsD+ekDthZVHAlUBOjvpsBqmjkB4WHyc5koByJVt4HR8XkbHsaR3zeg2a5Du1hgrVjgHMx2xxWTmSKcmhYkdgSX1gaA5+r7pU9jtDnsx2Owku0OAxoeJ9+03AfQ1A26nu9yaHmEyIiKdovigAMYfNmqeCepf+jgITYUPaeh6LHO9wC+WidyJouGj4O7sbIj5e/AMGeGRTgWZ/rUWUl7VArnGiYsoY3fY7cEJWNIUzhaC8/1rUmpjK0cnMfRAl/g9E+oydtoALAc6OjZMbc3QkTByziBBluidi4bWndcd+SKW5gOqQkLq3NZC1Jm+5bHsbDcoLsB8ZZRjbd96uDTolYriJ6H0/jFmYUm/3mOz02XuoGHnp+h8rg3JS6MVPQZenWgT3wSjvzsoWiGxpdaua9F2axqAGhVzd8sFVQE6F1Myi2ABvK2AV4gKUPmAP2ADRF/wA8kLxABcG0aaUhbkmkrUzu6kZr8oJWWDN0CwDpAkDBKuFSzgYQRsKsDXAmBWo9ODtwEwaNAYwQpIBlwa7KGLyisgLy+FNtEqpe7Q3KbgliWSkRL//xbrn2jjv6xv/8Ta3U3m2ERr/2X22MTmdzf/xTVVUicj0ldSuzeHbWu6ZENon5yr3ZtdM6x8ssGnrMcp94Z1uirZAE3KuzdNK02m5EP+Qlnd24Rd+3InG0JO7ljg3pKxVlA4IDgAAADQBACdASrrABgAPp1Oo02lpCMiISgAsBOJaQoecAEwiTGogWdOnTp06dOnTp03wAD++2UAAAAAAA==",alt:"median=S_{\\\\frac{n+1}{2}}"}),"；"]}),"\n",(0,t.jsxs)(A.li,{children:["若数据的个数 ",(0,t.jsx)("img",{src:r,alt:"n"})," 为偶数，则中位数为最中间两个数值的平均值，",(0,t.jsx)("img",{src:"data:image/webp;base64,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",alt:"median=\\\\frac{1}{2}(S_{\\\\frac{n}{2}}+S_{\\\\frac{n}{2}+1})"}),")。"]}),"\n"]}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"let median = 0\nconst n = data.length\nconst sortedData = data.sort(function(a, b) {\n  return a - b\n})\n\nif (n % 2 == 1) {\n  median = sortedData[((n + 1) / 2) - 1]\n} else {\n  median = (sortedData[(n / 2 + 1) - 1] + sortedData[(n / 2) - 1]) / 2\n}\n\nconsole.log(median) //=> 940\n\n"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.strong,{children:"四分位数"})}),"\n",(0,t.jsx)(A.p,{children:"中位数实际上就是一个四分位数，将离散数据画在数轴上，然后以最小值和最大值作为范围，将数轴切分成四份。第一和第二份的边界点为第一四分位数，第二和第三份的边界点为中位数，而第三和第四份的边界点则为第三四分位数。"}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.img,{src:"https://user-gold-cdn.xitu.io/2018/8/12/1652bb63557e8b98?w=452&h=175&f=png&s=9623",alt:"四分位数"})}),"\n",(0,t.jsx)(A.p,{children:"当中位数的位置上不存在某一个特定的数值时，则取最中间两个数值的平均数。而第一和第三四分位数则除了需要合并两个相邻的数值以外，还需要根据各自的位置进行相应的计算。"}),"\n",(0,t.jsxs)(A.p,{children:["比如当第一四分位数的位置上并不是特定的一个数值时，则取前一个数乘以 ",(0,t.jsx)("img",{src:"data:image/webp;base64,UklGRvwBAABXRUJQVlA4WAoAAAAQAAAARAAAHgAAQUxQSKcBAAABkERb27Et57dt2862bTeqP9u2bdvmzLZdI9tuqAcfnmocERPAXzR0pDFVGqmCtx59Z0j77c9GqqChKXD0f+X9P26U1gdzRqscAjp8DfMywj3wwrwAZ5nb0plTFnQS0mdOWhRvT3UXT5m2NEmmezePwZeAXqXtxMqO+8sx7AE4vClrEhD1uCZkfXUVgsIApxCcwu1ucR1Yduvhtlzito6c1Y3MORM3zT/QVhKfKE+w3XKAbUPA72kFSkxhgWPwz/hLzQTnAYOlgzq5WyH0jrKXMANweFUG+n8eO2aMD37Ue4i1B95R+mNxJJD1w83DddUq5DM34uYmOHfspHSX2LD4DKDwFHOCRs8H3zaRjzLudmNIrEBCohJbt7/vAuWvjKlN4IE+E6aHB9yeMXXP6PbYqcMSmdzHDSDSA/D2xscLWxbtpNP9p549u92cpZGwz5gRZzUclpYzpWifdRqdKhYxxHmxk0bkeEwZmoXGpkbVuv6sFmRA+tZq1Q7uKC1r06nT3J+dog1I6NSp062DLWRAvZ8uGHpoPurC9ds25BnhvXLbtqkq8wEAVlA4IC4AAACQAwCdASpFAB8APp1Ook0lpCMiI0gAsBOJaQAAEwiTGuBblbOAAP77ZQAAAAAA",alt:"\\\\frac{1}{4}"})," 的乘积加上后一个数乘以 ",(0,t.jsx)("img",{src:"data:image/webp;base64,UklGRkACAABXRUJQVlA4WAoAAAAQAAAARAAAHgAAQUxQSOwBAAABkGzbtmlXM7Zt27ZtO6nZebZt27ZrLNm2bZvB2ftcrPcBETEB+H96zVhSSEOxdv5UO47FZQOjd40kho5D3xd6rJC/Ebi0icSGE0juCmdBF8bfSkio6GDYPTUORl3pB5oBS687g6/odTeFBjRHHdTiqAIb3itTUAXMusaypjxXweJfagS03o2ARtcc1qDDCqqX1oCg0uMCZPwKYSkNW75lnIbAfcbEhfZyBI+ly3fFQ/Lrfhh0BkB7hJxIWXFfNIbeBxReR1ECYPUoDfD6oiowMgOgZAIlc7lblAksvfJgqy/stoyY2QzP2RM2zttfxbB3ZDvIbhkAbB0M6D2JRehkzFc07rI/UyxQ7j+IObBeXQqm17jtgukAFF5GAv0+jRk9Wgd6yH4AaQ+4xtWHxJYAvL6raaiuXAn2jA1QUxMo19Zz1RkyDJkOoO4IZhuNmgfoVlo+9LjejMG2Ajg4ciHrmpsqQMy50Rkw3N85fpq5wdXpU3aPqoGcKixmsXXUAMBSA4C2NnS0IMugejEtXeLkWe3yTBEOe8kMPy5CYUk0laDOtSLq4wKJKC9SEmE5DlSGeEHExvzkpq5kIwLuW5KTD2yPYFXW18/pqrcm4FBfX3/lQCkLQHaXCogenAd+3bqt6/1IaK/YunUKjz5WUDggLgAAAJADAJ0BKkUAHwA+nU6iTSWkIyIjSACwE4lpAAATCJMa4FuVs4AA/vtlAAAAAAA=",alt:"\\\\frac{3}{4}"})," 的乘积，而并不是两者的平均数，因为这样才更符合第一四分位数的定义。第三四分位数同理。"]}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.img,{src:"https://juejin.im/equation?tex=%5Cbegin%7Bequation%7D%0A%5Cleft%5C%7B%0A%20%20%5Cbegin%7Barray%7D%7Blr%7D%0A%20%20%20%20Q_1%3DS_%7B%5Cfrac%7Bn%7D%7B4%7D%7D%20%26%20n%3D2k(k%20%5Cne%200)%20%5C%5C%0A%20%20%20%20Q_1%3D%5Cfrac%7B1%7D%7B4%7DS_%7B%5Cleft%20%5Clfloor%20%5Cfrac%7Bn%7D%7B4%7D%20%5Cright%20%5Crfloor%7D%20%2B%20%5Cfrac%7B3%7D%7B4%7DS_%7B%5Cleft%20%5Clfloor%20%5Cfrac%7Bn%7D%7B4%7D%20%5Cright%20%5Crfloor%20%2B%201%7D%20%26%20n%3D2k%2B1(k%20%5Cne%200)%0A%20%20%5Cend%7Barray%7D%0A%5Cright.%0A%5Cend%7Bequation%7D",alt:"\\\\begin{equation}\\n\\\\left{\\n\\\\begin{array}{lr}\\nQ_1=S_{\\\\frac{n}{4}} & n=2k(k \\\\ne 0) \\\\\\nQ_1=\\\\frac{1}{4}S_{\\\\left \\\\lfloor \\\\frac{n}{4} \\\\right \\\\rfloor} + \\\\frac{3}{4}S_{\\\\left \\\\lfloor \\\\frac{n}{4} \\\\right \\\\rfloor + 1} & n=2k+1(k \\\\ne 0)\\n\\\\end{array}\\n\\\\right.\\n\\\\end{equation}"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.img,{src:"https://juejin.im/equation?tex=%5Cbegin%7Bequation%7D%0A%5Cleft%5C%7B%0A%20%20%5Cbegin%7Barray%7D%7Blr%7D%0A%20%20%20%20Q_3%3DS_%7B%5Cfrac%7B3n%7D%7B4%7D%7D%20%26%20n%3D2k(k%20%5Cne%200)%20%5C%5C%0A%20%20%20%20Q_3%3D%5Cfrac%7B3%7D%7B4%7DS_%7B%5Cleft%20%5Clfloor%20%5Cfrac%7B3n%7D%7B4%7D%20%5Cright%20%5Crfloor%7D%20%2B%20%5Cfrac%7B1%7D%7B4%7DS_%7B%5Cleft%20%5Clfloor%20%5Cfrac%7B3n%7D%7B4%7D%20%5Cright%20%5Crfloor%20%2B%201%7D%20%26%20n%3D2k%2B1(k%20%5Cne%200)%0A%20%20%5Cend%7Barray%7D%0A%5Cright.%0A%5Cend%7Bequation%7D",alt:"\\\\begin{equation}\\n\\\\left{\\n\\\\begin{array}{lr}\\nQ_3=S_{\\\\frac{3n}{4}} & n=2k(k \\\\ne 0) \\\\\\nQ_3=\\\\frac{3}{4}S_{\\\\left \\\\lfloor \\\\frac{3n}{4} \\\\right \\\\rfloor} + \\\\frac{1}{4}S_{\\\\left \\\\lfloor \\\\frac{3n}{4} \\\\right \\\\rfloor + 1} & n=2k+1(k \\\\ne 0)\\n\\\\end{array}\\n\\\\right.\\n\\\\end{equation}"})}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"function quantile4(data, pos) {\n  if (pos < 1 || pos > 3 || pos % 1 !== 0) {\n    throw 'the second argument pos should be an interger and should be 1, 2 or 3'\n  }\n\n  const sortedData = data.sort(function(a, b) {\n    return a - b\n  })\n\n  const n = sortedData.length\n\n  if ((pos * n / 4) % 1 !== 0) {\n    // pos * n / 4 不为整数时\n    return sortedData[pos * n / 4 - 1]\n  } else {\n    return (pos / 4) * (sortedData[Math.floor(pos * n / 4) - 1]) + ((4 - pos) / 4) * (sortedData[Math.floor(pos * n / 4)])\n  }\n}\n\n// 使用中位数作为验证\nconsole.log(quantile4(data, 2)) //=> 940\n\nconst Q1 = quantile4(data, 1)\nconst Q3 = quantile4(data, 3)\n\n"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.strong,{children:"IQR"})}),"\n",(0,t.jsx)(A.p,{children:"IQR 即四分位距，定义为第一四分位数和第三四分位数的差值。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const IQR = Q3 - Q1 //=> 130\n\n"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.strong,{children:"内限 & 离群值"})}),"\n",(0,t.jsx)(A.p,{children:"若需要判断一个数据点是否为离群值，就需要先通过四分位数和 IQR 计算出内限，再通过对比该数据点与内限来判断它是否为离群值。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const limit = [\n  Q1 - 1.5 * IQR,\n  Q3 + 1.5 * IQR\n]\n\nconst outliers = data.filter(function(k) {\n  return k < limit[0] || k > limit[1]\n})\n\nconsole.log(outliers) //=> [ 650 ]\n\n"})}),"\n",(0,t.jsxs)(A.h2,{id:"132-绘制箱线图",children:["13.2 绘制箱线图",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#132-绘制箱线图",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"凑齐了这些需要用到的数据之后，我们便可以将它们放进图表上了。与前面我们学习使用过的数据图表不一样的是，箱线图一个数据系列就要使用到五个维度的数据。所以我们在做数据绑定的时候也需要分别为这五个维度的数据进行绑定。"}),"\n",(0,t.jsxs)(A.h3,{id:"1321-准备数据集",children:["13.2.1 准备数据集",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#1321-准备数据集",children:"#"})]}),"\n",(0,t.jsxs)(A.p,{children:["跟其他数据图表一样，箱线图的数据同样可以使用 ",(0,t.jsx)(A.code,{children:"dataset"})," 来提供数据支持。分别需要将 6 个不同的维度数据传入：箱线图标识、最小值、第一四分位数、中位数、第三四分位数、最大值。"]}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const option = {\n  dataset: {\n    source: [\n      [ 1 /* 第一个箱线图 */, min, Q1, median, Q3, max ]\n    ]\n  }\n}\n\n"})}),"\n",(0,t.jsxs)(A.h3,{id:"1322-准备笛卡尔坐标系",children:["13.2.2 准备笛卡尔坐标系",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#1322-准备笛卡尔坐标系",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"因为箱线图的数据类型是计量数据，所以我们所使用的依然是最熟悉的笛卡尔坐标系。而由于这里暂时只有一个箱线图，为了能够更好地表达数轴的概念，我们将 X 轴作为数据轴，Y 轴作为系列轴。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const option = {\n  xAxis: {\n    type: 'value',\n    scale: true\n  },\n  yAxis: {\n    type: 'category'\n  },\n}\n\n"})}),"\n",(0,t.jsxs)(A.h3,{id:"1323-绑定数据系列",children:["13.2.3 绑定数据系列",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#1323-绑定数据系列",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"绑定数据系列是使用 ECharts 绘制数据图表中最重要的一环，因为这一步直接关系到如何将数据展示在图表上。而箱线图的特殊性在这一步中则显得格外突出，它需要绑定 5 个不同维度的数据。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const option = {\n  series: {\n    type: 'boxplot',\n    encode: {\n      y: 0,\n      x: [ 1, 2, 3, 4, 5 ]\n    }\n  }\n}\n\n"})}),"\n",(0,t.jsx)(A.p,{children:"完成了上面的工作以后，我们便可以将图表配置应用到图表实例中查看效果了。"}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.img,{src:"https://user-gold-cdn.xitu.io/2018/8/14/1653767273e14024?w=600&h=400&f=png&s=11983",alt:"boxplot-chart-1"})}),"\n",(0,t.jsx)(A.p,{children:"非常好，我们已经在这个图表上看到了一个很好的效果，箱线图非常好地表现了数据的数值范围、离散程度以及中位数特征值。"}),"\n",(0,t.jsxs)(A.h3,{id:"1324-绘制离群值",children:["13.2.4 绘制离群值",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#1324-绘制离群值",children:"#"})]}),"\n",(0,t.jsxs)(A.p,{children:["除了箱线图以外，我们还知道箱线图有一个内限，用于判断数值是否离群。如果数据中出现了离群值，我们可以将其单绘制到图表上表示出来。离群值可以使用散点 ",(0,t.jsx)(A.code,{children:"scatter"})," 绘制在图表上。"]}),"\n",(0,t.jsxs)(A.p,{children:["我们可以多增加一个数据集来存储离群值的数据，以绑定 ",(0,t.jsx)(A.code,{children:"scatter"})," 数据系列。"]}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const option = {\n  dataset: [\n    {\n      source: [\n        [ 1, min, Q1, median, Q3, max ]\n      ]\n    },\n    {\n      source: outliers.map(function(outlier) {\n        return [ 1, outlier ]\n      })\n    }\n  ]\n}\n\n"})}),"\n",(0,t.jsx)(A.p,{children:"然后我们需要进一步修改数据系列，包括前面的箱线图系列。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const option = {\n  series: [\n    {\n      type: 'boxplot',\n      datasetIndex: 0,\n      encode: {\n        y: 0,\n        x: [ 1, 2, 3, 4, 5 ]\n      }\n    },\n    {\n      type: 'scatter',\n      datasetIndex: 1,\n      encode: {\n        y: 0,\n        x: 1\n      }\n    }\n  ]\n}\n\n"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.img,{src:"https://user-gold-cdn.xitu.io/2018/8/14/1653767273f4ff86?w=600&h=400&f=png&s=12143",alt:"boxplot-chart-2"})}),"\n",(0,t.jsxs)(A.h2,{id:"133-多系列箱线图",children:["13.3 多系列箱线图",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#133-多系列箱线图",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"前面我使用一组数据绘制了一个更偏向于一维数轴的箱线图，但是在实际开发和应用中，我们往往需要在一张图表上绘制多组不同数据的箱线图。就比如在进行统计试验的时候，不同的测试水平需要进行多次试验得到数据并进行分析。而多次试验的数据结果需要进行可视化，便可以使用到箱线图进行表达。"}),"\n",(0,t.jsx)(A.p,{children:"比如上面的迈克耳孙-莫雷实验，真正记录的数据肯定不止这一次，我们可以引入多组试验的数据。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const data = [\n    [850, 740, 900, 1070, 930, 850, 950, 980, 980, 880, 1000, 980, 930, 650, 760, 810, 1000, 1000, 960, 960],\n    [960, 940, 960, 940, 880, 800, 850, 880, 900, 840, 830, 790, 810, 880, 880, 830, 800, 790, 760, 800],\n    [880, 880, 880, 860, 720, 720, 620, 860, 970, 950, 880, 910, 850, 870, 840, 840, 850, 840, 840, 840],\n    [890, 810, 810, 820, 800, 770, 760, 740, 750, 760, 910, 920, 890, 860, 880, 720, 840, 850, 850, 780],\n    [890, 840, 780, 810, 760, 810, 790, 810, 820, 850, 870, 870, 810, 740, 810, 940, 950, 800, 810, 870]\n]\n\n"})}),"\n",(0,t.jsxs)(A.h3,{id:"1331-整合统计量计算",children:["13.3.1 整合统计量计算",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#1331-整合统计量计算",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"前面我们为一组数据计算了多个统计量以展示在箱线图上，那么在多组数据中我们可以将前面的计算过程进行封装。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"function boxplotDatas(data) {\n  const min = Math.min(...data)\n  const max = Math.max(...data)\n\n  let median = 0\n  const n = data.length\n  const sortedData = data.sort(function(a, b) {\n    return a - b\n  })\n\n  if (n % 2 == 1) {\n    median = sortedData[((n + 1) / 2) - 1]\n  } else {\n    median = (sortedData[(n / 2 + 1) - 1] + sortedData[(n / 2) - 1]) / 2\n  }\n\n  const Q1 = quantile4(data, 1)\n  const Q3 = quantile4(data, 3)\n\n  const IQR = Q3 - Q1\n\n  const limit = [\n    Q1 - 1.5 * IQR,\n    Q3 + 1.5 * IQR\n  ]\n\n  const outliers = data.filter(function(k) {\n    return k < limit[0] || k > limit[1]\n  })\n\n  return {\n    min, max, median, Q1, Q3, outliers,\n  }\n}\n\nconst boxplotData = data.map(function(exprData, i) {\n  return Object.assign({ id: i }, boxplotDatas(exprData))\n})\n//=> [\n//   {id: 0, min: 650, max: 1070, median: 940, Q1: 850, …},\n//   {id: 1, min: 760, max: 960, median: 845, Q1: 800, …},\n//   ...\n// ]\n\nconst outliers = boxplotData\n  .map(function({ id, outliers }) {\n    return outliers.map(function(outlier) {\n      return [ id, outlier ]\n    })\n  })\n  .reduce(function(left, right) {\n    return left.concat(right)\n  })\n//=> [\n//   [0, 650], [2, 620], ...\n// ]\n\n"})}),"\n",(0,t.jsx)(A.p,{children:"得到数据之后，我们就可以进行数据图表绘制了。"}),"\n",(0,t.jsx)(A.pre,{children:(0,t.jsx)(A.code,{children:"const option = {\n  dataset: [\n    {\n      source: boxplotData\n    },\n    {\n      source: outliers\n    }\n  ],\n  xAxis: {\n    type: 'category'\n  },\n  yAxis: {\n    type: 'value',\n    scale: true\n  },\n  series: [\n    {\n      type: 'boxplot',\n      datasetIndex: 0,\n      encode: {\n        x: 'id',\n        y: [ 'min', 'Q1', 'median', 'Q3', 'max' ]\n      }\n    },\n    {\n      type: 'scatter',\n      datasetIndex: 1,\n      encode: {\n        x: 0,\n        y: 1\n      }\n    }\n  ]\n}\n\n"})}),"\n",(0,t.jsx)(A.p,{children:(0,t.jsx)(A.img,{src:"https://user-gold-cdn.xitu.io/2018/8/14/1653767273fda531?w=600&h=400&f=png&s=16437",alt:"boxplot-chart-3"})}),"\n",(0,t.jsxs)(A.h2,{id:"小结",children:["小结",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#小结",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"这一节中我们学习了一个比较复杂的数据图表，它相较于前面学习和使用过的数据图表使用到了更多维度的数值数据，其自身所具有的统计分析意义也能更直观地表达。"}),"\n",(0,t.jsxs)(A.h3,{id:"习题",children:["习题",(0,t.jsx)(A.a,{className:"header-anchor","aria-hidden":"true",href:"#习题",children:"#"})]}),"\n",(0,t.jsx)(A.p,{children:"思考箱线图、散点图、折线图、柱状图这几种用于表达计量数据的不同数据图表的异同。"})]})}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:A}=Object.assign({},(0,a.ah)(),n.components);return A?(0,t.jsx)(A,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}let h=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["%E5%9F%BA%E4%BA%8E%20JavaScript%20%E5%BC%80%E5%8F%91%E7%81%B5%E6%B4%BB%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%94%E7%94%A8%2F%E7%AC%AC%2013%20%E8%8A%82%20%E5%A4%8D%E6%9D%82%E6%95%B0%E6%8D%AE%E5%9B%BE%E8%A1%A8%20%C2%B7%20%E7%AE%B1%E7%BA%BF%E5%9B%BE.md"]={toc:[{text:"13.1 准备数据",id:"131-准备数据",depth:2},{text:"13.1.1 箱线图统计量",id:"1311-箱线图统计量",depth:3},{text:"13.1.2 计算统计量",id:"1312-计算统计量",depth:3},{text:"13.2 绘制箱线图",id:"132-绘制箱线图",depth:2},{text:"13.2.1 准备数据集",id:"1321-准备数据集",depth:3},{text:"13.2.2 准备笛卡尔坐标系",id:"1322-准备笛卡尔坐标系",depth:3},{text:"13.2.3 绑定数据系列",id:"1323-绑定数据系列",depth:3},{text:"13.2.4 绘制离群值",id:"1324-绘制离群值",depth:3},{text:"13.3 多系列箱线图",id:"133-多系列箱线图",depth:2},{text:"13.3.1 整合统计量计算",id:"1331-整合统计量计算",depth:3},{text:"小结",id:"小结",depth:2},{text:"习题",id:"习题",depth:3}],title:"第 13 节 复杂数据图表 \xb7 箱线图",headingTitle:"第 13 节 复杂数据图表 \xb7 箱线图",frontmatter:{}}}}]);