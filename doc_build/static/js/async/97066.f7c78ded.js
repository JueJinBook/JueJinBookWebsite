"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["97066"],{193564:function(e,n,t){t.r(n),t.d(n,{default:()=>g});var i=t(552676),l=t(740453);let r=t.p+"static/image/f9fb8f8d53c46e622dcc6f7ab6438773.03e65991.webp",d=t.p+"static/image/fd26c1a7b881bf7c8f515ee8048f71ae.071bbef7.webp",a=t.p+"static/image/27577eb7614be57ff7a77bf668af0b80.86455b3e.webp",s=t.p+"static/image/dc57cd79ec5e86080224dfac32de9d2b.b459a21e.webp",o=t.p+"static/image/8faeed3f81e5787a800e5f091ba5732e.760e9127.webp",c=t.p+"static/image/6180e03cfd3247ba51edd7828d3f8618.52a3f466.webp",h=t.p+"static/image/4d787ff59566d9862c5875b74cd235c5.cb133575.webp",p=t.p+"static/image/969487606afd3cc10e131e495bb2be15.8fece2a0.webp",b=t.p+"static/image/cc1db79b02cd67c46db006e82db22fd3.aa6ea428.webp";function u(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",h2:"h2",code:"code",pre:"pre",img:"img",h3:"h3",ol:"ol",li:"li",strong:"strong"},(0,l.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"5-语法篇--bindings",children:["5-语法篇 ❘ Bindings",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-语法篇--bindings",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"推荐学习指数：⭐️⭐️，建议学习"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"1-前言",children:["1. 前言",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-前言",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["一般来说，数据流应该自上而下，通过 props 从父级流向子级。但有的时候，数据从子级流向父级是很有必要的，就比如 ",(0,i.jsx)(n.code,{children:"<input>"}),"元素，正常你需要这样写："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<script>\n  let name = $state('')\n  function oninput(e) {\n    name = e.target.value\n  }\n<\/script>\n\n<input {oninput} value={name} >\n"})}),"\n",(0,i.jsxs)(n.p,{children:["每个 ",(0,i.jsx)(n.code,{children:"<input>"}),"都需要这样处理，多少有些“样板代码”。使用 Bindings 可以将代码简化为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<script>\n  let name = $state('');\n<\/script>\n\n<input bind:value={name} />\n"})}),"\n",(0,i.jsx)(n.p,{children:"如果绑定名和值一致，代码还可以简写为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<script>\n  let value = $state('');\n<\/script>\n\n<input bind:value />\n\n\x3c!-- 相当于  --\x3e\n<input bind:value={value}/>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Bindings 看似好用，但其实只能用在特定的元素中。"}),"\n",(0,i.jsx)(n.p,{children:"那 Bindings 可以应用于哪些元素上，绑定哪些值，本篇我们就来详细介绍一下。"}),"\n",(0,i.jsxs)(n.h2,{id:"2-绑定表单元素",children:["2. 绑定表单元素",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-绑定表单元素",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Bindings 常用于表单元素："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<input bind:value={name} />\n\n<textarea bind:value={text} />\n\n\x3c!-- 注意绑定的是 checked --\x3e\n<input type="checkbox" bind:checked={yes} />\n\n\x3c!-- 注意输入为空的时候，值为 null --\x3e\n<input type="number" bind:value={num} />\n\n<input type="range" bind:value={num} />\n\n\x3c!-- 获取的是只读的 FileList 文件  --\x3e\n\x3c!-- https://developer.mozilla.org/en-US/docs/Web/API/FileList --\x3e\n<input accept="image/png, image/jpeg" bind:files id="avatar" name="avatar" type="file" />\n'})}),"\n",(0,i.jsxs)(n.p,{children:["当绑定 ",(0,i.jsx)(n.code,{children:"<select>"})," 的时候："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<select bind:value={selected}>\n  <option value={a}>a</option>\n\n  <option value={b}>b</option>\n\n  <option value={c}>c</option>\n\n</select>\n\n\x3c!-- fillings 是一个数组 --\x3e\n<select multiple bind:value={fillings}>\n  <option value="Rice">Rice</option>\n\n  <option value="Beans">Beans</option>\n\n  <option value="Cheese">Cheese</option>\n\n  <option value="Guac (extra)">Guac (extra)</option>\n\n</select>\n\n\x3c!-- 当 option value 的值与文本值相同的时候，可以简写： --\x3e\n<select multiple bind:value={fillings}>\n  <option>Rice</option>\n\n  <option>Beans</option>\n\n  <option>Cheese</option>\n\n  <option>Guac (extra)</option>\n\n</select>\n\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/2f1bd3f8b0054cd6a9ddca49c7045cd0?version=5.1.12",title:"https://svelte.dev/playground/2f1bd3f8b0054cd6a9ddca49c7045cd0?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:b,alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Bindings 也可用于 Each 逻辑块中："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<script>\n  let todos = $state([\n    { done: false, text: \'finish Svelte tutorial\' },\n    { done: false, text: \'build an app\' },\n    { done: false, text: \'world domination\' }\n  ]);\n\n  $inspect(todos);\n<\/script>\n\n<ul class="todos">\n  {#each todos as todo}\n    <li class:done={todo.done}>\n      <input\n        type="checkbox"\n        bind:checked={todo.done}\n      />\n\n      <input\n        type="text"\n        placeholder="What needs to be done?"\n        bind:value={todo.text}\n      />\n    </li>\n\n  {/each}\n</ul>\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/072b757410c6472ca2bba84e8c229f7e?version=5.1.12",title:"https://svelte.dev/playground/072b757410c6472ca2bba84e8c229f7e?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:p,alt:""})}),"\n",(0,i.jsxs)(n.h2,{id:"3-绑定组",children:["3. 绑定组",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-绑定组",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"bind:group"})," 适用于单选框和复选框："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<script>\n  let tortilla = \'Plain\';\n  let fillings = [];\n<\/script>\n\n\x3c!-- 成组的 radio 输入会互斥 --\x3e\n<input type="radio" bind:group={tortilla} value="Plain" />\n<input type="radio" bind:group={tortilla} value="Whole wheat" />\n<input type="radio" bind:group={tortilla} value="Spinach" />\n\n\x3c!-- 成组的 checkbox 输入会放入一个数组 --\x3e\n<input type="checkbox" bind:group={fillings} value="Rice" />\n<input type="checkbox" bind:group={fillings} value="Beans" />\n<input type="checkbox" bind:group={fillings} value="Cheese" />\n<input type="checkbox" bind:group={fillings} value="Guac (extra)" />\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/e328b087c5844bf593addd84edf2cb15?version=5.1.12",title:"https://svelte.dev/playground/e328b087c5844bf593addd84edf2cb15?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:h,alt:""})}),"\n",(0,i.jsxs)(n.h2,{id:"4-绑定特殊元素",children:["4. 绑定特殊元素",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-绑定特殊元素",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"41-contenteditable",children:["4.1. contenteditable",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#41-contenteditable",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Bindings 也可用于具有 ",(0,i.jsx)(n.code,{children:"contenteditable"}),"属性的元素："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<div contenteditable="true" bind:innerHTML={html} />\n'})}),"\n",(0,i.jsx)(n.p,{children:"具体支持绑定的属性有："}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"innerHTML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"innerText"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"textContent"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"它们的差别在出现换行的时候比较明显："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<script>\n  let html = $state(''), text = $state(''), content = $state('');\n  $inspect(html, text, content);\n<\/script>\n\n<div contenteditable=\"true\"\n  bind:innerHTML={html}\n  bind:innerText={text}\n  bind:textContent={content}\n>\n</div>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/79b0d2f7864a452999779f123febb2df?version=5.1.12",title:"https://svelte.dev/playground/79b0d2f7864a452999779f123febb2df?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:c,alt:""})}),"\n",(0,i.jsxs)(n.p,{children:["具体差别可以",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/textContent#differences_from_innertext",title:"https://developer.mozilla.org/zh-CN/docs/Web/API/Node/textContent#differences_from_innertext",target:"_blank",rel:"noopener noreferrer",children:"查看 MDN 关于 Node.textContent 的讲解"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"42-details",children:["4.2. details",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#42-details",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["也支持 ",(0,i.jsx)(n.code,{children:"<details>"})," 元素："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<script>\n  let isOpen = $state(false)\n  $inspect(isOpen);\n<\/script>\n\n<details bind:open={isOpen}>\n  <summary>Details</summary>\n\n  <p>Something small enough to escape casual notice.</p>\n\n</details>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/6c243bc98cb04eab9f782ff5ff1c594d?version=5.1.12",title:"https://svelte.dev/playground/6c243bc98cb04eab9f782ff5ff1c594d?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:o,alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"43-audio-和-video",children:["4.3. audio 和 video",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#43-audio-和-video",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"<audio>"})," 有 7 个只读绑定（",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/currentTime",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/currentTime",target:"_blank",rel:"noopener noreferrer",children:"currentTime"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/playbackRate",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/playbackRate",target:"_blank",rel:"noopener noreferrer",children:"playbackRate"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/paused",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/paused",target:"_blank",rel:"noopener noreferrer",children:"paused"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/volume",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/volume",target:"_blank",rel:"noopener noreferrer",children:"volume"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/muted",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/muted",target:"_blank",rel:"noopener noreferrer",children:"muted"}),"）和 5 个双向绑定（",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/duration",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/duration",target:"_blank",rel:"noopener noreferrer",children:"duration"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/buffered",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/buffered",target:"_blank",rel:"noopener noreferrer",children:"buffered"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/paused",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/paused",target:"_blank",rel:"noopener noreferrer",children:"paused"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/seekable",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/seekable",target:"_blank",rel:"noopener noreferrer",children:"seekable"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/seeking_event",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/seeking_event",target:"_blank",rel:"noopener noreferrer",children:"seeking"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/ended",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/ended",target:"_blank",rel:"noopener noreferrer",children:"ended"}),"、",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/readyState",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/readyState",target:"_blank",rel:"noopener noreferrer",children:"readyState"}),"）："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<audio\n  src={clip}\n  bind:duration\n  bind:buffered\n  bind:played\n  bind:seekable\n  bind:seeking\n  bind:ended\n  bind:readyState\n  bind:currentTime\n  bind:playbackRate\n  bind:paused\n  bind:volume\n  bind:muted\n/>\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"<video>"})," 相比 ",(0,i.jsx)(n.code,{children:"<audio>"})," 多两个只读绑定 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement/videoWidth",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement/videoWidth",target:"_blank",rel:"noopener noreferrer",children:"videoWidth"})," 和 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement/videoHeight",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement/videoHeight",target:"_blank",rel:"noopener noreferrer",children:"videoHeight"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<video\n  src={clip}\n  bind:duration\n  bind:buffered\n  bind:played\n  bind:seekable\n  bind:seeking\n  bind:ended\n  bind:readyState\n  bind:currentTime\n  bind:playbackRate\n  bind:paused\n  bind:volume\n  bind:muted\n  bind:videoWidth\n  bind:videoHeight\n/>\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"44-image",children:["4.4. image",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#44-image",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"<img>"})," 有 2 个只读绑定："]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/naturalWidth",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/naturalWidth",target:"_blank",rel:"noopener noreferrer",children:"naturalWidth"}),"：图像的原始宽度，在图像加载后可用"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/naturalHeight",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/naturalHeight",target:"_blank",rel:"noopener noreferrer",children:"naturalHeight"}),"：图像的原始高度，在图像加载后可用"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<img\n  bind:naturalWidth\n  bind:naturalHeight\n/>\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"45-可视元素",children:["4.5. 可视元素",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#45-可视元素",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["所有可视元素都有 4 个只读绑定，底层使用 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver",title:"https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver",target:"_blank",rel:"noopener noreferrer",children:"ResizeObserver"})," API 进行测量："]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/clientWidth",title:"https://developer.mozilla.org/en-US/docs/Web/API/Element/clientWidth",target:"_blank",rel:"noopener noreferrer",children:"clientWidth"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/clientHeight",title:"https://developer.mozilla.org/en-US/docs/Web/API/Element/clientHeight",target:"_blank",rel:"noopener noreferrer",children:"clientHeight"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetWidth",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetWidth",target:"_blank",rel:"noopener noreferrer",children:"offsetWidth"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight",title:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight",target:"_blank",rel:"noopener noreferrer",children:"offsetHeight"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<div bind:offsetWidth={width} bind:offsetHeight={height}>\n  <Chart {width} {height} />\n</div>\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["注意：",(0,i.jsx)(n.code,{children:"display:inline"})," 的元素没有高度或宽度（特殊元素如 img、canvas 除外），建议先修改属性为如 ",(0,i.jsx)(n.code,{children:"display:inline-block"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"5-绑定组件",children:["5. 绑定组件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-绑定组件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Binding 本质是建立双向绑定，input 的值由 value 确定，在 input 输入的值也会修改 value。Binding 不止可以用于元素上，也可以用在组件上。"}),"\n",(0,i.jsx)(n.p,{children:"为了帮助大家理解组件的双向绑定，我们先举一个传统的实现组件双向绑定的例子："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'\x3c!-- App.svelte --\x3e\n<script>\n  import Child from "./Child.svelte"\n\n  let count = $state(0);\n\n  function oncountchange(value) {\n    count = value\n  }\n<\/script>\n\n<Child {count} {oncountchange} />\n\n<button onclick={() => {\n  count = 0\n}}>Reset {count}</button>\n\n\x3c!-- Child.svelte --\x3e\n<script>\n  const { oncountchange, count } = $props();\n<\/script>\n\n<button onclick={() =>{\n  oncountchange(count + 1)\n}}>\n  Increament {count}\n</button>\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"在这段代码中，子组件的 count 值来自于父组件，当子组件发生点击事件的时候，调用父组件的 oncountchange 函数，修改父组件的 count 值，进而改变子组件的 count 值"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/e6f6274b4faa4d2aa3b5f5ff9accd319?version=5.1.12",title:"https://svelte.dev/playground/e6f6274b4faa4d2aa3b5f5ff9accd319?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:s,alt:""})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"然而换成 Bindings 后，代码会更加简洁："})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'\x3c!-- App.svelte --\x3e\n<script>\n  import Child from "./Child.svelte"\n\n  let count = $state(0);\n\n  function oncountchange(value) {\n    count = value\n  }\n<\/script>\n\n<Child bind:count />\n\n<button onclick={() => {\n  count = 0\n}}>Reset {count}</button>\n\n\x3c!-- Child.svelte --\x3e\n<script>\n  let { count = $bindable() } = $props();\n<\/script>\n\n<button onclick={() =>{\n  count = count + 1\n}}>\n  Increament {count}\n</button>\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/1c843c22978e405cb99d42efea42a325?version=5.1.12",title:"https://svelte.dev/playground/1c843c22978e405cb99d42efea42a325?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:a,alt:""})}),"\n",(0,i.jsxs)(n.h2,{id:"6-绑定-this",children:["6. 绑定 this",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-绑定-this",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"bind:this"})," 用于元素时可获取元素的引用，功能类似于 React 的 ref。举个例子："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<script>\n  import { onMount } from \"svelte\";\n\n  let element = '';\n\n  onMount(() => {\n    console.log(element)\n  })\n<\/script>\n\n<input bind:this={element} />\n\n<button onclick={() => {\n  element.value = ''\n}}>Reset</button>\n\n<button onclick={() => {\n  element.focus()\n}}>Focus</button>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"在这段代码中，如果一开始就打印 element 的值，它会是 undefined，只有当挂载的时候，它才会是元素的引用。获取元素的引用后，你就可以操作元素，比如设置元素的值，设置聚焦状态等。"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/0a90b0cdee1245b297254041efc71960?version=5.1.12",title:"https://svelte.dev/playground/0a90b0cdee1245b297254041efc71960?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下："})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:d,alt:""})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"bind:this"})," 也可用于组件，用于获取组件实例，调用组件上的方法："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"\x3c!-- App.svelte --\x3e\n<script>\n  import Child from './Child.svelte';\n  let element = '';\n\n  function reset() {\n    element.reset()\n  }\n<\/script>\n\n<Child bind:this={element} />\n\n<button onclick={reset}>Reset</button>\n\n\x3c!-- Child.svelte --\x3e\n<script>\n  let count = $state();\n\n  export function reset() {\n    count = '';\n  }\n<\/script>\n\n<input bind:value = {count} />\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在这段代码中，父组件通过 ",(0,i.jsx)(n.code,{children:"bind:this"})," 获取到子组件的实例，然后调用了子组件导出的 ",(0,i.jsx)(n.code,{children:"reset()"})," 方法，重置了表单的值。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://svelte.dev/playground/d02882303f2241b9bcd5c46660da2fa3?version=5.1.12",title:"https://svelte.dev/playground/d02882303f2241b9bcd5c46660da2fa3?version=5.1.12",target:"_blank",rel:"noopener noreferrer",children:"浏览器效果如下"}),"："]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:r,alt:""})}),"\n",(0,i.jsxs)(n.h2,{id:"7-最后",children:["7. 最后",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#7-最后",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"恭喜您完成了本篇内容的学习！本篇我们介绍了双向绑定 Bindings 的用法，使用 Bindings 有时可以简化代码，让代码更加直观。Bindings 可绑定表单元素，也可以绑定一些特殊元素。可绑定 DOM 元素，也可以绑定组件。虽然最常用的也就是绑定一下表单元素……"})]})}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}let g=x;x.__RSPRESS_PAGE_META={},x.__RSPRESS_PAGE_META["Svelte%20%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97%2F5-%E8%AF%AD%E6%B3%95%E7%AF%87%20%E2%9D%98%20Bindings.md"]={toc:[{text:"1. 前言",id:"1-前言",depth:2},{text:"2. 绑定表单元素",id:"2-绑定表单元素",depth:2},{text:"3. 绑定组",id:"3-绑定组",depth:2},{text:"4. 绑定特殊元素",id:"4-绑定特殊元素",depth:2},{text:"4.1. contenteditable",id:"41-contenteditable",depth:3},{text:"4.2. details",id:"42-details",depth:3},{text:"4.3. audio 和 video",id:"43-audio-和-video",depth:3},{text:"4.4. image",id:"44-image",depth:3},{text:"4.5. 可视元素",id:"45-可视元素",depth:3},{text:"5. 绑定组件",id:"5-绑定组件",depth:2},{text:"6. 绑定 this",id:"6-绑定-this",depth:2},{text:"7. 最后",id:"7-最后",depth:2}],title:"5-语法篇 ❘ Bindings",headingTitle:"5-语法篇 ❘ Bindings",frontmatter:{}}}}]);