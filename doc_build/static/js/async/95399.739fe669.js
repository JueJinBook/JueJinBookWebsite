"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["95399"],{966942:function(e,c,n){n.r(c),n.d(c,{default:()=>ea});var s=n(552676),a=n(740453);let d=n.p+"static/image/4d84eec82a585f61f5e796081b04496c.c39501a6.webp",i=n.p+"static/image/ccf9a2b66d74376f2ccd4df1781890cb.c54e94d5.webp",r=n.p+"static/image/7f74badd2aa22ed93664e23d4ae89032.7ac3efc9.webp",t=n.p+"static/image/3597cf088b757b4fe15f6bbc2a87934a.c45df626.webp",l=n.p+"static/image/38c86c3109e3bbb25322fd9facce81ca.b01bd431.webp",h=n.p+"static/image/02830715a3a4515d225dadc278c6804e.49583a68.webp",p=n.p+"static/image/6362a4a4f5af02b6e1a5022a412678b6.dccf0997.webp",x=n.p+"static/image/9cb645210c432c5ffc39bade6c9730ad.de7d7166.webp",j=n.p+"static/image/ebc2eee6108b516fca0b20a0a084287e.8cfb3ba2.webp",b=n.p+"static/image/8cdc2aa4d9260ec469df87723539c310.ef69b03e.webp",o=n.p+"static/image/32a24de996ec7c8a834e9c1eaf1b7db5.92823064.webp",m=n.p+"static/image/0a104b3386eff5a98de3ac53716d33b3.d018bafc.webp",g=n.p+"static/image/6712250d902c3f14b4f52ac0b7ab1df2.48be2c1e.webp",f=n.p+"static/image/00f6816d98e226382aff7ab9c73d5576.552f399c.webp",u=n.p+"static/image/088967b30e5fdd89bca8522225de5ff7.e58e439e.webp",w=n.p+"static/image/807a9455db63e468190b17b6b886620a.b15b1c21.webp",A=n.p+"static/image/d6dd28840ff41df0caa38d6b47a2b384.317cd985.webp",E=n.p+"static/image/0391bddd106e264d5f8272f90219d7ff.60812fd7.webp",C=n.p+"static/image/d8375704c1ed6a67c1e4a3aeec476199.399c3202.webp",D=n.p+"static/image/097ddec279df81e7c7e144e6e8e952e5.c35f3f4a.webp",S=n.p+"static/image/ac4f08259970e81b5f372cdcbf057625.70992323.webp",y=n.p+"static/image/accbfc1693060c2f28933e96e2f79085.9e9a41e5.webp",N=n.p+"static/image/8c0672742a0d5d22707cee2a03d49068.842f4e9b.webp",P=n.p+"static/image/19d15603b18a4f824e18956fb5321db1.874a08e3.webp",v=n.p+"static/image/6e9ee6bb15ba4bb6f39b4545a0885837.22e66d28.webp",G=n.p+"static/image/32894e7214e42e71aebbcef5ee4f68d1.1292e2f4.webp",T=n.p+"static/image/3990aa35d2aa8b64d9c9780f875a61c5.97525289.webp",k=n.p+"static/image/8a322ecc5f8bd8b9ce279ad7aa033d1d.41ff5bd9.webp",V=n.p+"static/image/9dfd60a2c429f30784f690a45a712ceb.21a1413d.webp",J=n.p+"static/image/8661aefc29096b97e1c5a4e50056ccdc.7c6b5079.webp",F=n.p+"static/image/523455a1cace3e58eb2bbd414ab2a7e1.05733431.webp",I=n.p+"static/image/5fd128892a00807b5ef76f8c920f8814.1209590d.webp",K=n.p+"static/image/a191277f2c1681b0567af39c3e204ed2.c7405e79.webp",B=n.p+"static/image/856b9cecfa1e439c8174d6c81c535316.5f168b16.webp",M=n.p+"static/image/56a89db29e73b677d8681d5f5663fe03.a843221d.webp",q=n.p+"static/image/5e11e82bef0227ff36153c154eb6ae9f.98ad874b.webp",O=n.p+"static/image/c0c61972a177af59363da247ded455cb.eadfbf09.webp",Q=n.p+"static/image/ff865adaf1b0abef883c21377e99b25d.a7c32be3.webp",L=n.p+"static/image/e661f604f9bdbed4841876e252bc5f66.c8d9520b.webp",R=n.p+"static/image/ba59a542836a46562d0a7f52936d04f0.f8d22804.webp",U=n.p+"static/image/09aedf3cd8083835c5d0a09c2c807c29.6a5b0228.webp",X=n.p+"static/image/7a32c5c23582a807e9d92909ee12bfd4.e987be6e.webp",Z=n.p+"static/image/9f83ac1cdeca5e9020bd7e741627da4f.8440fcfa.webp",Y=n.p+"static/image/6154ba07fc2e3dfb20e4a256e92719cd.bad81c2e.webp",H=n.p+"static/image/713cb1a38e32f9022d137589b0e6db92.61c13863.webp",W=n.p+"static/image/abb9690218683126db85b69688e6c6ba.9f19e19d.webp",z=n.p+"static/image/64937a8b134cf3568962489276f14bea.371340b3.webp",_=n.p+"static/image/132d6da673747d51e90cba044fee274b.d3b4ea07.webp",$=n.p+"static/image/84856ecc4d69bb8cad41a082a782ce8b.d7939066.webp",ee=n.p+"static/image/08a88a3ce6a32c232f16b749ac15b8ad.1abf5c71.webp",ec=n.p+"static/image/342c9dcc3189423974a2b15d72af60d7.42aa5a1e.webp";function en(e){let c=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",img:"img",h3:"h3",ul:"ul",li:"li"},(0,a.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.h1,{id:"15vscode-node-debugger-配置详解",children:["15.VSCode Node Debugger 配置详解",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#15vscode-node-debugger-配置详解",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"前面两节我们学习了怎么调试 Node.js、npm scripts，这节我们来过一遍 VSCode Node Debugger 的常用配置。"}),"\n",(0,s.jsx)(c.p,{children:"首先，从 attch 的方式开始："}),"\n",(0,s.jsxs)(c.h2,{id:"attach",children:["attach",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#attach",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"有这样一个 Node.js 文件："}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-javascript",children:"const http = require('http');\n\nconst server = http.createServer((req, res) => {\n  res.writeHead(200, { 'Content-Type': 'application/json' });\n  res.end(JSON.stringify({\n    data: 'Hello World!'\n  }));\n});\n\nserver.listen(8888);\n"})}),"\n",(0,s.jsx)(c.p,{children:"我们以调试模式启动："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:ec,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"然后 VSCode Debugger 添加一个 attach 类型的 Node 调试配置，端口是 9229:"}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:ee,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"点击调试启动就可以连上。"}),"\n",(0,s.jsx)(c.p,{children:"打个断点："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:$,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"浏览器访问，这时候代码就会在断点处断住："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:_,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这些我们前面讲过，今天来讲一些别的配置："}),"\n",(0,s.jsxs)(c.h3,{id:"restart",children:["restart",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#restart",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"VSCode Debugger 以 attach 的方式启动，是需要连接 ws 调试服务的，而连接自然就可能超时、失败之类的，这时候就需要重连。"}),"\n",(0,s.jsx)(c.p,{children:"重连的间隔和次数是可以配置的："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:z,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"比如上面就是 1s 重试一次，最多 3 次："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:W,alt:""})}),"\n",(0,s.jsxs)(c.h3,{id:"attach-by-process-id",children:["attach by process id",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#attach-by-process-id",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"上面的 attach 方式是连接到了 9229 端口，但其实还有另一种 attch 方式，就是通过进程 id。"}),"\n",(0,s.jsx)(c.p,{children:"比如上面跑在 9229 端口的 node 进程的 id 可以通过命令查看："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:H,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"发现是 98700，那么我们就可以通过这个进程 id 来 attach 调试服务："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:Y,alt:""})}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:Z,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"默认值是 ${command: PickProcess} 这个会弹出一个选择窗口："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:X,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"选择 98700 的那个进程，attach 即可。"}),"\n",(0,s.jsx)(c.p,{children:"当然，这里我们已经知道了进程 id，那就不需要选择了，直接指定即可："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:U,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"attch 的方式讲完了，接下来来看下 launch 方式的配置："}),"\n",(0,s.jsxs)(c.h2,{id:"launch",children:["launch",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#launch",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"launch 不需要我们自己以调试模式启动，只需要指定 node 程序的地址即可："}),"\n",(0,s.jsxs)(c.h3,{id:"program--args",children:["program & args",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#program--args",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"创建个 test 文件，打个断点："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:R,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"添加一个 launch 类型的 Node 调试配置："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:L,alt:""})}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:Q,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"代码会在断点处断住，然后可以查看当前的命令行参数："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:O,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"命令行参数是这俩："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:q,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"可以通过 args 来添加命令行参数："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:M,alt:""})}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:B,alt:""})}),"\n",(0,s.jsxs)(c.h3,{id:"runtimeexecutable",children:["runtimeExecutable",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#runtimeexecutable",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"runtime 默认是 node，其实这个也是可以改的："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:K,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"VSCode Debugger 会从 PATH 的环境变量中查找对应名字的 runtime 启动。"}),"\n",(0,s.jsx)(c.p,{children:"我们前面调试 npm scripts，就是修改了这个："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:I,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"比如我们可以跑 node 调试，是因为 PATH 中有 node。"}),"\n",(0,s.jsx)(c.p,{children:"我们可以安装一个 ts-node："}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{children:"npm install -g ts-node\n"})}),"\n",(0,s.jsx)(c.p,{children:"然后把 runtimeExecutable 改为 ts-node："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:F,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这时候就是用 ts-node 来跑了："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:J,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"你还可以通过 runtimeArgs 给它传参数。"}),"\n",(0,s.jsx)(c.p,{children:"VSCode 内置了 launch via npm 的配置，如果你把 runtimeExecutable 换成 pnpm，那就是 launch via pnpm 了。"}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:V,alt:""})}),"\n",(0,s.jsxs)(c.h3,{id:"skipfiles",children:["skipFiles",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#skipfiles",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"这个配置的默认值是 <node_internal>/**"}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:k,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"也就是跳过 node 内部的文件。"}),"\n",(0,s.jsx)(c.p,{children:"效果就是这样的："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:T,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这样就可以精简掉调用栈，只显示我们关心的部分。"}),"\n",(0,s.jsx)(c.p,{children:"把 skipFiles 置空之后，所有代码就都展示出来了："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:G,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"再来测试下，我们添加这样两个文件："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:v,alt:""})}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:P,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"在 add 里打了个断点，然后调试方式启动："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:N,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"调用栈是这样的："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:y,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"如果你把 index 添加到 skipFiles 里："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:S,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"那调用栈就是这样了："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:D,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"index.js 也被加到 skipFiles 里折叠起来了。"}),"\n",(0,s.jsxs)(c.h3,{id:"stoponentry",children:["stopOnEntry",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#stoponentry",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"这个是在首行断住，和 node --inspect-brk 的效果一样，在 chrome 调试时也有同样的配置："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:C,alt:""})}),"\n",(0,s.jsxs)(c.h2,{id:"console",children:["console",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#console",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"默认 debug 模式下，打印的日志是在 console 的，而不是 terminal。而 console 里是不支持彩色的："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:E,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这个可以通过 console 配置设置，有三个选项："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:A,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"internalConsole 就是内置的 debug console 面板，默认是这个。"}),"\n",(0,s.jsx)(c.p,{children:"internalTerminal 是内置的 terminal 面板，切换成这个就是彩色了："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:w,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"externalTerminal 会打开系统的 terminal 来展示日志信息："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:u,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"一般情况下，用 internalTerminal 就好。"}),"\n",(0,s.jsxs)(c.h3,{id:"autoattachchildprocesses",children:["autoAttachChildProcesses",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#autoattachchildprocesses",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"node 里是支持多进程的，可以把一些脚本放在子进程来跑来提高性能，充分利用计算机的资源。"}),"\n",(0,s.jsx)(c.p,{children:"比如这样："}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-javascript",children:"const cp = require('child_process');\n\ncp.spawnSync('node', ['./index.js'], {\n    stdio: 'inherit'\n});\n"})}),"\n",(0,s.jsx)(c.p,{children:"他就是把 index.js 放到子进程来跑了。"}),"\n",(0,s.jsx)(c.p,{children:"但是默认子进程的输入输出也就是 stdin（标准输入）、stdout（标准输出）不会显示在控制台，这时候可以让它继承父进程的 stdin、stdout 就可以了。"}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:f,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这个输入输出当然也可以定向到别的地方。记得前面我们指定过 console 的输出位置么？"}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:g,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这个就是输入输出流 stdin、stdout 的重定向。"}),"\n",(0,s.jsx)(c.p,{children:"当然，这不是我们的重点，我们目的是为了能调试子进程的代码。"}),"\n",(0,s.jsx)(c.p,{children:"index.js 是这样的："}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-javascript",children:"const add = require('./add');\n\nconsole.log(add(1, 2));\n"})}),"\n",(0,s.jsx)(c.p,{children:"add.js 是这样："}),"\n",(0,s.jsx)(c.pre,{children:(0,s.jsx)(c.code,{className:"language-javascript",children:"module.exports = function(a, b) {\n    return a + b;\n}\n"})}),"\n",(0,s.jsx)(c.p,{children:"我们在 add.js 里打个断点："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:m,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"它是在子进程里的断点，但是跑调试你会发现能断住："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:o,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这是因为 autoAttachChildProcesses 的默认值是 true。"}),"\n",(0,s.jsx)(c.p,{children:"调试模式启动的时候，主进程会有调试端口，子进程也会有调试端口，而 autoAttachChildProcess 就是自动连接上子进程的 ws 调试服务的端口。"}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:b,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"调用栈这里也可以看到是两级的结构，这就是 attch 到了子进程的调试服务。"}),"\n",(0,s.jsx)(c.p,{children:"如果你把 autoAttachChildProcesses 设置为 false，就会发现在子进程打的断点不会生效了。"}),"\n",(0,s.jsxs)(c.h3,{id:"cwd",children:["cwd",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#cwd",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"cwd 很容易理解就是 current work directory，当前工作目录。"}),"\n",(0,s.jsx)(c.p,{children:"也就是指定 runtime 在哪个目录运行，默认是项目根目录 workspaceFolder"}),"\n",(0,s.jsx)(c.p,{children:"比如在调试 npm scripts 的时候，指定了 cwd 就是在 cwd 下执行 npm run xxx 了："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:j,alt:""})}),"\n",(0,s.jsxs)(c.h3,{id:"env",children:["env",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"node 程序很多情况下是需要取一些环境变量的，那我们要手动设置了环境变量再跑调试么？"}),"\n",(0,s.jsx)(c.p,{children:"不用，有对应的配置，也就是 env。"}),"\n",(0,s.jsx)(c.p,{children:"比如这样："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:x,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"这样在调试的 node 程序里就可以取到这些环境变量："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:p,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"如果你有一个 envFile 来保存环境变量的话，也可以通过 envFile 的方式："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:h,alt:""})}),"\n",(0,s.jsx)(c.p,{children:".env 内容如下："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:l,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"在 node 代码里可以取到对应的环境变量："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:t,alt:""})}),"\n",(0,s.jsxs)(c.h3,{id:"presentation",children:["presentation",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#presentation",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"当调试配置多了以后，就会比较乱，那能不能做一些配置的分组还有排序呢？"}),"\n",(0,s.jsx)(c.p,{children:"VSCode Debugger 是支持的。"}),"\n",(0,s.jsx)(c.p,{children:"比如这样三个调试配置："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:r,alt:""})}),"\n",(0,s.jsx)(c.p,{children:"我们想把调试 chrome 的放一组，调试 node 的放一组，就可以这样写："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:i,alt:""})}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRtYKAABXRUJQVlA4IMoKAAAQSACdASpGAd4APp1In0wlpC2iJTJqcbATiWluy2DQADyJPk4AvZnyz/d/xV8Gf8B+VHoH49/b+cFlv6tdTj5T97PzXmr/ivCn4sZUP9T4lu0dr96BHsl8/70z/c9FPrprSVA/6cPYtz0fV/sK/r4Rh7nV/7v63hSipkJZl/vIxMhLMTiDgeDyEuQsWh8S/AGVncY8HCnJfqlAsE3DnGWypZbHt7UoB2l581Z4UPqD6KvbLwSzApwf4QsYvBwSfb3pPIGykwqlYHk1d3rQ7cot+3y6HHsL0s7bFMMk/+wOacUtLKZ0u15EUeEmcb10EehMjy/agw/Vmewjk80q5TvqE1feuzp5dFRxzLORd1t+vizACXaBS9rIrce9i/5d55eN5KC1QHwHj7XWtxmYJVek7b6qO2/1DKtFZCqoCqN8kTuYjm6pZyvCzSvTZiGXkhTIDosRKNQ6SF6txX2K7mu8Dy/2z1ZsqSl3D/Nktt/0b9WDLOZFT1lze/hVIHgL4ITaDD1ca+CG7ejA6mEe2Mav5ZRrryMIwBmJ20D8lAudHErpisWrK2DFvVeE5GJf+wVDMT9mlYmHayJ/JTS2J6hxms+idy85xKG8Cpm8G1IoJoILBotwHi5LMb0nOjKqAX/VDcwBnCgf/o3P3/lxisEeg3oGVnieQTqKExiZnEfYvZv61XJJeJKBLbdREvaIOfPXudgKgGGufyYPKuS1JAFGMD7uMGEyEtDR8Hr0REXuAc5Dk9fy2Q3mt/0tjGUwNMKAwK+XLv1hakgA/vS8a9XbG6w8dBeBrnn3GN8CWJLr1TyJht0rbSbOI39bbG3X7IlvhyUevt4eA1Zs4WLHLaDEOXLSWDOwyqVlt+NsabGZQVrqXxgwu7mcJMdrakxchuQKjPwTwjM4HJqlTRDKqHYCUhCjs+8uIMH7SgDKoWHdMbcJ2P+tLGn/FoZawdMqpxjYBf2FP5NLHp8AtfuPRxluT9OdQ3hTpx+eAroYYqE7onrszaz/eOlVP1qv+KmQtj43sexOM/2St2SFLWAoUYJ/rh8zGMUScGwdVT83+4NU2jbkNLPecgOa2dLGJNcpT/QkhxNRQTYM+xGgDY2NKCYvvt43yqU9fUY0LimsG4wneaay1k4bGex1zQXqehlCj5rXiIk8fIAaUcKiwOqguhRsEag5cIKXJttBGk6885zuKe4BB6hR6Y/GIhneY721glNm2H732NroZVlkPZPzO2VTcidrbNT5On3g49+EdoKF+64Up28t5s/iqilyqa8c4+pgRcsFXPgnEKhTEFxcZcPrysrP8p6K3TCmxD5Ov9dvQlzyP8Dc4j2Iie3Non9CIC4eQG3n4DlQVzh4+Zkym7VE4IFOQKNNU0n0cRAbLcm+evukYr6YpWro3Pj5DjkLOSqvnKk+N+xhwmdS5pzedf80gtW436sWk5J7m1X1FPVHK2DodYuyM6GZU29QaNiLDdzjGRpQ9gimkxCpOiHUYdkdACOmG4Xrc+VUgVd4ic9CmQWaWBuTgizPCwSNA2nBSL2XMKkN/VBPFxn3ofW2/hMCQM1/4cG69ddwInLqA3nRNCUZfuJAb9ScX59AsDoRPgD3oFuTS+Ui3pKxIIfJEc9ApvVC5gb28vrAwjlZerYI8Q5ZJTbfRPz3cPCFM9M7tlETZvaTZgQBKcT6+TATiAnK+lwUM6oyJXItqcr6vOsd8EF9sLwj/3AgNCkHuO11oXMohZHD5jh3++C8yz8TgGPgs2YJ32RnuysFJPdiolj9y0v11QYo6nscuZF+49rE14y7d5D7DyMVKRUTG/cMaSs+nJoHDQF1s4Pu1TrIpd0vzG2nrBAahnOx4tytlI0IZ7AgroklJhPYsU8xwfRk47hK/Aj2hPsBNGyBeBHJ50dG27QXyRQC3wRzLdlAd8wX5UtBjXKnjfcR5Imw2O8CT3npQM+uZimNbZsxwKE1F1oO0MQwhzziL5JXCqwcNdYaiwlgd63u1DpFRUSFuDWrba53pq2ohLvp0ikXOEZJElcuqNEF3LWe5h8Vk/wuoix36nF8NEcmLsor8AbK+GrRuCxxjgC9nDX6pcsB81rOcqGFigNGTSl0CtyNXaI5jK5NBFWtGnpBNzcoYbnIog0hDUZQRVQW//4cw9i8xP0KBrUEaEyO6L+TyjaeWD49o1e2GYb6chGu0Zw1EBydGJ5ZGaBXdxQSj3n6uDdIOuSGRLwcUDg9E7hp0IL/gMypt725A25eDSyMXm+vJiOyrF1Rk6WSj5sIv95BuXStFsE1fBJy1559QQ9W/16EuEzm31rHuv+lYR/r6YXdXxKLdZEX0w7UwOjf1a2TiJFZB78h2ZenhegxfM1/zwdjeTfIc90WINM4Sd4TaJPTHAgYn8qDqKqPg84N9qTncWPGCmY97EJ67gOEMchaF+Zf6QX/OMsiVvNmDxCs6R2DmZfMRwlcYdPPSjP3Itbx3CcvktBdu0ulLRkUSz+aSVjoXgATLC006FKkwnMeiACMgPXZr0n3r7r/0h/a4LFpIVCqcH5De/UyTAmFaPLUZpaxt/90GoRhHJ465LpIlEIqmO/xym1pElXbQo5C4w4mkTpSb6W/W3Jzf0ytd8MqkPsUXcbX7D6+WEoSV99QgTfityJWSaGxby56AlyASwJH+hJfiQVuCOGn+D3Qii1K51i33L2/scPXVOOiCdDVz7YYRLkoynBsD7OYYf0ruEH5s24oigirAKw+p/VmbwolSoDab6az7De62V97rXLNJvvBtui/6yfr3yam4Iw8+nGXxG8vy1M1ZCRbotwhA9DKssurTjlOW0Ks/Gpod6WSP+SiydSI6QnS7gMLAEjdl80sPrUTc9mgnFN19ADDzETmRgi676oVmGnvCqjoa/yV93yL9YkHZeXKBT/oBP+jU05TPNhnh+4qeM1UB9CwEPrAyPCdc2QNblGbZhFG9xmcfSCSjG/xqZdDJfd89lOBFJNtDidy2c9CQVp96jSa8kxiHtmBCt9AP16Uyr4M+GyFR9K4y9iYX0+p9PfFJj2f8J7SqobNaSiCCcttp2JC2qE5wMx0CDpKnD98fAP7q0kBWVcV17YGVd40auaNseBHmQY44nDa6YfqeRM3erbN9bmgeRvMTWXy+WspzOeMd3d0S0Bpl0fO9LSt9v3/yvWbf5snGBqWO9wqC24vtIUPEjwdK/8/U1bIuaeh2+nqqMvT5yYLjVUURlnhW5g8ouXJJYRCGh8Qw3zSeIPhqObCEbILxcIABVLvOXTF3M5K/o6SPQG2W+VdccqVHdn4WDYBropjNJ4Y5fccemkuv7xUuhGcA950IPArAeDLnPOEKEbKXRmfHNr4BS5Jk6GlIts+jxQikyIzUBg+rOxsJNHUAIBwhwccwzAm6UTv2alzUbgu2oCocjPRjUlOGF9qR/LdhTgFCGeCe1DJjP//vf7ggseWdJ/4m0jWsIpnpnO2SuHRzkC+LzKZ6ZztlETWtXF+7V7Iejlx1nJQ2nLCbVimhA/qNPGviEs5YEEEprpF2gjnODBpS0UUtsgWpInSDWkdI/Knig1S1N4TZaI8HdZaEUnV+RdKX5MmiQhD16mCkxQd7kkZ9Eo8wQl1rkmELU8WDZArJGBI3p6z1dDSGGH+lMKaaTDUQRj+n/ffn37/l6gSPCdfI1xYz2m4BsfVMImemc3DDQAAAA==",alt:""})}),"\n",(0,s.jsx)(c.p,{children:"效果就是这样的："}),"\n",(0,s.jsx)(c.p,{children:"大型项目里调试配置会很多，比如 VSCode，它就有很多调试配置，并用 presentation 做了分组："}),"\n",(0,s.jsx)(c.p,{children:(0,s.jsx)("img",{src:d,alt:""})}),"\n",(0,s.jsxs)(c.h2,{id:"总结",children:["总结",(0,s.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,s.jsx)(c.p,{children:"这节我们过了一遍 VSCode Node Debugger 的调试配置："}),"\n",(0,s.jsxs)(c.ul,{children:["\n",(0,s.jsx)(c.li,{children:"restart: attatch 的时候可以指定尝试重连的次数和时间间隔"}),"\n",(0,s.jsx)(c.li,{children:"processId：除了可以通过网络端口，还可以通过进程 id 的方式 attach 到某个进程的调试服务"}),"\n",(0,s.jsx)(c.li,{children:"program：调试的 node 代码路径，可以通过 args 传参"}),"\n",(0,s.jsx)(c.li,{children:"runtimeExecutable：指定跑代码用的 runtime，默认是 node，也可以换成 ts-node、npm、pnpm 等，但要求这些命令在 PATH 环境变量里"}),"\n",(0,s.jsx)(c.li,{children:"skipFiles：折叠某些路径，不显示在调用栈里，比如 node 内部的一些代码"}),"\n",(0,s.jsx)(c.li,{children:"stopOnEntry：在首行断住，和 --inspect-brk 一样的效果"}),"\n",(0,s.jsx)(c.li,{children:"autoAttachChildProcesses：自动 attch 到子进程的调试服务"}),"\n",(0,s.jsx)(c.li,{children:"console：指定日志输出的位置，是内置的 console、terminal，还是外部的 terminal"}),"\n",(0,s.jsx)(c.li,{children:"cwd：跑 runtime 的目录"}),"\n",(0,s.jsx)(c.li,{children:"env：指定环境变量"}),"\n",(0,s.jsx)(c.li,{children:"presentation：对多个调试配置做分组和排序"}),"\n"]}),"\n",(0,s.jsx)(c.p,{children:"理解了这些调试配置，就可以愉快的调试 node 代码了。"})]})}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:c}=Object.assign({},(0,a.ah)(),e.components);return c?(0,s.jsx)(c,{...e,children:(0,s.jsx)(en,{...e})}):en(e)}let ea=es;es.__RSPRESS_PAGE_META={},es.__RSPRESS_PAGE_META["%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95%E9%80%9A%E5%85%B3%E7%A7%98%E7%B1%8D%2F15.VSCode%20Node%20Debugger%20%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3.md"]={toc:[{text:"attach",id:"attach",depth:2},{text:"restart",id:"restart",depth:3},{text:"attach by process id",id:"attach-by-process-id",depth:3},{text:"launch",id:"launch",depth:2},{text:"program & args",id:"program--args",depth:3},{text:"runtimeExecutable",id:"runtimeexecutable",depth:3},{text:"skipFiles",id:"skipfiles",depth:3},{text:"stopOnEntry",id:"stoponentry",depth:3},{text:"console",id:"console",depth:2},{text:"autoAttachChildProcesses",id:"autoattachchildprocesses",depth:3},{text:"cwd",id:"cwd",depth:3},{text:"env",id:"env",depth:3},{text:"presentation",id:"presentation",depth:3},{text:"总结",id:"总结",depth:2}],title:"15.VSCode Node Debugger 配置详解",headingTitle:"15.VSCode Node Debugger 配置详解",frontmatter:{}}}}]);