"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["93182"],{418830:function(e,n,s){s.r(n),s.d(n,{default:()=>t});var r=s(552676),i=s(740453);let l=s.p+"static/image/d6edcb5271f71da3a5fbd196f2bcb9e7.661c7e36.webp",a=s.p+"static/image/897459c131ace5b159c4099835ee56db.dc1bf575.webp",c=s.p+"static/image/754762e67d39e693f453982d93f9325d.e22ef66c.webp",d=s.p+"static/image/71e6c78cd0e8f943e26582e8aac09e9d.1f77f607.webp",p=s.p+"static/image/87ee450ca0c109109d77f1d3756d87a8.267e8e3e.webp";function h(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",h2:"h2",pre:"pre",img:"img",h3:"h3",blockquote:"blockquote"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"25深入研究-----css-与-3d-之-perspective",children:["25.深入研究 --- CSS 与 3D 之 perspective",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#25深入研究-----css-与-3d-之-perspective",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["上节我们讲述了 CSS 中的变换方式以及对它们原理的深入理解。本节我们介绍一下 3D 变换的投影方式",(0,r.jsx)(n.code,{children:"perspective"}),"相关属性，并通过",(0,r.jsx)(n.code,{children:"照片墙"}),"和",(0,r.jsx)(n.code,{children:"图片盒"}),"的实现学习它们的深入使用方法。"]}),"\n",(0,r.jsx)(n.p,{children:"本节要介绍的主要属性有如下几个："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"transform-style：子元素变换的表现形式。"}),"\n",(0,r.jsx)(n.li,{children:"perspective：视距。"}),"\n",(0,r.jsx)(n.li,{children:"perspective-origin： 视点位置。"}),"\n",(0,r.jsx)(n.li,{children:"backface-visibility：背面是否可见。"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"本节教大家掌握这几个属性，之后用 CSS 就能够很轻松地做出有创意的 3D 效果了。"}),"\n",(0,r.jsxs)(n.h2,{id:"transform-style",children:["transform-style",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#transform-style",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"该属性是用来设置子元素变换的展示形式，默认是 2D 平面展示，当我们需要让子元素的渲染有 3D 效果时，那么我们要将当前元素的 transform-style 属性设置为 preserve-3d。"}),"\n",(0,r.jsx)(n.p,{children:"我们用一张图片做示例："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<div class="image-wrapper">\n    <img src="xxx" />\n</div>\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".image-wrapper{\n    text-align: center;\n    font-size: 0;\n    margin-top: 200px;\n}\n\n.image-wrapper img{\n    width: 150px;\n    height: 110px;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"我们不对图片施加变换，图片是正常状态："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:p,alt:""})}),"\n",(0,r.jsx)(n.p,{children:"记住图片默认时的样子。"}),"\n",(0,r.jsx)(n.p,{children:"此时，我们对图片施加变换，让图片绕 X 轴旋转 60 度。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".image-wrapper img{\n    transform: rotateX(60deg);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"可以看出，图片因为旋转，展示到屏幕上已经变形了，正常情况下，绕 X 轴旋转，图片的上半部分应该转到屏幕内侧，下半部分转到屏幕外侧。"}),"\n",(0,r.jsx)(n.p,{children:"我们看一下，是不是这样子的。"}),"\n",(0,r.jsx)(n.p,{children:"我们让图片的父容器也绕 X 轴旋转，这样就能看出图片到底是不是真的有了 3D 效果。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".img-wrapper{\n    transform: rotateX(0deg);\n    animation: rotate 3s linear;\n}\n@keyframes rotate{\n    0%{\n        rotateX(0deg);\n    }\n    50%{\n        transform: rotateX(120deg);\n    }\n    100%{\n        transform: rotateX(0deg);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"可以看到，图片并没有呈现出立体效果。"}),"\n",(0,r.jsx)(n.p,{children:"那如何让图片呈现立体效果呢？"}),"\n",(0,r.jsx)(n.p,{children:"transform-style 要闪亮登场了。"}),"\n",(0,r.jsx)(n.p,{children:"我们将 transform-style 设置为 preserve-3d 即可。"}),"\n",(0,r.jsx)(n.p,{children:"另一个问题是，为哪个元素设置 transform-style 属性呢？"}),"\n",(0,r.jsxs)(n.h3,{id:"舞台",children:["舞台",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#舞台",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"WebGL 中有舞台和场景的概念， CSS 中也有类似概念。"}),"\n",(0,r.jsx)(n.p,{children:"我们需要一个舞台，然后为舞台设置展示方式。"}),"\n",(0,r.jsx)(n.p,{children:"上面的示例，大家觉得哪个元素是舞台呢？"}),"\n",(0,r.jsx)(n.p,{children:"很简单，图片的祖先容器都可以当做图片的舞台，我们将一个祖先容器设定为舞台，祖先容器的子元素就是舞台上的元素。"}),"\n",(0,r.jsx)(n.p,{children:"因此，既然我们想让元素呈现立体效果，我们就要在元素所在的舞台上设置 transform-style 属性，对于图片来说，图片的任何一个祖先元素都可以作为舞台，我们将图片的父容器作为舞台，为它设置舞台元素的呈现效果。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".img-wrapper{\n    transform-style: preserve-3d;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"很明显，图片呈现出了 3D效果。"}),"\n",(0,r.jsx)(n.p,{children:"通过这两幅动图，我相信大家已经明白 transform-style 的作用了。"}),"\n",(0,r.jsx)(n.p,{children:"我们总结一下："}),"\n",(0,r.jsx)(n.p,{children:"transform-style用来设置容器中子元素的呈现方式\n。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"当设置为 preserve-3d 时，子元素进行 3D 变换会呈现出 3D 立体效果。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["当不设置或者设置为 ",(0,r.jsx)(n.code,{children:"flat"})," 时，子元素不管采用 2D 变换还是 3D 变换，总是呈现出平面效果。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"观察点位置",children:["观察点位置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#观察点位置",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"如何改变观察点位置呢？"}),"\n",(0,r.jsxs)(n.p,{children:["这就涉及到两个新属性 ",(0,r.jsx)(n.code,{children:"perspective"}),"和",(0,r.jsx)(n.code,{children:"perspective-origin"}),"，这两个属性用来设置观察点的坐标，并让投影产生透视效果，透视效果最明显的现象就是近大远小。"]}),"\n",(0,r.jsx)(n.p,{children:"perspective 用来设置观察点在 Z 轴方向的位置，默认时观察点在元素中心，即 z = 0 位置，我们可以调整它到元素中心的距离。"}),"\n",(0,r.jsx)(n.p,{children:"设置这个属性会产生两个效果："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"改变了观察点距离元素的 Z 轴距离."}),"\n",(0,r.jsx)(n.li,{children:"使得子元素的 3D 变换产生透视效果。"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"舞台-1",children:["舞台",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#舞台-1",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"我们想换个角度看图片，那观察点需要设置在哪个元素上呢？"}),"\n",(0,r.jsx)(n.p,{children:"perspective 这个属性也是在舞台上设置的。"}),"\n",(0,r.jsx)(n.p,{children:"我们为舞台设置 perspective属性。"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"请注意，perspective 默认值是 0，此时不产生透视效果。只有不为 0 时才会形成透视效果。"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"那么，观察点距离元素中心的远近对视觉呈现有什么影响呢？"}),"\n",(0,r.jsx)(n.p,{children:"千言万语抵不过一幅图。"}),"\n",(0,r.jsx)(n.p,{children:"我们通过一张动图感受一下，在这个动画里，我将观察点的 Z 轴坐标从 1 像素匀速改变到 100 像素，再从 100 像素移近到 1 像素，另外为了区别舞台和舞台元素在 Z 轴上的不同，我将舞台的背景颜色改为透明度为 70% 的红色。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".img-wrapper{\n    perspective: 300px;\n    animation: camera 3s linear;\n    background-color: rgba(255, 0, 0, .7);\n}\n@keyframes camera {\n    0% {\n        perspective: 1px;\n    }\n    50% {\n        perspective: 100px;\n    }\n    100% {\n        perspective: 1px;\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,UklGRsYEAABXRUJQVlA4ILoEAACQLQCdASpoAfAAPp1OoE0lpCMiIbHpuLATiWdu4XPxEZ5f4zXafGcgX0FLbeajJ+If/h+rl5gPOY6IDqR/QA6Ub9x/2q9mZpC4G8pDD4tOiUA39kAG/sgA39kAG/sgA39kAG/sgA39kAG/sgA39kAG/QDRpZx5gpfQls8Qeps8UvoS2eIPU5dni4RVyFJlV9GS9ADpgZwOGjsL8pUX5KaEnAhHk9XBexCiZld/XBwbnq43q3WQQIMQlqXKZFzU7IuE9YVCS1HtwYjkuy4mstpGTuMma9j8sHvBLVELE0QJL4yu/eCcZy+l2PT5XB7PF/Y/7EtIvxFaJihJGx9jbRb18MibMNFKBijx+cM9MRMtEIstnCN0nBPfJf2eMBeGmqSTiy6iIuanZFzU7IuanZFzU7IuanZFzU7IuanW3MdhuONnil9CWzxB6mzxS+hLZ4g9Tl2eL+yADf2QAb+yADf2QAb+yADf2QAb+yADf2QAb+yADbwAAP7/ThgAAABNf0N/+sP51U+dAZeE8QL9dGzh31Jl2cHgh/zmGj/+Zo+U1bv/FhRF/P/Jt9LacyzDHRF4Sx2Ox2Ox1S1sJhfy28esyZHTf+DXUg6587UreauXV+YEoAdfJFDwKGHyUJWtMM0DQ+ylmVPnGc9tSKv2dlOobrYQLLTG2xIP2mnlFrPqMM9Vyzg8BvpR7rVOPSEZl9jgqD9t9qOBss/QYusrjv5AOWMUmNXF32YDpVhbcGuleqpDa7Sl2LCPVFXUfQGdUwtKolMqCZx0AqULx8bXQa4Kf0OSyQ6WQtiJrkxaMFveUTifO8iyhjorvtFEhue7V+EWaObNDzSCKr0nYrxCKQ+QrKPfC2LvPwj68/Sa0GrzJNs68FYV01uWKAPo47SEIsS3JLyQIYr7ViTI/jMvEopUe3NqyaRlNQEg5+0tTllFECX6BeWADODfbiNHB+iab7il9cxYz8oQ0dKEJgR8PTcMizmLhcA9VcZC0JUhJTzcil+DhqPwFr33H19hR6T6L2Io4c0i/DGH8aNc65olDRhABpgzo2TebE7cbQteVxo8RR1Jbzvz3rps/VicDWAfRFu3IRMBZn6njuHSI6njOIkv0mtvG1zuW41u7jm62EhrNPoO6+jY/IqubTXwqQwCfYnz3gqfCwtHrmc0/s83WHh6giY7UPNnIcgTk23juEHYUsD0E6TYri+QoA8m/M9AJTer9ct+fYVa3SXppBAz3tK98oJe6vOPjByeQxxIclFilVt46LFCNMbYVJH2aDXfEzwI1MaqjKlwdo4VglC7z0rqgMHCaiov2PiAMNLoVUjx7EBOi4Z+AxC78MNuUjv/g0atwFB4NErIh51x6Nqqt/+gwgeqjq2yY73ANcdt57P10GZv+0iCEPE3kloyFpD0DJun62cY0aA+sOeU/4CNlWOFlnsc6SlhWQp6V8kEITnwaSbfdq36HtzfpLhMu6hP2BFSQnMGHinaUaLeY9zznzfgyjmHfMiEKvPXDZlEv83PB+kFt+D3PDW3tlPHAB1mwfLo0liBaY4Sd/Ik99fx3eU2cReVcQxBS3S6WrT0N72yA/8jDKvsGNaAAAAAACv/3FEwUOs4AAAAAAAA",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"因为图片大小是 150 ，高度是 110px，当绕 X 轴旋转 60 度后，图片底边在 Z 轴的坐标为："}),"\n",(0,r.jsx)(n.p,{children:"$\nz = 110 \\div 2 * \\frac{\\sqrt{3}}{2} \\approx 49\n$"}),"\n",(0,r.jsx)(n.p,{children:"所以，我们的观察点的 Z 轴坐标至少要大于这个值，才能看到图片的全貌。"}),"\n",(0,r.jsx)(n.p,{children:"距离越近，就越看不到图片在观察点后面的部分。"}),"\n",(0,r.jsx)(n.p,{children:"我们将 perspective （观察点的 Z 轴坐标）移动到 100px 处。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:d,alt:""})}),"\n",(0,r.jsx)(n.p,{children:"此时，图片有了近大远小的透视效果，这就是 perspective 的作用。"}),"\n",(0,r.jsx)(n.p,{children:"从感官上我们是能感受到它好像有了 3D 的感觉，但是还是看不出它在 Z 轴上的状态。"}),"\n",(0,r.jsx)(n.p,{children:"改变 perspective 只是改变了在 Z 轴的位置，也就是拉远或者拉近镜头，但是并没有将镜头移到图片上方去观察。"}),"\n",(0,r.jsxs)(n.h3,{id:"观察点在-xy-轴的位置",children:["观察点在 X、Y 轴的位置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#观察点在-xy-轴的位置",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"让观察点沿着左、右、上、下方向进行移动的话，该如何做呢？"}),"\n",(0,r.jsx)(n.p,{children:"这就是 perspective-origin 所扮演的重要角色。"}),"\n",(0,r.jsx)(n.p,{children:"它负责设置观察点在 X、Y 轴的偏移，即屏幕的左右、上下方向。"}),"\n",(0,r.jsx)(n.p,{children:"我们看下他的用法："}),"\n",(0,r.jsx)(n.p,{children:"perspective-origin，接收两个参数，一个代表 X 轴偏移，一个代表 Y 轴偏移。"}),"\n",(0,r.jsx)(n.p,{children:"请谨记：该属性的默认值是 （50%，50%），在舞台 DOM 的中心位置。"}),"\n",(0,r.jsx)(n.p,{children:"回到上面的话题，移动镜头到图片上方，也就是设置观察点在舞台上的 Y 轴坐标，我们将镜头往上移动一定高度，从舞台上方观察图片。"}),"\n",(0,r.jsx)(n.p,{children:"还是用动图来演示这个过程。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".img-wrapper{\n    perspective: 200px;\n    animation: camera 3s linear infinite;\n}\n@keyframes{\n    0%{\n        perspective-origin: 50% 50%;\n    }\n    50%{\n        perspective-origin: 50% -200%;\n    }\n    100%{\n        perspective-origin: 50% 50%;\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"上面就是我们将镜头慢慢移动到上方时，对舞台元素的观察过程。"}),"\n",(0,r.jsx)(n.p,{children:"注意，图片本身并没有动，我们移动的只是镜头，虽然你会有一种镜头没动，图片在动的感觉。"}),"\n",(0,r.jsx)(n.p,{children:"通过这几幅动图，我相信大家对这几个属性有了更深刻的认识，接下来，我们介绍如何利用这几个属性实现照片墙和图片盒。"}),"\n",(0,r.jsxs)(n.h2,{id:"照片墙",children:["照片墙",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#照片墙",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"在上一节，我介绍了照片墙的原理，简单来说，就是图片先旋转一定度数，之后沿着 Z 轴方向移动一定距离。"}),"\n",(0,r.jsx)(n.p,{children:"在动手写代码之前，我们要想清楚两个问题："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"每张图片绕 Y 轴旋转的角度。"}),"\n",(0,r.jsx)(n.li,{children:"沿 Z 轴方向至少移动多少像素。"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"我想，只要你想清楚了这四个问题，代码就信手拈来了。"}),"\n",(0,r.jsxs)(n.h3,{id:"每张图片绕-y-轴旋转的角度",children:["每张图片绕 Y 轴旋转的角度。",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#每张图片绕-y-轴旋转的角度",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"我们准备 12 张图片，并将每张图片设置成宽 150px，高 110px 。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"img{\n    width: 150px;\n    height: 110px;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"那么，每张图片旋转的角度是 360 / 12 = 30度。"}),"\n",(0,r.jsxs)(n.h3,{id:"沿-z-轴方向最少移动距离",children:["沿 Z 轴方向最少移动距离",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#沿-z-轴方向最少移动距离",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"为了让图片能够不交叉，我们需要沿图片 Z 轴平移一定距离，那么，这个距离是多少呢？"}),"\n",(0,r.jsx)(n.p,{children:"当然我们可以一点点地区尝试，但是我想我还是教给大家一个严谨的思路比较好。"}),"\n",(0,r.jsx)(n.p,{children:"大家看下图："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:c,alt:""})}),"\n",(0,r.jsx)(n.p,{children:"根据下图，我们能够知道，图片在 Z 轴平移的最小距离是 $\\vec{OB}$，那么如何求得 $\\vec{OB}$ 的长度呢？"}),"\n",(0,r.jsx)(n.p,{children:"由最简单的三角公式可以得出："}),"\n",(0,r.jsx)(n.p,{children:"$\nOB =  BC \\times \\sqrt3 = （BD + DC）\\times \\sqrt3\n$"}),"\n",(0,r.jsx)(n.p,{children:"仍然根据三角公式可以知道："}),"\n",(0,r.jsx)(n.p,{children:"$\nBD = AD \\div 2 = 150 \\div 2 = 75\n$"}),"\n",(0,r.jsx)(n.p,{children:"$\nDC = DE \\div \\frac{\\sqrt3}{ 2} = 75 \\times 2 \\div \\sqrt3 \\approx 89\n$"}),"\n",(0,r.jsx)(n.p,{children:"所以："}),"\n",(0,r.jsx)(n.p,{children:"$\nOB = (BD + DC) \\times \\sqrt3 \\approx 280\n$"}),"\n",(0,r.jsx)(n.p,{children:"也就是说，我们至少要让图片沿着 Z 轴移动 280 像素，才能让各个图片正好衔接。"}),"\n",(0,r.jsx)(n.p,{children:"口说无凭，看看效果吧。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"Array.prototype.forEach.call(?('img'), (item, i) => {\n    item.style.transform = 'rotateY(' + i * 30 + 'deg) translateZ(280px)';\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"仍然用一幅动图来演示，我们将观察点移动到舞台上方："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,UklGRgAIAABXRUJQVlA4IPQHAACQNgCdASpoAfAAPp1Mnk0lpCKiIvc5iLATiWlu4XX6zq0jvjoB7uS9ADpfsiO2mZ5QN6DmO/lNPonKCx0az5lziA8LKrM+FlVmfCuckuUEBznKgn+1T2h4HhfnOVBP9qntD6B9vABaQVuTPHvHJZoSNiD7eADwsk+m1k0GFDr49tvxfMhv1/+NC11mnV+MsI4ZaPknz+HL86z/+jFwP/oriqkIAB4WShKplPRZcKr0VLzwXslEmd/mn4z2o9AM8ghF42KCpHMGxCXDw6Qkz4WVVlBu3m27dYIHuthhngunZd7D1Yk3DPMRNWOOfFvi2IoAkSjBEag+3gA8LJQzA5+OS+1jdT8E8TkI8L0QrDTuTrzZJwf3iOu1mAvSQ3QufrSI+4ERqD7eADwsl4ZzVjfPg8ILSstHMLJ/M9sHZYLEEQfCi9/dlo1O/Mt6nkAB4WVWZu4fxTf0xorektN2gJ38pe9VFAEQpzwH28AHhZVmRZqoDo9vAB4WgV/U1hw389KQkz4WVWZ8LKrM+FlVmfCyqzPhZVZnwsmEgVdFDwPC/OcqCf7VPaHgeF+c5UE/+w/eKP2X94o/Zf3ij9joAP7/sGgiKv/r+sv/ewAFxAL52mVI7kNllGhY2DaDV32tnzPZz1ZgOYg72fMMChZh8TAgdJu4L2kxub0hMpgsq6+OugkEi8XRkirZdVIOBh+MyN//t3ImsT/Umu3ID/apu87WQj6L5f0otKDi3s4VBL3mol8iAxJ1SGeWVWGo0ZADIMymnOJ3D8qja/dAv28GKIinkP9bC3wQd7tvPy+kiWA3xye2qrDlTEKP0B/4xvWLs84+XbUPgBKhwjK5iV7eCDVvtz8lZebKiQKzgSzRI0ggusL3GMxhq0t9eSU59vaC08iVVuyBaB3LhZrIwYtjObM1R5td/A4uAPOzVx1y41aODjoqPyaiRSqsFDpBb+lIp/21QC4ABOoUoKwEVkzyPFeV7OvNl4RKzB881rfqwxk+6Ly6rKrk30ptFbGy5WFJ2EMBH/sa3OEobX8xEAmy+F2K67NarsjAErTZ9a4YInYOwNlqCWw0g39kFWkfQp8kL8cyXH765/FznZkLoT9EjbyC7X5mQSMKP17T9GQFIOClh++5WPp41W5+mZ8NX+S09D+Nu7VW54p9mDqFqviUY+0TkXhIMZdAYq4yJlRg+j/RAHuzjW7uQo2TPK7WWjUTPc4h3LzV+lKELZ9OwOwqBZWuA1UIKFhakEqkcfcTXOmvPWJ5S9jyz638yKQYm3A3ZRUEZOVGVjYmbhPixssnlmnlbp7neLpRY3il5RAPJm6lPlrK4Q2oW5Yfem0X3SCLbQFnASLWQjJglgUyl7LnjHyLzjEfcQv05UCfAm5AJfAKbwSbECmr0IbOr0OsPS83AihAH0ZW40TKw4FjKhGscReer2evbeGV2JsIyDv/toBh5anhTBYp8h33934mmibdxLtUMKkex/nPcDGPJtTgosQgqX4uMs2rUk3JfTfI+ZEOkWIkYSRT6HK8VA5T7lHXo90ujPqZdowp+P+AYuEsrRHzzBl2gTr+qW4wah0LltPnGtjpNHa9iWAKq3kYG33edFcodBXGo8eC3GZZYbQnSYcwVknOozdNyS4s22M++IFgLojSMTBDBXO2mH6s79Q2MEQHPVgJXbXGEfB2l6R0IK1XeNGqZ4DMilb0NSZBxPIRCMMCFAYKD2FtySmwiWV2Z5SD1D0pS1Vyu2ELdW8SHVSvR/jtr7KAiZboa3OJJSr8+rWpOe3taHA4FzkjdVS87ZgNFb4+bk6xuuTOKl2emMgs0bCwaUMEnas9Tn0rrxGPZC+uG1q8TA2strhwVb4IqydqzutH4oaFXpRRHN1YhisFw+5ZsuEC9fz2nLNIqnIvi/h+Jmebx3n4YJgUEXDI8DKQan54zN5u6uNlOINOPbIEbftWeGUODeLzLhLraMl+WbEHeHJLm6g1nasjmpRPf78cVD18uuv9f6/Z4JQQaELYZlAhukbnBY8qxowzmU45Nah8WZI9RA4/zNVXpv5MyxZC4IzC7p7lp7BVKnGAZYI/MuUOU9wGM8Z/F7iHIejXHwgjuxrcCaiuFCHCekVK5rmzZmfppVwgfRztb2EE4DMzGupRSMXH7nqv8r/KmYixYOr2+jkyYwZvVbl/rkSKmuBbo3IhIftDxkJxqKHDg7MN5IQCrO7moe6Q6pQnA9ZPBTc1Rgg0kAvxByxCIHI3kkb4X1ZIUURXzFqklSwLRmOi7sSWVPWL+lCNcEohZ+7UuLarl+T29Vd0pJhw4YMC7DOA7uU1WkBCvWX3zaz7I1X7MEHLY8mUqt0MEsB6yyHx1V59CD2e34TPUvp6Xocohx7Nc99BzqjNKR1EL8eEaaOFFHEx1oYhaIoVXMnsPhyV2YkSIgEQSBWWf/HYbaaYRL5sx0gljHP4kKhNdbhB7dkaalRcHhNhlcnc+y0olPVKFOGV5QdVby9H7epLgg7ty7pxLfXtMyWTOVb64T97YJiyfp6c2hc9DZNiReylQKrwhdAkpT+9BdhXavb8m4ZIZtboQYg5mUnhPGpBlZFSKtNIhZMD+KI67P2IEJAbRM1tJfx2B7TTN1b59t7oRPZR7pPa0MDITqPhnCZE0zRsgAG9H1X2H/taoZsXvDRP0nZ4HLL46CIXvEpjSuGhGiE0kEtzwAAAAAKYD/6IeX/uwBaTgAAAAA==",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"可以看到，当我们让图片沿Z 轴移动 282 像素之后，各个图片的边缘正好能够对齐，和我们推导的结果一致。"}),"\n",(0,r.jsx)(n.p,{children:"将舞台绕 X 轴旋转 90 度，以自下而上的角度观察照片墙是如何从默认位置沿着 Z 轴移动到指定位置："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".img-wrapper{\n    transform: rotateX(90deg);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:"data:image/webp;base64,UklGRhgCAABXRUJQVlA4IAwCAAAwIACdASpoAfAAPp1Mo02lpCMiIFVY4LATiWlu4XPxG0Dxji/pWPGw9BVNqp8JNEArwAXI+HoKptVPig1sAoLIpqp8ULNh5rxqmQnihZsPQVTacX09KPh6CqbVT4oNbAKCyKaqalCJrc7IKmhPE1RVmwuH7NiYh3UX8/a/jxRG3J7Vv/J/Kpr/GqZCeKFdt53FZ/6eNkAJjz9b7KYWR7WCuhBpfTQWRS/xqnwpA9O16h5D+mcc6W2XdxSYszZBQWRS/xqnxNgKG4njA401U9KPh1sH8ymquVKgavkU/XzsPQVTaqfE1RVlyPh6CqbVT4oNbAKCyKaqfFCzYea8apkJ4oWbD0FU2nF8kAD+/zDfj//47h/+3wcaPHc3/5IJ/+0gV/KH3tgAAJq9n4xzcdEd1/dMs620QKDwxHNtn6Wapg5Htc+cLHkpHBFxJZtTB90mNOVkH6iXQrWFqLIyUj1nq6z9X7lbrYTptvJ5IB7NoBmO5lgPtJke0BQxa6inScYdEWWfPBWdXIi+k5XFYelK2X5YQq5WWY/g9/XYQfS/wji4RphuLEKLRhkwHsRh3n9dFRQRKTWcdgtfaQBZ+h7BUTGn92Q0oZU7T50/spP5enc6SvSZe1oWrB+fTenafCXuFp3kX12JMqA1IuPhQ2WI8ppQ+wLqxJRwhwYRny1UEwN0VT/lpAAAAAAAAA==",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"从不同角度观看我们的舞台，展现效果也会不同。"}),"\n",(0,r.jsxs)(n.h3,{id:"背面是否可见",children:["背面是否可见",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#背面是否可见",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"照片墙这个效果，大家应该能看到处于背面的元素还是能够可见的，这与实际有所差异，如果大家不想背面元素可见，我们可以设置 backface-visibility 属性来实现："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"backface-visibility: hidden;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:a,alt:""})}),"\n",(0,r.jsx)(n.p,{children:"大家可以看到，设置完背面不可见属性之后，位于后面的图片此时已经看不到了。"}),"\n",(0,r.jsx)(n.p,{children:"以上就是图片墙的主要原理，可见，了解一些图形学知识对于我们做 3D 动效有莫大的帮助。"}),"\n",(0,r.jsxs)(n.p,{children:["接下来，我们看一下另一个效果",(0,r.jsx)(n.code,{children:"图片盒子"}),"的分析实现过程。"]}),"\n",(0,r.jsxs)(n.h2,{id:"图片盒",children:["图片盒",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#图片盒",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"图片盒是一个包含 6 个面的立方体，每个面其实就是一个 DOM 元素。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:l,alt:""})}),"\n",(0,r.jsx)(n.p,{children:"上图就是一个图片盒子的例子，我们接下来的目标就是利用 CSS 的 3D 属性实现这样一个效果。"}),"\n",(0,r.jsx)(n.p,{children:"写代码之前还是先思考一下，不考虑动效，我们如何实现这样一个立方体。"}),"\n",(0,r.jsx)(n.p,{children:"其实很简单，主要思考清楚六个面的状态就可以了。"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"首先我们需要六个 DOM 元素，此时六个元素在同一位置。"}),"\n",(0,r.jsx)(n.li,{children:"处理前后两个平面在 Z 轴方向的差别。"}),"\n",(0,r.jsx)(n.li,{children:"对上下两个平面施加绕 X 轴旋转90度的效果，然后处理 Y 轴方向的差别。"}),"\n",(0,r.jsx)(n.li,{children:"对左右两个平面施加绕 Y 轴旋转90度的效果，然后处理 X 轴方向的差别。"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"想清楚这几个步骤，代码就很简单了。"}),"\n",(0,r.jsx)(n.p,{children:"为了让图片展示 3D 效果，我们需要为图片父容器设置 transform-style 属性："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".img-wrapper{\n    transform-style: preserve-3d;\n    position: relative;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"接下来，我们为图片元素设置宽高，并对六张图片采用绝对定位，使他们重合。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"img{\n    width: 150px;\n    height: 110px;\n    position: absolute;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"然后，开始处理各个面的状态，对于图片盒子的前后两个面，我们只需要改变它们的 Z 轴坐标就可以了，那么 Z 轴坐标设置多少呢？"}),"\n",(0,r.jsx)(n.p,{children:"聪明的同学已经想到了， Z 轴坐标是图片高度的一半。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".front{\n    transform: translateZ(55px);\n}\n.back{\n    transform: translateZ(-55px);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"前后平面处理完了，接下来处理上下两个面，上下两个面要绕 X 轴翻转 90 度，然后沿着 Y 轴分别向上下两个方向移动图片高度的一半距离。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"    .top{\n        transform: translateY(-55px) rotateX(90deg);\n    }\n    .back{\n        transform: translateZ(-55px) rotateX(180deg) ;\n    }\n"})}),"\n",(0,r.jsx)(n.p,{children:"最后，处理左右两个平面，左右两个平面需要绕 Y 轴旋转 90 度，然后沿着 X 轴进行平移，分别向左、向右平移图片宽度的一半。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".left{\n    transform: translateX(-75px) rotateY(90deg);\n}\n.right {\n    transform: translateX(75px) rotateY(-90deg);\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"这样，就完成了一个图片盒子，很简单吧？"}),"\n",(0,r.jsxs)(n.h2,{id:"回顾",children:["回顾",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#回顾",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"本节主要讲述了如何设置观察点在三维层面的坐标，并结合上节的变换属性实现照片墙和图片盒子的特效，主要目的不是教会大家做这些效果，而是教大家思考 3D 特效的分析过程。通过这两个例子，我想大家认识到了 css 的强大。即使不使用 WebGL ，我们依然可以用 DOM 元素结合 CSS 实现 3D 效果。"}),"\n",(0,r.jsx)(n.p,{children:"下一节，我们详细阐述一下数学库在 CSS 3D 属性中的高级应用。"})]})}function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}let t=A;A.__RSPRESS_PAGE_META={},A.__RSPRESS_PAGE_META["WebGL%20%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5%2F25.%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%20---%20CSS%20%E4%B8%8E%203D%20%E4%B9%8B%20perspective.md"]={toc:[{text:"transform-style",id:"transform-style",depth:2},{text:"舞台",id:"舞台",depth:3},{text:"观察点位置",id:"观察点位置",depth:2},{text:"舞台",id:"舞台-1",depth:3},{text:"观察点在 X、Y 轴的位置",id:"观察点在-xy-轴的位置",depth:3},{text:"照片墙",id:"照片墙",depth:2},{text:"每张图片绕 Y 轴旋转的角度。",id:"每张图片绕-y-轴旋转的角度",depth:3},{text:"沿 Z 轴方向最少移动距离",id:"沿-z-轴方向最少移动距离",depth:3},{text:"背面是否可见",id:"背面是否可见",depth:3},{text:"图片盒",id:"图片盒",depth:2},{text:"回顾",id:"回顾",depth:2}],title:"25.深入研究 --- CSS 与 3D 之 perspective",headingTitle:"25.深入研究 --- CSS 与 3D 之 perspective",frontmatter:{}}}}]);