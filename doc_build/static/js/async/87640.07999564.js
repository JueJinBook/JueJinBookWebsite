"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["87640"],{802389:function(e,c,h){h.r(c),h.d(c,{default:()=>i});var d=h(552676),s=h(740453);function n(e){let c=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",img:"img",h2:"h2"},(0,s.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(c.h1,{id:"17高级-8checkout-的本质",children:["17高级 8：checkout 的本质",(0,d.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#17高级-8checkout-的本质",children:"#"})]}),"\n",(0,d.jsxs)(c.p,{children:["在前面的 ",(0,d.jsx)(c.code,{children:"branch"})," 的部分，我说到 ",(0,d.jsx)(c.code,{children:"checkout"})," 可以用来切换 ",(0,d.jsx)(c.code,{children:"branch"}),"："]}),"\n",(0,d.jsx)(c.pre,{children:(0,d.jsx)(c.code,{className:"language-shell",children:"git checkout branch2\n"})}),"\n",(0,d.jsx)(c.p,{children:(0,d.jsx)(c.img,{src:"https://user-gold-cdn.xitu.io/2017/11/30/160089d53b4f65a5?w=458&h=572&f=gif&s=103354",alt:"checkout"})}),"\n",(0,d.jsxs)(c.p,{children:["不过实质上，",(0,d.jsx)(c.code,{children:"checkout"})," 并不止可以切换 ",(0,d.jsx)(c.code,{children:"branch"}),"。",(0,d.jsx)(c.code,{children:"checkout"})," 本质上的功能其实是：签出（ checkout ）指定的 ",(0,d.jsx)(c.code,{children:"commit"}),"。"]}),"\n",(0,d.jsxs)(c.p,{children:[(0,d.jsx)(c.code,{children:"git checkout branch名"})," 的本质，其实是把 ",(0,d.jsx)(c.code,{children:"HEAD"})," 指向指定的 ",(0,d.jsx)(c.code,{children:"branch"}),"，然后签出这个 ",(0,d.jsx)(c.code,{children:"branch"})," 所对应的 ",(0,d.jsx)(c.code,{children:"commit"})," 的工作目录。所以同样的，",(0,d.jsx)(c.code,{children:"checkout"})," 的目标也可以不是 ",(0,d.jsx)(c.code,{children:"branch"}),"，而直接指定某个 ",(0,d.jsx)(c.code,{children:"commit"}),"："]}),"\n",(0,d.jsx)(c.pre,{children:(0,d.jsx)(c.code,{className:"language-shell",children:"git checkout HEAD^^\n"})}),"\n",(0,d.jsx)(c.pre,{children:(0,d.jsx)(c.code,{className:"language-shell",children:"git checkout master~5\n"})}),"\n",(0,d.jsx)(c.pre,{children:(0,d.jsx)(c.code,{className:"language-shell",children:"git checkout 78a4bc\n"})}),"\n",(0,d.jsx)(c.pre,{children:(0,d.jsx)(c.code,{className:"language-shell",children:"git checkout 78a4bc^\n"})}),"\n",(0,d.jsx)(c.p,{children:"这些都是可以的。"}),"\n",(0,d.jsxs)(c.p,{children:["另外，如果你留心的话可能会发现，在 ",(0,d.jsx)(c.code,{children:"git status"})," 的提示语中，Git 会告诉你可以用 ",(0,d.jsx)(c.code,{children:"checkout -- 文件名"})," 的格式，通过「签出」的方式来撤销指定文件的修改："]}),"\n",(0,d.jsx)(c.p,{children:(0,d.jsx)(c.img,{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe34cc387ba541?w=616&h=160&f=jpeg&s=58078",alt:""})}),"\n",(0,d.jsxs)(c.h2,{id:"小结",children:["小结",(0,d.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#小结",children:"#"})]}),"\n",(0,d.jsxs)(c.p,{children:["这节的内容是对 ",(0,d.jsx)(c.code,{children:"checkout"})," 的本质进行简述："]}),"\n",(0,d.jsxs)(c.p,{children:[(0,d.jsx)(c.code,{children:"checkout"})," 的本质是签出指定的 ",(0,d.jsx)(c.code,{children:"commit"}),"，所以你不止可以切换 ",(0,d.jsx)(c.code,{children:"branch"}),"，也可以直接指定 ",(0,d.jsx)(c.code,{children:"commit"})," 作为参数，来把 ",(0,d.jsx)(c.code,{children:"HEAD"})," 移动到指定的 ",(0,d.jsx)(c.code,{children:"commit"}),"。"]}),"\n",(0,d.jsxs)(c.h2,{id:"checkout-和-reset-的不同",children:["checkout 和 reset 的不同",(0,d.jsx)(c.a,{className:"header-anchor","aria-hidden":"true",href:"#checkout-和-reset-的不同",children:"#"})]}),"\n",(0,d.jsxs)(c.p,{children:[(0,d.jsx)(c.code,{children:"checkout"})," 和 ",(0,d.jsx)(c.code,{children:"reset"})," 都可以切换 ",(0,d.jsx)(c.code,{children:"HEAD"})," 的位置，它们除了有许多细节的差异外，最大的区别在于：",(0,d.jsx)(c.code,{children:"reset"})," 在移动 ",(0,d.jsx)(c.code,{children:"HEAD"})," 时会带着它所指向的 ",(0,d.jsx)(c.code,{children:"branch"})," 一起移动，而 ",(0,d.jsx)(c.code,{children:"checkout"})," 不会。当你用 ",(0,d.jsx)(c.code,{children:"checkout"})," 指向其他地方的时候，",(0,d.jsx)(c.code,{children:"HEAD"})," 和 它所指向的 ",(0,d.jsx)(c.code,{children:"branch"})," 就自动脱离了。"]}),"\n",(0,d.jsxs)(c.p,{children:["事实上，",(0,d.jsx)(c.code,{children:"checkout"})," 有一个专门用来只让 ",(0,d.jsx)(c.code,{children:"HEAD"})," 和 ",(0,d.jsx)(c.code,{children:"branch"})," 脱离而不移动 ",(0,d.jsx)(c.code,{children:"HEAD"})," 的用法："]}),"\n",(0,d.jsx)(c.pre,{children:(0,d.jsx)(c.code,{className:"language-shell",children:"git checkout --detach\n"})}),"\n",(0,d.jsxs)(c.p,{children:["执行这行代码，Git 就会把 ",(0,d.jsx)(c.code,{children:"HEAD"})," 和 ",(0,d.jsx)(c.code,{children:"branch"})," 脱离，直接指向当前 ",(0,d.jsx)(c.code,{children:"commit"}),"："]}),"\n",(0,d.jsx)(c.p,{children:(0,d.jsx)(c.img,{src:"https://user-gold-cdn.xitu.io/2017/11/30/1600acce7b90b009?w=590&h=472&f=gif&s=94227",alt:"git checkout --detach"})})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:c}=Object.assign({},(0,s.ah)(),e.components);return c?(0,d.jsx)(c,{...e,children:(0,d.jsx)(n,{...e})}):n(e)}let i=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["Git%20%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3%E5%8F%8A%E5%AE%9E%E7%94%A8%E6%8C%87%E5%8D%97%2F17%E9%AB%98%E7%BA%A7%208%EF%BC%9Acheckout%20%E7%9A%84%E6%9C%AC%E8%B4%A8.md"]={toc:[{text:"小结",id:"小结",depth:2},{text:"checkout 和 reset 的不同",id:"checkout-和-reset-的不同",depth:2}],title:"17高级 8：checkout 的本质",headingTitle:"17高级 8：checkout 的本质",frontmatter:{}}}}]);