"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["33296"],{612936:function(e,s,c){c.r(s),c.d(s,{default:()=>y});var a=c(552676),i=c(740453);let n=c.p+"static/image/4df2b6e2e14fbfdb99e75c6e6a90353e.fa9b8289.webp",r=c.p+"static/image/2a86ae9589c1244b9226d777c42329b8.46c4d364.webp",l=c.p+"static/image/3cbe0bb4a340d8e692b91f61b1562159.4552360b.webp",t=c.p+"static/image/d69bc600a4afc0fba734bb1cf6cec328.bb0773c9.webp",d=c.p+"static/image/cc5d7d60f723cf02f89a59da1d99bb97.b5529961.webp",p=c.p+"static/image/2e7abb9e20e02d19f645e9764e7e2bbd.0a91e4d5.webp",h=c.p+"static/image/96f2d6f4a227272a19254aa07f374782.e262abac.webp",x=c.p+"static/image/82bbe442f36b68cf0f9a98e2ef6c8d69.8ec2be6e.webp",b=c.p+"static/image/352c85a085b81b52d281096f02aa2c75.8bb182e6.webp",j=c.p+"static/image/a00959e1ba1b5b501864aada59040959.de4978a8.webp",f=c.p+"static/image/4ff2788978e41b595485126be3427f35.cc250f60.webp",g=c.p+"static/image/e86f05a37d2b5c284e0fb3b962ee377f.78f940a9.webp",m=c.p+"static/image/abeadfa62dfb4e325c4990f1518caf11.1dd5dbff.webp",o=c.p+"static/image/df79fb4ee9a8bb4ad2305a730f6415c0.4c259736.webp",A=c.p+"static/image/bb6a04b10bee291f1f4b7aa97a5753be.b4f7e55d.webp",P=c.p+"static/image/dde8b23fc5817292541102d21b85c521.a605f13a.webp",u=c.p+"static/image/07faee93a18050ee22be8e2674a865d3.df243457.webp",C=c.p+"static/image/4af2809ac413377d60483985220d1d8f.eb60865a.webp",O=c.p+"static/image/934ade60a1f2694fbd10672af488c58b.db2da498.webp",V=c.p+"static/image/c57ad7645844b1a3a7a445d80f907a48.532799f7.webp",U=c.p+"static/image/440d57643f7f53e341c184f829b506e0.22b48927.webp",w=c.p+"static/image/e75113e528c7a88b1d636bcc95212624.35d5ce10.webp",W=c.p+"static/image/9ce765b74a84368debfd520e28ebeead.efb9a3a7.webp",E=c.p+"static/image/0d98c7428a87de455c36ecfb1b195bc3.65f7b4e5.webp",F=c.p+"static/image/951e575e9e5a834c6e466148b0ff0a33.b2a03c45.webp",L=c.p+"static/image/a87ca02d5b666b1bbdf84e2c1607d00f.32f5e36e.webp",k=c.p+"static/image/a45219ef549c1b1c1b5bbe375e9e9c88.41d6b2c2.webp",v=c.p+"static/image/d6066afcd1e5f02c57859e1b3b64ce28.84cd8f8c.webp";function B(e){let s=Object.assign({h1:"h1",a:"a",p:"p",img:"img",ul:"ul",li:"li",h2:"h2"},(0,i.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.h1,{id:"41如何用-charles-断点调试-https-请求",children:["41.如何用 Charles 断点调试 https 请求？",(0,a.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#41如何用-charles-断点调试-https-请求",children:"#"})]}),"\n",(0,a.jsx)(s.p,{children:"现在的网站基本都是 https 的，而 charles 是常用的 http 抓包工具，所以用 charles 调试 https 请求是常见的需求。"}),"\n",(0,a.jsx)(s.p,{children:"这节就来讲下如何用 charles 调试 https 请求，如何断点调试。"}),"\n",(0,a.jsx)(s.p,{children:"首先安装 charles，点击 start recording："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:v,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"浏览器访问一些页面，这时候左侧就会展示出抓到的 http/https 请求："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:k,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"但是这时候抓到的是加密过后的内容，这是 https 的机制导致的："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:L,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"服务端会下发被 CA 认证过的证书，里面包含了公钥，而服务器自己保留私钥，通过这种机制完成对称密钥的传输和身份的认证，之后加密传输数据。"}),"\n",(0,a.jsx)(s.p,{children:"中间人拿到的数据自然都是被加密过的，也就是上图的那些乱码："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:F,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"那抓包工具怎么能拿到明文的数据呢？"}),"\n",(0,a.jsx)(s.p,{children:"自己用服务端的证书和服务端对接不就行了？"}),"\n",(0,a.jsx)(s.p,{children:"也就是这样："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:E,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"Charles 自己用服务端的证书来和服务端通信，然后给浏览器一个自己的证书，这样就能解密传输的内容，拿到明文数据了。"}),"\n",(0,a.jsx)(s.p,{children:"点击 Proxy 的 SSL Proxy Setting："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:W,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"添加一条对 juejin 的 https 代理："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:w,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"这是 juejin 之前的证书："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:U,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"代理之后就换成了 Charles 的证书，但是会提示不安全："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:V,alt:""})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:O,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"这是因为系统有一个存放所有根证书的地方，要那里存在并且被信任的证书才是安全的。"}),"\n",(0,a.jsx)(s.p,{children:"点击 help > SSL Proxying > Install Charles Root Certificate，安装到系统的钥匙串中："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:C,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"改为始终信任："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:u,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"这时候浏览器里就会标记安全了："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:P,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"并且在 charles 里就会看到明文的 https 请求和响应内容："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:A,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"这个过程的原理就是这张图："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:o,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"现在能够抓 https 包了，但是还不够，现在只能看，很多情况下我们是希望能修改一下请求和响应内容的，这时候就要用断点功能了："}),"\n",(0,a.jsx)(s.p,{children:"右键请求，勾选 breakpoints："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:m,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"然后开启断点："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:g,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"刷新页面你会发现它断住了："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:f,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"下面三个按钮分别是取消、终止、执行修改后的请求的意思。"}),"\n",(0,a.jsx)(s.p,{children:"上面可以改 url，添加 header，还可以改请求内容和 cookie："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:j,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"点击 execute 之后就会发送请求。"}),"\n",(0,a.jsx)(s.p,{children:"之后响应的时候还会断住，这时候就可以用同样的方式修改响应了："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:b,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"比如我把 title 修改了一下，点击 execute 之后，看到的网页就是修改过后的："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:x,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"这样我们就可以断点调试 https 请求了。"}),"\n",(0,a.jsx)(s.p,{children:"为什么可以实现断点功能呢？"}),"\n",(0,a.jsx)(s.p,{children:"这个很容易想明白，怎么请求、怎么响应都是 Charles 控制的，那想实现一个断点和编辑的功能，岂不是很容易么？"}),"\n",(0,a.jsx)(s.p,{children:"有的同学可能会问，移动端怎么调试呢？"}),"\n",(0,a.jsx)(s.p,{children:"其实是一样的，只不过移动端也要把 Charles 证书安装到自己的系统中，需要点击安装 charles 证书到移动设备："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:h,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"他会提示你在手机设置代理服务器，然后下载 Charles 证书："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:p,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"原理和我们在 PC 端下载 Charles 证书是一样的，后续流程也一样。"}),"\n",(0,a.jsx)(s.p,{children:"除此以外，chrome 还有一个浏览器插件可以更细粒度的控制代理，叫做 SwitchyOmega："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:d,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"你可以配置若干个代理服务器，比如 charles 的代理服务器："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:t,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"这个可以在 Charles 的 Proxy > Proxy Setting 里配置："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:l,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"然后就可以配置什么 url 用什么代理，或者不用代理直接连接："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:r,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"当你有多个代理服务器，或者想控制有的页面走代理有的不走的时候，就可以用这个插件来控制了。"}),"\n",(0,a.jsx)(s.p,{children:"要让你配置的规则生效，这里要选择 auto switch，也就是根据规则自动切换："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:n,alt:""})}),"\n",(0,a.jsx)(s.p,{children:"这几个选项的意思分别是："}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"直接连接：不走代理"}),"\n",(0,a.jsx)(s.li,{children:"系统代理：用系统级别的代理配置"}),"\n",(0,a.jsx)(s.li,{children:"proxy：这个是我们配置的那个代理服务器，可以指定网页走这个代理"}),"\n",(0,a.jsx)(s.li,{children:"auto switch：根据规则自动切换代理"}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"也可以为这个 url 单独设置代理方式："}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,a.jsxs)(s.h2,{id:"总结",children:["总结",(0,a.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,a.jsx)(s.p,{children:"用 Charles 调试 https 请求是常见的需求，它需要安装 Charles 的证书到本地系统，然后信任，之后就可以抓到明文数据了。"}),"\n",(0,a.jsx)(s.p,{children:"原理就是 Charles 会使用服务器的证书来和服务器通信，然后发一个自己的证书给浏览器。"}),"\n",(0,a.jsx)(s.p,{children:"Charles 还有断点调试功能，可以修改请求和响应的数据。"}),"\n",(0,a.jsx)(s.p,{children:"移动端 https 调试也是同样的原理，只不过需要配置下代理和证书。"}),"\n",(0,a.jsx)(s.p,{children:"如果想切换代理服务器或者设置有的页面不走代理，可以用 Chrome 插件 SwitchyOmega 来控制。"}),"\n",(0,a.jsx)(s.p,{children:"会断点调试 https 请求还是很有意义的，比如改改 header、改改 body，看看会有啥效果，使用场景有很多。"})]})}function G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.ah)(),e.components);return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(B,{...e})}):B(e)}let y=G;G.__RSPRESS_PAGE_META={},G.__RSPRESS_PAGE_META["%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95%E9%80%9A%E5%85%B3%E7%A7%98%E7%B1%8D%2F41.%E5%A6%82%E4%BD%95%E7%94%A8%20Charles%20%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95%20https%20%E8%AF%B7%E6%B1%82%EF%BC%9F.md"]={toc:[{text:"总结",id:"总结",depth:2}],title:"41.如何用 Charles 断点调试 https 请求？",headingTitle:"41.如何用 Charles 断点调试 https 请求？",frontmatter:{}}}}]);