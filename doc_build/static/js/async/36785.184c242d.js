"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["36785"],{959021:function(e,n,t){t.r(n),t.d(n,{default:()=>g});var s=t(552676),a=t(740453);let l=t.p+"static/image/25aa591a085b32c0b5a83b5f1992f0ad.ce5b2aa8.webp",r=t.p+"static/image/c7717ffa35dc8aec8055c2a475863a89.3586adeb.webp",c=t.p+"static/image/95cd376358815618a9831dd2b815569f.b5674f76.webp",i=t.p+"static/image/2771fb58c1ffcd173d26236a828c5875.70976067.webp",d=t.p+"static/image/f6cda683e447e734588492f4bf22a7c1.14863dfa.webp",p=t.p+"static/image/3d60b041f275f18397f13878499f17b6.37a0b9b3.webp",o=t.p+"static/image/8e2556f6767d23139c30e8665ab5e7fc.17b54c70.webp",h=t.p+"static/image/59ed0ca5b6f6afc0e20fd4396735ff65.b50259ae.webp",x=t.p+"static/image/a1f07fcb645a376c312d22c69f5157f4.d39f6b07.webp",m=t.p+"static/image/a108e874795d7550d023960a64100e28.626c5b62.webp";function j(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",h2:"h2",pre:"pre",code:"code",img:"img",strong:"strong"},(0,a.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"37-原理篇--如何调试-svelte5-源码",children:["37-原理篇 ❘ 如何调试 Svelte5 源码",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#37-原理篇--如何调试-svelte5-源码",children:"#"})]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"推荐学习指数：⭐️️⭐️️"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"1-前言",children:["1. 前言",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-前言",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Svelte 5 之于 Svelte 4，并不是在 Svelte 4 上新增了一个符文功能，而是框架层面的彻底重写。"}),"\n",(0,s.jsx)(n.p,{children:"在 Svelte 4 中："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<script>\n  let name = 'World';\n  function update() {\n    name = 'Svelte';\n  }\n<\/script>\n<button on:click={update}>Hello {name}</button>\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://svelte.dev/repl/7c13473a03164ef8b4ee0caabda57cc1?version=4.2.19",title:"https://svelte.dev/repl/7c13473a03164ef8b4ee0caabda57cc1?version=4.2.19",target:"_blank",rel:"noopener noreferrer",children:"代码被编译为"}),"："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'/* App.svelte generated by Svelte v4.2.19 */\nimport {\n  SvelteComponent,\n  append,\n  detach,\n  element,\n  init,\n  insert,\n  listen,\n  noop,\n  safe_not_equal,\n  set_data,\n  text\n} from "svelte/internal";\n\nimport "svelte/internal/disclose-version";\n\nfunction create_fragment(ctx) {\n  let button;\n  let t0;\n  let t1;\n  let mounted;\n  let dispose;\n\n  return {\n    c() {\n      button = element("button");\n      t0 = text("Hello ");\n      t1 = text(/*name*/ ctx[0]);\n    },\n    m(target, anchor) {\n      insert(target, button, anchor);\n      append(button, t0);\n      append(button, t1);\n\n      if (!mounted) {\n        dispose = listen(button, "click", /*update*/ ctx[1]);\n        mounted = true;\n      }\n    },\n    p(ctx, [dirty]) {\n      if (dirty & /*name*/ 1) set_data(t1, /*name*/ ctx[0]);\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching) {\n        detach(button);\n      }\n\n      mounted = false;\n      dispose();\n    }\n  };\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n  let name = \'World\';\n\n  function update() {\n    $$invalidate(0, name = \'Svelte\');\n  }\n\n  return [name, update];\n}\n\nclass App extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance, create_fragment, safe_not_equal, {});\n  }\n}\n\nexport default App;\n'})}),"\n",(0,s.jsxs)(n.p,{children:["而在 Svelte 5 中，",(0,s.jsx)(n.a,{href:"https://svelte-5-preview.vercel.app/#H4sIAAAAAAAAEz2MsQrDIBRFf0XekhYC2a0JdOveIUPtkOoLSI2KPgtF_PdiQzvew7mnwGosJuC3Am7ZEDicQ4Ae6B3aSC-0hNBD8jmqRkRS0QSapJNkkVh7sZF1s49Wd6eG1-wUGe9YDnohPBxZaVjSz71-q7tcpRPDvykemcg75h1X1qjnWPZGnS5orWelJaoYdm2CHjavzWpQA6eYsd7rB99pKTPTAAAA",title:"https://svelte-5-preview.vercel.app/#H4sIAAAAAAAAEz2MsQrDIBRFf0XekhYC2a0JdOveIUPtkOoLSI2KPgtF_PdiQzvew7mnwGosJuC3Am7ZEDicQ4Ae6B3aSC-0hNBD8jmqRkRS0QSapJNkkVh7sZF1s49Wd6eG1-wUGe9YDnohPBxZaVjSz71-q7tcpRPDvykemcg75h1X1qjnWPZGnS5orWelJaoYdm2CHjavzWpQA6eYsd7rB99pKTPTAAAA",target:"_blank",rel:"noopener noreferrer",children:"相同的代码被编译为"}),"："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import * as $ from "svelte/internal/client";\n\nvar root = $.template(`<button> </button>`);\n\nexport default function App($$anchor) {\n  let name = $.mutable_state(\'World\');\n\n  function update() {\n    $.set(name, \'Svelte\');\n  }\n\n  var button = root();\n  var text = $.child(button);\n\n  $.reset(button);\n  $.template_effect(() => $.set_text(text, `Hello ${$.get(name) ?? ""}`));\n  $.event("click", button, update);\n  $.append($$anchor, button);\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["你会发现，编译输出的代码已经完全不一样了！",(0,s.jsx)(n.code,{children:"$.template"}),"、",(0,s.jsx)(n.code,{children:"$.set"}),"、",(0,s.jsx)(n.code,{children:"$.get"}),"、",(0,s.jsx)(n.code,{children:"$.mutable_state"}),"、",(0,s.jsx)(n.code,{children:"$.template_effect"})," 这些是什么意思？如果你查看这些函数的源码，你会发现有复杂的判断和绕来绕去的逻辑，光看代码实在是难以清楚知道实际运行时的逻辑。"]}),"\n",(0,s.jsx)(n.p,{children:"那么我们有办法可以调试 Svelte 5 的运行时源码吗？这就是本篇要解决的问题。跟着本篇的步骤走，你可以很轻松的在 Svlete 5 运行时源码中打出断点，调试代码。"}),"\n",(0,s.jsx)(n.p,{children:"那就让我们开始吧。"}),"\n",(0,s.jsxs)(n.h2,{id:"2-下载源码",children:["2. 下载源码",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-下载源码",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"新建一个文件夹（叫啥都行）："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"mkdir svelte-demo\n"})}),"\n",(0,s.jsxs)(n.p,{children:["新建 ",(0,s.jsx)(n.code,{children:"index.html"}),"，代码如下："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<html>\n  <head>\n    <title>svelte-demo</title>\n  </head>\n  <body>\n    <script src="./svelte.js" type="module"><\/script>\n  </body>\n</html>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["新建 ",(0,s.jsx)(n.code,{children:"svelte.js"}),"，我们从 ",(0,s.jsx)(n.a,{href:"https://svelte-5-preview.vercel.app/",title:"https://svelte-5-preview.vercel.app/",target:"_blank",rel:"noopener noreferrer",children:"Svelte 5 Preview"})," 中拷贝编译后的代码。"]}),"\n",(0,s.jsx)(n.p,{children:"假设我们想要调试的源码是："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<script>\n  let name = $state('World');\n  function update() {\n    name = 'Svelte';\n  }\n<\/script>\n<button onclick={update}>Hello {name}</button>\n"})}),"\n",(0,s.jsx)(n.p,{children:"可以看到右侧输出的代码为："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:m,alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["我们将输出的代码拷贝到 ",(0,s.jsx)(n.code,{children:"svelte.js"}),"中："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'import * as $ from "svelte/internal/client";\n\nfunction update(_, name) {\n  $.set(name, \'Svelte\');\n}\n\nvar root = $.template(`<button> </button>`);\n\nexport default function App($$anchor) {\n  let name = $.state(\'World\');\n  var button = root();\n\n  button.__click = [update, name];\n\n  var text = $.child(button);\n\n  $.reset(button);\n  $.template_effect(() => $.set_text(text, `Hello ${$.get(name) ?? ""}`));\n  $.append($$anchor, button);\n}\n\n$.delegate(["click"]);\n'})}),"\n",(0,s.jsx)(n.p,{children:"下载 Svelte 源码："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"git clone git@github.com:sveltejs/svelte.git\n"})}),"\n",(0,s.jsx)(n.p,{children:"此时的目录结构为："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"svelte-demo\n├─ svelte\n├─ index.html\n└─ svelte.js\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"3-修改引入",children:["3. 修改引入",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-修改引入",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["修改 ",(0,s.jsx)(n.code,{children:"svelte.js"}),"，将 ",(0,s.jsx)(n.code,{children:"svelte/internal/client"}),"改为引入 ",(0,s.jsx)(n.code,{children:"svelte"}),"的源码，并将组件挂载到 DOM 上："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import * as $ from "./svelte/packages/svelte/src/internal/client/index.js";\nimport { mount } from "./svelte/packages/svelte/src/internal/client/render.js";\n\nfunction update(_, name) {\n  $.set(name, "Svelte");\n}\n\nvar root = $.template(`<button> </button>`);\n\nexport default function App($$anchor) {\n  let name = $.state("World");\n  var button = root();\n\n  button.__click = [update, name];\n\n  var text = $.child(button);\n\n  $.reset(button);\n  $.template_effect(() => $.set_text(text, `Hello ${$.get(name) ?? ""}`));\n  $.append($$anchor, button);\n}\n\n$.delegate(["click"]);\n\nmount(App, {\n  target: document.body,\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"如果我们直接在浏览器打开 index.html，此时会出现 CORS 错误："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:x,alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["这是因为我们设置了 ",(0,s.jsx)(n.code,{children:'type="module"'})," 的缘故，所以我们在本地起一个服务。"]}),"\n",(0,s.jsxs)(n.p,{children:["最简单的方式就是使用 VSCode 插件 ",(0,s.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer",title:"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer",target:"_blank",rel:"noopener noreferrer",children:"Live Server"}),"。安装后选择 ",(0,s.jsx)(n.code,{children:"index.html"}),"，右键选择使用 Live Server 打开："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:h,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"此时资源成功加载："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:o,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"当然因为源码有报错，所以页面还是空白。"}),"\n",(0,s.jsx)(n.p,{children:"但是没关系，接下来我们开始修复这些错误，保证源码能够正常运行。"}),"\n",(0,s.jsxs)(n.h2,{id:"4-修改源码",children:["4. 修改源码",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-修改源码",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["报错是因为引入了 ",(0,s.jsx)(n.code,{children:"esm-env"}),"导致的，可以在源码中看到这样的代码："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import { DEV } from "esm-env";\n'})}),"\n",(0,s.jsx)(n.p,{children:"最为简单的处理方式是直接替换源码："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:p,alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["我们修改的是 ",(0,s.jsx)(n.code,{children:"svelte/packages/svelte/src/internal"}),"这个目录下的文件，所以直接在这个文件查找替换，将"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import { DEV } from "esm-env";\n'})}),"\n",(0,s.jsx)(n.p,{children:"替换为："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const DEV = false;\n"})}),"\n",(0,s.jsx)(n.p,{children:"全部替换完后，发现还是有报错，这是因为还有一个文件使用了："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import { BROWSER } from "esm-env";\n'})}),"\n",(0,s.jsx)(n.p,{children:"我们再替换一次，将代码替换为:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const BROWSER = true;\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"5-预览效果",children:["5. 预览效果",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-预览效果",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"此时我们再打开页面，发现已经可以正常运行："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:d,alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["注：如果页面还是空白，有可能是被插件影响，建议使用",(0,s.jsx)(n.strong,{children:"无痕模式"}),"进行预览。"]}),"\n",(0,s.jsx)(n.p,{children:"可以通过 VSCode 跳转源码查看："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:i,alt:""})}),"\n",(0,s.jsxs)(n.h2,{id:"6-调试源码",children:["6. 调试源码",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-调试源码",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["调试源码想必大家已经很熟了，在源码中打个 debugger，比如我想查看 $.set 的过程，就跳转 ",(0,s.jsx)(n.code,{children:"set"}),"函数的源码，打个 debugger："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:c,alt:""})}),"\n",(0,s.jsxs)(n.p,{children:["当点击按钮，走到 ",(0,s.jsx)(n.code,{children:"set"}),"函数逻辑的时候就会触发："]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:r,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"然后使用这些按钮查看运行逻辑："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:l,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"这些按钮的意思正如图标所示："}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRpgBAABXRUJQVlA4IIwBAAAQCQCdASpIAD4APm0wk0ckIqGhKzSbEIANiWMAeDYQV5nAA2wHNAC4Me64UhvShtOhVp15OdBC+y+yYG85lztp/6qaFex1fpqZiszYnC/0WgAA/vdUk78nOfZcUWMqKzMH+PonXKlbbOzsChtk85X/iX63ZCWVSR7u1Xfoif4HstAXKzsA+Z42OPhZOkVgVQdvg9HN8fHqGhrivS14L4eISWJfU8WImVKqWWvEGsqGPbF+i9hhx1iFFgDeIDjOoH7CcowlSy6AmfpLLFmRAP4Iqmemk1g7fA2U/t243/zgC2nwKV0GXXESxCWa7J8TJjXyaNEaXH7XwZsDdRj8pDSl7aedYI2MkbsW9BolqvQEjB0xa2YpmvjOk7M90b93qXbvFUTolVfBOV7lyIl85+Ny7316vVqD57dfuYh3J1TK+L3i+Z/ArIabTJL1fNEHT03QwFhoq5AjT/ikYBiRvOj/H/73Gx3CYJt6vlm+BlpgwNlXkG6Oc4GTKo8eo1aZAWFAETuNkEXlsgntQAA=",alt:""}),"：Resume Script Execution，继续执行脚本，此时会跳转到下一个断点"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRi4BAABXRUJQVlA4ICIBAACQBwCdASpMAD4APm02lkikIyIhJnQIgIANiWkACBAum1tPL9Vq45WWnza5+rE6pXxLYzONBItAB7M7cRMy/hqwq6lPYyAA/vXgy3qbZgGQax3/bO3d4euBkRt8Cg7ZVCW32gXFJQjsTrzOKcrTNEHmepplC3O3QcT7fOM8r1qGfBm3tVABVocvKrdmI5Yg7r6wHLq7ro7YzQnO5Tpr47ogsgnCLUfXJVlvX05CVnZsRtTNIOG0cUR5pexnshmLNTyOuLTPj6ebpGK2z7HcqQ1FOZbAx1oaXr5f+sTM5cE+G6032H9kWrRNd1cz5DMpHOLkoIFcYfJwJrgTozLNfmTGn94lKxPjlgj8GGrksN/AENHFjxpsyhgGNIAAk0dNyYAAAA==",alt:""}),"：Step over，用于跳过下一个函数调用，适用于在包含",(0,s.jsx)(n.strong,{children:"与当前问题无关的函数"}),"的代码行暂停时使用，此时会执行函数，但不进入此函数"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRhgBAABXRUJQVlA4IAwBAAAwCACdASpMAD4APm02lEgkIyIhI1gMAIANiWkADCW24LLE0CTt8c33AP3tBJIaOuAqeeAnnzJKBOd5B3FXr3uJ0QeDe8r0WbWhgAD+9pC3R7657/J9/xP8ioCesrfHtXPbmCDDnd13qKQomO6Ev+12W37EX0Q3FVcjCmcMXfQUmcBQLXNu9WeAFukl+D+pcn7+D8s1w9T61HTeqbG2cizngWU4o0lk9ORX/raePxL70by4NZ2QuAFSbotFD1zBYBBvpCmW7bYt5LXPCSSHZP1ZZ3yqSRMmzP6HLS5f+n3C+bW38xYsmkGZR9ckvOknWP6lWYHzVPULoHajlVFCq1MZ0dfypT6Ur4kxAAAA",alt:""}),"：Step into，用于进入下一个函数调用，适用于在包含",(0,s.jsx)(n.strong,{children:"与当前遇到的问题相关的函数"}),"调用的代码行暂停时， ，此时会进入函数，用于调查该函数"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRhIBAABXRUJQVlA4IAYBAACQBwCdASpOAD4APm00l0ekIyIhKBmZEIANiWkABRAe9hXxh1RD/2oqvBJBVkvcj1Ux5SPJNXxdZDYeq3CNOUGUPzebuAAA/vXg+AJau1agrRB7hdeOu/b9pn5Ekeri3JADWs0WmZviKFInp/eg9yfef+xd9wU3XsLjTIb9cPEBKkkrbYGhMiLEAPAR23Qdshenm8xNZn85niG+2xJrHEnqJT7gn/Sf9E/4fEdBAjmEUQBeZeh6GUPthKPbZJY1BGMtqdC1i8ct8xK254Rwd0xk+vH8G4lxUUdPeRXrruQwfUr8SjryTCmEzEAlDkZPzaum5yzOoaX235EF3HEpMhZDML9HgAAA",alt:""}),"：Step out，当在与正在调试的问题无关的函数内暂停时，用于跳出函数代码"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRhABAABXRUJQVlA4IAQBAACQBwCdASpMAD4APm0ylkikIqIhJnQJAIANiWkABRAhmnlYSc4sGvAoOfgv0ij8D8U9gc379G8XLSOyzwpxgs06StYeF0AA/vXgzkHKuQmAfIH6SibbFv0PvHv2/MxCImjMS+f8f/Pf2LFgj9KH9SMPZE1YxbtIo1pm9irEcCT4/Hcj54owR+VCiMCaBnp9cIpPXteHoVaeYvDn6jHc8JHTs8T4fFwbCK0a7VgYl19h81dkBzSGlogMhEh3k9a/M+jyUpBumT8dVlXLaIY5KUVnpvpGT5fec++6ERsahq4dHA0emYrkcPUfa707AKhtcbLN3KJANsUGzb1hSVXg96tR4AAAAA==",alt:""}),"：Step，单步调试，类似于 Step into 也会进入函数"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("img",{src:"data:image/webp;base64,UklGRn4BAABXRUJQVlA4IHIBAABwCQCdASpOADwAPm02lUekIyIhKBM6IIANiWkADp4gu7cG+BpTWbSULGX6Efhnw6vIm20q6LGBCxZ3qfFfw6IssHcBfFUWV/t8l6Su/EgfPgJ2Z4AA/vaRHg5B2n2OHDtCYLxzNm4bLb/64ZdL+HxI5QlVpouW0FN1ir2aYB2jsqIu7wP4lI/n5mmUjHWOPYLfxjAxL00Q8Gz6XhPoSq4iiBj26qjdsZg1GsfTYFrtNN4n+bOXvaJBcC+7tNjtprfxIFyVmZ1XKcCBJYnRa2QMGxJgbh8I5nIq/wvK5TgE+SBaUDFN79yn1sghfs12bThkp25+b6OeRh266IVRitUBc8CKmH06wzJFW1ASqnehVGwaMNs01eOO7wcVg+NEGLBikbsbH0b/8w5gILJWeREgsCVd0W7qEiJ3jNXT8bJcV7kJTGCQneL9iAm8mgxThv+P7AFetbpboA5eQHh+EFH0fsKzTOR0CjMHX1gTI6dmoAAA",alt:""}),"：停用断点，有时不希望后续的断点再生效，就可以使用该按钮"]}),"\n",(0,s.jsx)(n.p,{children:"小知识：Step 和 Step into 有什么区别呢？"}),"\n",(0,s.jsx)(n.p,{children:"主要在运行异步代码或多线程代码时有差异。"}),"\n",(0,s.jsx)(n.p,{children:"Step into：在遇到异步函数时，Step into 会进入函数"}),"\n",(0,s.jsx)(n.p,{children:"Step：会按照时间顺序跳过异步函数"}),"\n",(0,s.jsx)(n.p,{children:"举个例子："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'setTimeout(() => {\n  console.log("inside");\n}, 3000);\n\nconsole.log("outside");\n'})}),"\n",(0,s.jsx)(n.p,{children:"假设在第一行的断点处停止，Step into 会等待 3s 后进入第二行，Step 会进入第 4 行。"}),"\n",(0,s.jsx)(n.p,{children:"如果我们要调试查看源码的执行过程，Step 会更实用一些。"})]})}function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}let g=A;A.__RSPRESS_PAGE_META={},A.__RSPRESS_PAGE_META["Svelte%20%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97%2F37-%E5%8E%9F%E7%90%86%E7%AF%87%20%E2%9D%98%20%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95%20Svelte5%20%E6%BA%90%E7%A0%81.md"]={toc:[{text:"1. 前言",id:"1-前言",depth:2},{text:"2. 下载源码",id:"2-下载源码",depth:2},{text:"3. 修改引入",id:"3-修改引入",depth:2},{text:"4. 修改源码",id:"4-修改源码",depth:2},{text:"5. 预览效果",id:"5-预览效果",depth:2},{text:"6. 调试源码",id:"6-调试源码",depth:2}],title:"37-原理篇 ❘ 如何调试 Svelte5 源码",headingTitle:"37-原理篇 ❘ 如何调试 Svelte5 源码",frontmatter:{}}}}]);