"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["69560"],{226204:function(e,n,c){c.r(n),c.d(n,{default:()=>j});var i=c(552676),s=c(740453);let r=c.p+"static/image/00a44b265d57ada2ff0b4e3efb040275.ccd2664a.webp",d=c.p+"static/image/aefbca2e6c7b23fe3ba689bbd27c3be4.0c485714.webp",l=c.p+"static/image/a2f0c4d2f9079c749518ecc6801c035c.3681f0ef.webp",o=c.p+"static/image/64cf6c6958b7d060a604912fa5f928df.2abb5c16.webp";function h(e){let n=Object.assign({blockquote:"blockquote",p:"p",h3:"h3",a:"a",code:"code",strong:"strong",img:"img",pre:"pre",h5:"h5",ul:"ul",li:"li",table:"table",thead:"thead",tr:"tr",th:"th",hr:"hr",input:"input"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"技术要点：Commitizen、Commitlint"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"前言",children:["前言",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#前言",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["管理项目版本通常会选择使用",(0,i.jsx)(n.code,{children:"Git"}),"，它可敏捷高效地处理任何项目。毕竟",(0,i.jsx)(n.code,{children:"Git"}),"是世界上目前最先进的",(0,i.jsx)(n.code,{children:"分布式版本控制系统"}),"与",(0,i.jsx)(n.code,{children:"内容管理系统"}),"了。"]}),"\n",(0,i.jsxs)(n.p,{children:["想要用好",(0,i.jsx)(n.code,{children:"Git"}),"并不容易，因为在使用",(0,i.jsx)(n.code,{children:"Git"}),"托管代码时，很多同学喜欢命令行编程，这样每次提交都必须书写",(0,i.jsx)(n.code,{children:"Commit Message"}),"。规范的",(0,i.jsx)(n.code,{children:"Message"}),"不仅能帮助别人",(0,i.jsx)(n.code,{children:"Review"})," ，还能有效地输出",(0,i.jsx)(n.code,{children:"Changelog"}),"，甚至对项目的",(0,i.jsx)(n.code,{children:"Quality"}),"都有很大提升。"]}),"\n",(0,i.jsxs)(n.p,{children:["在日常开发中经常遇到一些千奇百怪的提交说明，例如中英文混合使用、各种不规范的英文单词等。这让",(0,i.jsx)(n.code,{children:"Review"}),"这些提交说明时会经常搞不清它们到底是干哈的，导致后续代码维护成本巨大。"]}),"\n",(0,i.jsxs)(n.p,{children:["要想你的",(0,i.jsx)(n.code,{children:"前端工程化"}),"项目更易于维护，最好有一套",(0,i.jsx)(n.code,{children:"Git"}),"提交说明的",(0,i.jsx)(n.code,{children:"规范化模板"}),"。本章将带领你",(0,i.jsx)(n.strong,{children:"部署Git的提交格式化"}),"，通过交互式问答生成提交模板，让",(0,i.jsx)(n.code,{children:"提交规范"}),"更好地服务代码质量，以提升开发效率。"]}),"\n",(0,i.jsxs)(n.h3,{id:"背景以一次提交说明不规范为例",children:["背景：以一次提交说明不规范为例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#背景以一次提交说明不规范为例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在学习",(0,i.jsx)(n.code,{children:"提交规范"}),"前先看一个不规范的示例，看完是不是想锤人？没错，不规范的提交说明让人无法快速得知项目有何变化，从这样的提交说明中是无法获取任何有效信息的，这对接手的同学来说无疑是一种致命的打击。"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:o,alt:"提交记录-ng-cordova"})}),"\n",(0,i.jsxs)(n.p,{children:["那如何避免这种混乱的",(0,i.jsx)(n.code,{children:"提交规范"}),"？最简单，可直接利用市面上已成熟的",(0,i.jsx)(n.code,{children:"提交规范"}),"，例如",(0,i.jsx)(n.strong,{children:"Angular提交规范"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Angular团队"}),"制定的",(0,i.jsx)(n.code,{children:"提交规范"}),"是目前市面上公认为最合理、最系统、最流行的",(0,i.jsx)(n.code,{children:"提交规范"}),"，也是我在经过多年团队",(0,i.jsx)(n.code,{children:"代码规范"}),"后最推荐的。为何这么说？"]}),"\n",(0,i.jsxs)(n.p,{children:["接着一起欣赏",(0,i.jsx)(n.code,{children:"Angular提交规范"}),"带来的视觉冲击。你会发现即使一目十行地扫视，也能得到每条提交说明的信息，是不是一目了然？"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:l,alt:"提交记录-angular"})}),"\n",(0,i.jsxs)(n.p,{children:["当然很多同学可能对",(0,i.jsx)(n.code,{children:"Angular提交规范"}),"还不是很熟悉，不了解它的架构，甚至未听说过",(0,i.jsx)(n.code,{children:"Angular"}),"。这都很正常，毕竟很多小公司只注重编码并不会过多考虑代码质量与提交质量，因此更有必要去推行代码管理相关规范，一起做好前端基础建设。"]}),"\n",(0,i.jsx)(n.p,{children:"那如何才能书写出这么优雅的提交说明？这就需一步一步熟悉它们是如何组成、组合和部署的了。"}),"\n",(0,i.jsxs)(n.h3,{id:"格式angular提交规范",children:["格式：Angular提交规范",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#格式angular提交规范",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Angular提交规范"}),"的格式很简单，基本尝试一次就能学会。若再有命令行工具的加持，可一直用一直爽！"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Angular提交规范"}),"的格式包括",(0,i.jsx)(n.code,{children:"Header"}),"、",(0,i.jsx)(n.code,{children:"Body"}),"和",(0,i.jsx)(n.code,{children:"Footer"}),"三个内容。",(0,i.jsx)(n.code,{children:"Header"}),"为必填项，",(0,i.jsx)(n.code,{children:"Body"}),"与",(0,i.jsx)(n.code,{children:"Footer"}),"为可缺省项，这些内容通过以下结构组成一个完整的提交格式。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"<type>(<scope>): <subject>\n# 4.提交规范：团队成员提交代码不规范，如何统一习惯？\n<body>\n# 空一行\n<footer>\n"})}),"\n",(0,i.jsxs)(n.h5,{id:"header",children:["Header",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#header",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["该部分仅书写一行，包括三个字段，分别是",(0,i.jsx)(n.code,{children:"type"}),"、",(0,i.jsx)(n.code,{children:"scope"}),"和",(0,i.jsx)(n.code,{children:"subject"}),"。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"type"}),"：用于说明",(0,i.jsx)(n.code,{children:"commit"}),"的提交类型，必选"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"scope"}),"：用于说明",(0,i.jsx)(n.code,{children:"commit"}),"的影响范围，可选"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"subject"}),"：用于说明",(0,i.jsx)(n.code,{children:"commit"}),"的细节描述，可选"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"type"}),"用于说明",(0,i.jsx)(n.code,{children:"commit"}),"的提交类型，包括以下选项，相信这些选项已满足日常",(0,i.jsx)(n.code,{children:"95%"}),"的应用场景。当然这些选项无需刻意记忆，我会引入命令自动完成这些提交工作。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{align:"center",children:"类型"}),"\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"feat"}),"|功能|新增功能，迭代项目需求\n",(0,i.jsx)(n.strong,{children:"fix"}),"|修复|修复缺陷，修复上一版本存在问题\n",(0,i.jsx)(n.strong,{children:"docs"}),"|文档|更新文档，仅修改文档不修改代码\n",(0,i.jsx)(n.strong,{children:"style"}),"|样式|变动格式，不影响代码逻辑\n",(0,i.jsx)(n.strong,{children:"refactor"}),"|重构|重构代码，非新增功能也非修复缺陷\n",(0,i.jsx)(n.strong,{children:"perf"}),"|性能|优化性能，提高代码执行性能\n",(0,i.jsx)(n.strong,{children:"test"}),"|测试|新增测试，追加测试用例验证代码\n",(0,i.jsx)(n.strong,{children:"build"}),"|构建|更新构建，改动构建工具或外部依赖\n",(0,i.jsx)(n.strong,{children:"ci"}),"|脚本|更新脚本，改动CI或执行脚本配置\n",(0,i.jsx)(n.strong,{children:"chore"}),"|事务|变动事务，改动其他不影响代码的事务\n",(0,i.jsx)(n.strong,{children:"revert"}),"|回滚|回滚版本，撤销某次代码提交\n",(0,i.jsx)(n.strong,{children:"merge"}),"|合并|合并分支，合并分支代码到其他分支\n",(0,i.jsx)(n.strong,{children:"sync"}),"|同步|同步分支，同步分支代码到其他分支\n",(0,i.jsx)(n.strong,{children:"impr"}),"|改进|改进功能，升级当前功能模块"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"scope"}),"用于说明",(0,i.jsx)(n.code,{children:"commit"}),"的影响范围。简要说明本次改动的影响范围，例如根据功能可划分为",(0,i.jsx)(n.code,{children:"数据层"}),"、",(0,i.jsx)(n.code,{children:"视图层"}),"和",(0,i.jsx)(n.code,{children:"控制层"}),"，根据交互可划分为",(0,i.jsx)(n.code,{children:"组件"}),"、",(0,i.jsx)(n.code,{children:"布局"}),"、",(0,i.jsx)(n.code,{children:"流程"}),"、",(0,i.jsx)(n.code,{children:"视图"}),"和",(0,i.jsx)(n.code,{children:"页面"}),"。从",(0,i.jsx)(n.code,{children:"Angular"}),"以往的提交说明来看，还是建议你在提交时对",(0,i.jsx)(n.code,{children:"scope"}),"补全。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"subject"}),"用于说明",(0,i.jsx)(n.code,{children:"commit"}),"的细节描述。文字一定要精简精炼，无需太多备注，因为",(0,i.jsx)(n.code,{children:"Body"}),"部分可备注更多细节，同时尽量遵循以下规则。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"以动词开头"}),"\n",(0,i.jsx)(n.li,{children:"使用第一人称现在时"}),"\n",(0,i.jsx)(n.li,{children:"首个字母不能大写"}),"\n",(0,i.jsxs)(n.li,{children:["结尾不能存在句号(",(0,i.jsx)(n.code,{children:"."}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["例如本次提交说明的",(0,i.jsx)(n.code,{children:"subject"}),"的中文是",(0,i.jsx)(n.code,{children:"改变按钮的颜色"}),"，根据上述规则转换为英文就是",(0,i.jsx)(n.code,{children:"change the color of the button"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["理解好",(0,i.jsx)(n.code,{children:"Header"}),"三个字段各自含义，每次提交说明通过上述规范的约束就变成以下模样。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-txt",children:"feat(View): 新增主题皮肤切换按钮\nfeat(View): new the button for theme skin switching\n"})}),"\n",(0,i.jsxs)(n.h5,{id:"body",children:["Body",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#body",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["该部分可书写多行，对",(0,i.jsx)(n.code,{children:"subject"}),"做更详尽的描述，内容应包括",(0,i.jsx)(n.code,{children:"改动动机"}),"与",(0,i.jsx)(n.code,{children:"改动前后对比"}),"。"]}),"\n",(0,i.jsxs)(n.h5,{id:"footer",children:["Footer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#footer",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["该部分只适用两种情况，分别是",(0,i.jsx)(n.code,{children:"不兼容变动"}),"与",(0,i.jsx)(n.code,{children:"问题关闭"}),"。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"不兼容变动"}),"：当前代码与上一版本不兼容，则以",(0,i.jsx)(n.code,{children:"BREAKING CHANGE"}),"开头，关联",(0,i.jsx)(n.code,{children:"变动描述"}),"、",(0,i.jsx)(n.code,{children:"变动理由"}),"和",(0,i.jsx)(n.code,{children:"迁移方法"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"问题关闭"}),"：当前代码已修复某些",(0,i.jsx)(n.code,{children:"Issue"}),"，则以",(0,i.jsx)(n.code,{children:"Closes"}),"开头，关联目标",(0,i.jsx)(n.code,{children:"Issue"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"方案部署git的提交格式化",children:["方案：部署Git的提交格式化",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#方案部署git的提交格式化",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["理解",(0,i.jsx)(n.code,{children:"Angular提交规范"}),"的格式后，就能在每次提交时书写标准的提交说明了，同时使用专业工具做专业事情，能输出更高质量的提交说明。接着介绍两个专业工具该如何配置与部署。"]}),"\n",(0,i.jsxs)(n.h5,{id:"commitizen",children:["commitizen",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commitizen",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["每次执行",(0,i.jsx)(n.code,{children:"git commit"}),"命令时，需根据上述规范整理提交说明的格式，但提交说明本身并不是项目开发的必须项， 所以可巧借工具完成",(0,i.jsx)(n.code,{children:"提交规范"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["因为当前目标还要通过工具生成与约束提交说明，而",(0,i.jsx)(n.code,{children:"commitizen"}),"是一个基于模板驱动的约束规范工具，可扩展性很强，因此推荐使用",(0,i.jsx)(n.a,{href:"https://github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer",children:"commitizen"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["使用",(0,i.jsx)(n.code,{children:"commitizen"}),"的",(0,i.jsx)(n.code,{children:"git cz"}),"命令可代替原生的",(0,i.jsx)(n.code,{children:"git commit"}),"命令，帮助开发者生成符合规范的提交说明。在此还需指定一个符合",(0,i.jsx)(n.code,{children:"Angular提交规范"}),"的书写配置",(0,i.jsx)(n.a,{href:"https://github.com/commitizen/cz-conventional-changelog",target:"_blank",rel:"noopener noreferrer",children:"cz-conventional-changelog"}),"，使得",(0,i.jsx)(n.code,{children:"commitizen"}),"根据指定规范帮助开发者生成提交说明。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"commitizen"}),"与",(0,i.jsx)(n.code,{children:"cz-conventional-changelog"}),"可全局部署也可局部部署，如何选择只能根据实际情况了。"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"全局部署"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["全局安装",(0,i.jsx)(n.code,{children:"commitizen"}),"与",(0,i.jsx)(n.code,{children:"cz-conventional-changelog"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -g commitizen cz-conventional-changelog\n"})}),"\n",(0,i.jsxs)(n.p,{children:["不同系统中创建",(0,i.jsx)(n.code,{children:".czrc"}),"文件，具体情况如下，加入以下内容。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Windows系统"}),"：在",(0,i.jsx)(n.code,{children:"C:/Users/$USER"}),"目录中创建",(0,i.jsx)(n.code,{children:".czrc"}),"文件"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MacOS系统"}),"：在",(0,i.jsx)(n.code,{children:"~"}),"目录中创建",(0,i.jsx)(n.code,{children:".czrc"}),"文件"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-txt",children:'{ "path": "cz-conventional-changelog" }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["点击查看",(0,i.jsx)(n.a,{href:"https://github.com/JowayYoung/fe-engineering/blob/main/commit-lint/config/czrc.json",target:"_blank",rel:"noopener noreferrer",children:"源码"}),"。"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"局部部署"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["局部安装",(0,i.jsx)(n.code,{children:"commitizen"}),"与",(0,i.jsx)(n.code,{children:"cz-conventional-changelog"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -D commitizen cz-conventional-changelog\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在",(0,i.jsx)(n.code,{children:"package.json"}),"中指定",(0,i.jsx)(n.code,{children:"scripts"}),"与",(0,i.jsx)(n.code,{children:"config"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n	"script": {\n		"commit": "git-cz"\n	},\n	"config": {\n		"commitizen": {\n			"path": "node_modules/cz-conventional-changelog"\n		}\n	}\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["点击查看",(0,i.jsx)(n.a,{href:"https://github.com/JowayYoung/fe-engineering/blob/main/commit-lint/config/package.json",target:"_blank",rel:"noopener noreferrer",children:"源码"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["使用上述两种方式配置好",(0,i.jsx)(n.code,{children:"commitizen"}),"，就能使用",(0,i.jsx)(n.code,{children:"git cz"}),"或",(0,i.jsx)(n.code,{children:"npm run commit"}),"代替",(0,i.jsx)(n.code,{children:"git commit"}),"了，依次完成所有步骤就能规范地提交了。"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:d,alt:"git-cz"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"自定义规范"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["可能",(0,i.jsx)(n.code,{children:"Angular提交规范"}),"的某些情况不适合当前需求，可通过",(0,i.jsx)(n.a,{href:"https://github.com/leoforfree/cz-customizable",target:"_blank",rel:"noopener noreferrer",children:"cz-customizable"}),"制定一份符合自己团队的",(0,i.jsx)(n.code,{children:"提交规范"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["基于上述",(0,i.jsx)(n.code,{children:"全局部署"}),"与",(0,i.jsx)(n.code,{children:"局部部署"}),"，以下配置也有些许不同。"]}),"\n",(0,i.jsxs)(n.p,{children:["对于",(0,i.jsx)(n.code,{children:"全局部署"}),"，全局安装",(0,i.jsx)(n.code,{children:"cz-customizable"}),"，在",(0,i.jsx)(n.code,{children:".czrc"}),"中重新指定",(0,i.jsx)(n.code,{children:"path"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -g cz-customizable\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{ "path": "cz-customizable" }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["点击查看",(0,i.jsx)(n.a,{href:"https://github.com/JowayYoung/fe-engineering/blob/main/commit-lint/custom-config/czrc.json",target:"_blank",rel:"noopener noreferrer",children:"源码"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["对于",(0,i.jsx)(n.code,{children:"局部部署"}),"，局部安装",(0,i.jsx)(n.code,{children:"cz-customizable"}),"，在",(0,i.jsx)(n.code,{children:"package.json"}),"中重新指定",(0,i.jsx)(n.code,{children:"config"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -D cz-customizable\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n	"config": {\n		"commitizen": {\n			"path": "node_modules/cz-customizable"\n		}\n	}\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["点击查看",(0,i.jsx)(n.a,{href:"https://github.com/JowayYoung/fe-engineering/blob/main/commit-lint/custom-config/package.json",target:"_blank",rel:"noopener noreferrer",children:"源码"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["不同系统中创建",(0,i.jsx)(n.code,{children:".cz-config.js"}),"文件，具体情况如下，制定一份符合自己团队的",(0,i.jsx)(n.code,{children:"提交规范"}),"。为了方便理解，我将原来英文版的",(0,i.jsx)(n.code,{children:"commit type"}),"改成中文版的",(0,i.jsx)(n.code,{children:"commit type"}),"并增加几个",(0,i.jsx)(n.code,{children:"type"}),"。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["在",(0,i.jsx)(n.code,{children:"Windows系统"}),"全局部署：在",(0,i.jsx)(n.code,{children:"C:/Users/$USER"}),"目录中创建",(0,i.jsx)(n.code,{children:".cz-config.js"}),"文件"]}),"\n",(0,i.jsxs)(n.li,{children:["在",(0,i.jsx)(n.code,{children:"MacOS系统"}),"中全局部署：再",(0,i.jsx)(n.code,{children:"~"}),"目录中创建",(0,i.jsx)(n.code,{children:".cz-config.js"}),"文件"]}),"\n",(0,i.jsxs)(n.li,{children:["在项目中局部部署：在根目录中创建",(0,i.jsx)(n.code,{children:".cz-config.js"}),"文件"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)("img",{src:r,alt:"git-cz-custom"})}),"\n",(0,i.jsxs)(n.p,{children:["点击查看",(0,i.jsx)(n.a,{href:"https://github.com/JowayYoung/fe-engineering/blob/main/commit-lint/custom-config/cz-config.js",target:"_blank",rel:"noopener noreferrer",children:"源码"}),"。"]}),"\n",(0,i.jsxs)(n.h5,{id:"commitlint",children:["commitlint",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commitlint",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["除了规范地书写提交说明，还需借助",(0,i.jsx)(n.a,{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer",children:"commitlint"}),"规范地校验提交说明。",(0,i.jsx)(n.code,{children:"commitlint"}),"的校验标准较严格，只要不符合规范的提交说明就直接拒绝。"]}),"\n",(0,i.jsxs)(n.p,{children:["同",(0,i.jsx)(n.code,{children:"commitizen"}),"一样，",(0,i.jsx)(n.code,{children:"commitlint"}),"也需一套校验配置。当然还是推荐与",(0,i.jsx)(n.code,{children:"Angular提交规范"}),"相关校验配置",(0,i.jsx)(n.a,{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer",children:"@commitlint/config-conventional"}),"。然而我暂时还未能实践出",(0,i.jsx)(n.code,{children:"commitlint"}),"的全局部署，所以目前只能参照官网实现局部部署了。"]}),"\n",(0,i.jsxs)(n.p,{children:["局部安装",(0,i.jsx)(n.code,{children:"@commitlint/cli"}),"与",(0,i.jsx)(n.code,{children:"@commitlint/config-conventional"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -D @commitlint/cli @commitlint/config-conventional\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在根目录中创建",(0,i.jsx)(n.code,{children:".commitlintrc.js"}),"文件，加入以下内容。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'module.exports = {\n	extends: [\n		"@commitlint/config-conventional"\n	],\n	rules: {}\n};\n'})}),"\n",(0,i.jsxs)(n.p,{children:["当然也能像",(0,i.jsx)(n.code,{children:"commitizen"}),"那样自定义校验规范。可能",(0,i.jsx)(n.code,{children:"Commitlint校验规范"}),"的某些情况不适合，可通过",(0,i.jsx)(n.a,{href:"https://github.com/whizark/commitlint-config-cz",target:"_blank",rel:"noopener noreferrer",children:"commitlint-config-cz"}),"制定一份符合自己团队的",(0,i.jsx)(n.code,{children:"校验规范"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["局部安装",(0,i.jsx)(n.code,{children:"commitlint-config-cz"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm i -D commitlint-config-cz\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在",(0,i.jsx)(n.code,{children:".commitlintrc.js"}),"中重新指定",(0,i.jsx)(n.code,{children:"extends"}),"与",(0,i.jsx)(n.code,{children:"rules"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'module.exports = {\n	extends: [\n		"cz"\n	],\n	rules: {}\n};\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"总结",children:["总结",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["一个一直迭代的项目不可能只有个人维护，新老开发者的交替必然是考验项目是否经得起波澜的一次大动作。若即将接手的项目无任何",(0,i.jsx)(n.code,{children:"规范化"}),"的代码与文档，相信你也不愿去交接。"]}),"\n",(0,i.jsxs)(n.p,{children:["曾经旁边部门新招了一个后端同事，在交接前任同事的项目时一直满嘴脏话。后面打听得知前任同事的代码被形容得像屎一般的存在，整个项目无任何",(0,i.jsx)(n.code,{children:"代码规范"}),"与",(0,i.jsx)(n.code,{children:"提交规范"}),"。请换位思考，谁会愿意面对这样的项目？"]}),"\n",(0,i.jsxs)(n.p,{children:["在新开一个项目时，负责人就要带头做好项目代码的",(0,i.jsx)(n.code,{children:"提交规范"}),"，同时也要强制性地让成员知道",(0,i.jsx)(n.code,{children:"提交规范"}),"的重要性，不要因为一时之快就随便书写提交说明。"]}),"\n",(0,i.jsxs)(n.p,{children:["从",(0,i.jsx)(n.code,{children:"前端工程化"}),"的角度来看，",(0,i.jsx)(n.code,{children:"提交规范"}),"侧面反映着代码质量，良好的",(0,i.jsx)(n.code,{children:"提交规范"}),"能促进项目的协作与交接，使得项目开发在何时何地都能有效开展。"]}),"\n",(0,i.jsx)(n.p,{children:"本章内容到此为止，希望能对你有所启发，欢迎你把自己的学习心得打到评论区！"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","示例项目：",(0,i.jsx)(n.a,{href:"https://github.com/JowayYoung/fe-engineering",target:"_blank",rel:"noopener noreferrer",children:"fe-engineering"})]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",checked:!0,disabled:!0})," ","正式项目：",(0,i.jsx)(n.a,{href:"https://github.com/JowayYoung/bruce",target:"_blank",rel:"noopener noreferrer",children:"bruce"})]}),"\n"]})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}let j=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["%E4%BB%8E%200%20%E5%88%B0%201%20%E8%90%BD%E5%9C%B0%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%2F4.%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83%EF%BC%9A%E5%9B%A2%E9%98%9F%E6%88%90%E5%91%98%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E4%B8%8D%E8%A7%84%E8%8C%83%EF%BC%8C%E5%A6%82%E4%BD%95%E7%BB%9F%E4%B8%80%E4%B9%A0%E6%83%AF%EF%BC%9F.md"]={toc:[{text:"前言",id:"前言",depth:3},{text:"背景：以一次提交说明不规范为例",id:"背景以一次提交说明不规范为例",depth:3},{text:"格式：Angular提交规范",id:"格式angular提交规范",depth:3},{text:"方案：部署Git的提交格式化",id:"方案部署git的提交格式化",depth:3},{text:"总结",id:"总结",depth:3}],title:"",headingTitle:"",frontmatter:{}}}}]);