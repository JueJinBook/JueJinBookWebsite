"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["33667"],{285013:function(n,e,r){r.r(e),r.d(e,{default:()=>l});var i=r(552676),s=r(740453);let a=r.p+"static/image/fde1f830a6322b49dab1f287fa45899e.c3b07f96.webp";function h(n){let e=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",code:"code",img:"img",h3:"h3",h4:"h4",pre:"pre",strong:"strong"},(0,s.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"19中级进阶-----坐标系变换模型空间变换到世界空间",children:["19.中级进阶 --- 坐标系变换：模型空间变换到世界空间",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#19中级进阶-----坐标系变换模型空间变换到世界空间",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"上一节我们学习了基本变换的原理与实现，本节我们学习如何把这些变换应用到坐标系变换中。"}),"\n",(0,i.jsxs)(e.h2,{id:"坐标系变换的分类",children:["坐标系变换的分类",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#坐标系变换的分类",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"前面我们讲过，在 3D 编程中，可控制的坐标系变换分为3类，分别是："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["模型变换","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"模型变换负责将模型坐标转换成世界坐标。"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["视图变换","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"视图变换负责将世界坐标转换成相机坐标。"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["投影变换","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"投影变换负责将相机坐标转换成裁剪坐标，也就是将 3D 坐标投影到 2D 平面上。"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"需要强调一点变换矩阵相乘的顺序，假设最终变换矩阵为 F，模型矩阵为 M， 视图矩阵为 V，投影矩阵为 P，那么有："}),"\n",(0,i.jsx)(e.p,{children:"$ F = P \\times V \\times M $"}),"\n",(0,i.jsx)(e.p,{children:"这个顺序不能有错，否则效果与预想的会不一致。"}),"\n",(0,i.jsxs)(e.p,{children:["接下来，我们从第一个变换",(0,i.jsx)(e.code,{children:"模型变换"}),"讲起。"]}),"\n",(0,i.jsxs)(e.h2,{id:"坐标系变换的起点",children:["坐标系变换的起点",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#坐标系变换的起点",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"编程之初，我们首先能拿到的是模型数据，模型中各个点的位置是相对于模型的某个位置确定的，一般这个位置是模型的中心点，下面这个坐标系就是模型坐标系，立方体的所有顶点坐标都是相对于中心位置。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:a,alt:""})}),"\n",(0,i.jsx)(e.p,{children:"默认情况下，模型坐标系和世界坐标系重合，所有创建好的模型首先会放置在世界坐标系中心位置，我们创建一个立方体和一个球体："}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,i.jsx)(e.p,{children:"可以看到，我们创建的模型叠加在了一起。"}),"\n",(0,i.jsx)(e.p,{children:"那么，我们需要将我们的模型摆放在 3D 世界中的特定位置，3D 世界所遵循的参照就是世界坐标系。"}),"\n",(0,i.jsxs)(e.p,{children:["这就涉及到模型变换了，模型变换的作用是将模型顶点从",(0,i.jsx)(e.code,{children:"模型坐标系"}),"转换到",(0,i.jsx)(e.code,{children:"世界坐标系"}),"。"]}),"\n",(0,i.jsxs)(e.h2,{id:"模型变换",children:["模型变换",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#模型变换",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:["模型变换是由多个基本变换组合而成，那么对矩阵而言，就是由多个基本变换矩阵相乘而得到，既然提到相乘，那么",(0,i.jsx)(e.code,{children:"相乘的顺序"}),"就至关重要，因为矩阵不满足交换律，两个矩阵相乘顺序不同，结果也不同。体现到坐标系变换上，就会发现模型经过变换后的坐标也不同，这一点很重要，请大家一定要牢记。"]}),"\n",(0,i.jsxs)(e.h3,{id:"变换顺序",children:["变换顺序",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#变换顺序",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"接下来我们演示下，对一个立方体进行平移旋转变换。"}),"\n",(0,i.jsxs)(e.h4,{id:"平移与旋转",children:["平移与旋转",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#平移与旋转",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"我们先将立方体平移5 个单位，然后逆时针旋转 45 度，看一下立方体是什么状态。"}),"\n",(0,i.jsx)(e.p,{children:"平移矩阵："}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var translateMatrix = matrix.translate(5, 0, 0);\n"})}),"\n",(0,i.jsx)(e.p,{children:"旋转矩阵:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var rotateMatrix = matrix.rotateX(Math.PI / 180 * 45);\n"})}),"\n",(0,i.jsx)(e.p,{children:"创建两个立方体，红色立方体先旋转再平移，黄色立方体先平移再旋转。"}),"\n",(0,i.jsx)(e.p,{children:"先旋转再平移矩阵："}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var redMatrix = matrix.multiply(translationMatrix, rotateMatrix);\n"})}),"\n",(0,i.jsx)(e.p,{children:"先平移再旋转矩阵："}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var yellowMatrix = matrix.multiply(rotateMatrix, translationMatrix);\n"})}),"\n",(0,i.jsx)(e.p,{children:"将两个矩阵应用到立方体上，我们可以看到下面的效果："}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:"data:image/webp;base64,UklGRlIDAABXRUJQVlA4IEYDAACQJwCdASpoAfAAPp1OoU0lpCMiIPM5cLATiWlu4XMl7V5RaR5P7Uc8lVewM7gD9Vd8A/t39A4ADyuPZG/a30qtVz8ePoDlbkzAEDG2GzJ/Aa8v8DIA97vdYv6ff8DuQDsv8DK3DubiDMdzcU5/gdec0M+2QkT+MRQ3G18a2Hs5zdUImhmIw0PjWQM2jCq8LnHXnNDPtd0AXlzCcE0m4vOGYukLKOCXKWP8h6pns50gTGVf7vjMU2QeN02Hhy/j/Wsq0AVSJ5QxMbNaFiTTEIKduNCf5ncQg1EIHtnk5eqdE2SJF69nL+/GGy14aTon+0SrFolJ0WvBsoKlVSJ5QxMbXyGjbD0mnWmbgi8psgHZf4GVuHc3EGY7m4pz/A685oZ9shIn8YihuNr41sPZzpAmNngD8gmAIGNr41sPaXIaNsPSadQAAP7/BFn/s1aeovdBTcOIOFX/8uB/4mP82b4ZbMx/oXgCnFIXx5v8TdXrlZOmtrq6RR+VP/NBXbmQiAVUiOBj2PDCiKVqSL+uxKNr97//ybX91P9/OmtB/c88JuPi0hgBCZQ0qN9U5zmhaeNbvfQFVXUz6U34QrUuAy6+jtyXFLgtrxXnn96blBol2CmS9MUTy7yr8EH84jypVqyL8bLg7uP81Fr/FEw4dZY0lwwcH87/6xwr7wWM1h4vBAK5l6npDNR+9GmAph5XZvtznKdOsozsEr5RNBRcORBa9yDbonJhukpv/U9cSp50QlZ/xJzihpP6bwwrFZe//DOF2A9w7cSDgKIVO/soNO+cJserUNwjxt1oO8wHGtLcDCtsQe7FnDMHww655Jc/ruFND+Os47+QMrdTeNmqbHh7ZhTCSI9yzyKKcXV6C8pg6/ZEbD9/vQ+M1nIzTBOJ4NJcGIV7LcO+bxxtpGLgSH7zHGQtpyTAcq+vd23KpKqC4S1EnNDx22/SCF0J49l9x7knKOarcHtkpFBDmpd8AQKxONk01MXlwsUC2YU/5oZKMqTvylcVKgnBtuxR+4U4BWIF65U0LnTmloJErJxERgbkQ7rGlDxviXauWeL5d1wx0dAMdHPtGgJRFswoS/q8FK+Ywn6Z5e19IR4KE0eQAAAAAAAAAAAA",alt:""})}),"\n",(0,i.jsx)(e.p,{children:"很容易发现，当我们需要模型自身绕着模型中心旋转时，要先执行旋转再平移，党需要模型绕世界中心旋转时，需要先平移再旋转。但通常情况，我们都是先执行旋转再执行平移，也就是红色立方体的旋转效果。"}),"\n",(0,i.jsxs)(e.h4,{id:"考虑缩放",children:["考虑缩放",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#考虑缩放",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"当然，除了平移与旋转，有时也会涉及到模型缩放，很显然，对模型进行缩放也是要放在平移之前，但是缩放和旋转哪个在先，哪个在后呢？"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"先缩放再旋转，还是先旋转再缩放？"})}),"\n",(0,i.jsx)(e.p,{children:"依然通过两个立方体来比较，红色立方体先执行缩放，再进行旋转，黄色立方体则先旋转再缩放，在这里缩放比例采用 X 轴放大 2 倍， Y 轴放大 1.5 倍来处理。"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:"data:image/webp;base64,UklGRugDAABXRUJQVlA4INwDAAAQKwCdASpoAfAAPp1MpEwlpCOiJNgoyLATiWdu4XKQ/cSezPF6pv+YDzdP9P0KvXRegB+zPph+0NkP97jqUZSPl10ppSGhoaGhoaGaoahY2ZfX19fX19fX1+TKK0CIxUuOHyD3jqe2icnZBikgtmF+O8sYgYpIMUIUoqeWDY8k1j8x8gEP1wVUy79kGKSDFJBh1dnEIWQ4sEIiclZUzOyDFJBZUR2MMdryEb6WR4dV2G1Z4NFCTqVlTM7IMUkGH9L/93qA82kvkFAqHtZUzOyDD14Ljcojo53M7IMUgn+3YZhh4XpJvfqiWLxRE01wcPDMMMAOHnrS8wxLtOEXfadV6TUevMuGW1S1G4eYOrZzj2A3LXtL49rK6jcjDWMdQeFZ5oov6pKgjdE5OyDFCXymH4jjnFcvvbckvLGIGKSDFJBiCnhoe1lTM7IMUkGIKZKfljEDFJBikgxBTJT8sYgWAAD++qf/p7+Cdvzs4NALgaAXA0b4Uza7KfO1pmMyYwPKbi2AOfDMc+Gax0MC6YAHoHZkmAPP+K9RtubparnWn8worOuh/6p/4b76+4kN2hoN2Ypv5CA0r8d/HWmiYyLRj7saFyuWJZLrw91s1UsbxybGR89NjZnh0kGB+sSkCZeXC4EIkmgqaShyTIPrbt/M1W9n/9l6SoLFu4B5pRNuvZa78rFJDbaokX+rUPg1yvHa/8EoDRrxn5TuF79zfUwnBdSLQQIMjG2rxU1jELxv3+ID5ht/eAQaTDrz6+1GSm5h3LqMjbTKNftWc9uH9W74LfH9tq4M3SCikiqocTyE6A63FSG9HqDqs2k6FaTZJG74bPkobZN8LR+rTdH74aKxW7JceCtJ6bc1JmgmDmGhycyqZMbyYcxiYxen5f5/5xct5XRJSmuAC4dYSUDABJR3yblbsCbG9Sch1FXRJxazDaRwilKcDMNfTexQ7kRQcZRc868QZOS8Maol8wE7Z/J2RAgrnaWuKYrBz9Pn3P595o3qN2aZl3OlkMkWJsVSIx6un+w/2H+wi3pNfQO5i27VlUVJ3g0dGo8w4VbRQWYyxvpbTFIOLxlxAi8v7AZaMBog7Nlfsr74c/9OIOtlFqRkxXaIvtjJ4Seoa+ie3qXTmCje4ByTkcmMDzTAashYp6Jyq57ImcRMLiy6TDSrGW9b9Y4SAnmm5qOHBbVfJDYc5FzqAn6lzKpEPYzoKJx7CaoXzSeFCm0gLCJC+e7knx2/rpTc3x/zNv6+xyGMgMAaXlvLXZjjcN61ncoCq2wg4/csR56irtLYJNHJS1wBKcR0bDACfCATiMgAAAAA",alt:""})}),"\n",(0,i.jsxs)(e.p,{children:["可以看到，先旋转再缩放的黄色立方体不是我们所期望的结果，它会改变模型的形状。而",(0,i.jsx)(e.code,{children:"先缩放再旋转"}),"的红色立方体则是我们所期望的。"]}),"\n",(0,i.jsx)(e.p,{children:"上例我们采用的是不一样的缩放比例，大家能很容易地看出差别，这次我们采用一样的缩放比例，看下效果："}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,i.jsx)(e.p,{children:"可以看到，当缩放矩阵的缩放比例一致时，旋转与缩放的顺序就不那么重要了，表现都是一样的。"}),"\n",(0,i.jsxs)(e.h4,{id:"模型变换公式",children:["模型变换公式",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#模型变换公式",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"假设模型变换矩阵为 M，其中缩放矩阵为 S，旋转矩阵为 R，平移矩阵为 T，考虑到我们是列主序，所以有如下公式："}),"\n",(0,i.jsx)(e.p,{children:"$M = T（平移矩阵） \\times R（旋转矩阵） \\times S（缩放矩阵） $"}),"\n",(0,i.jsxs)(e.h2,{id:"模型变换的意义",children:["模型变换的意义",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#模型变换的意义",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"前面我们讲了，3D 世界中会有很多模型，每个模型所处的位置和朝向都不一样，这就需要我们对它们进行安放，模型变换就是我们安放模型的手段。"}),"\n",(0,i.jsxs)(e.h2,{id:"回顾",children:["回顾",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#回顾",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:["本节主要讲解坐标系变换的分类，以及",(0,i.jsx)(e.code,{children:"模型变换"}),"的作用以及使用时需要注意的地方，主要是矩阵相乘顺序。"]}),"\n",(0,i.jsx)(e.p,{children:"下一节，我们讲解视图变换的推导与应用。"})]})}function d(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}let l=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["WebGL%20%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5%2F19.%E4%B8%AD%E7%BA%A7%E8%BF%9B%E9%98%B6%20---%20%E5%9D%90%E6%A0%87%E7%B3%BB%E5%8F%98%E6%8D%A2%EF%BC%9A%E6%A8%A1%E5%9E%8B%E7%A9%BA%E9%97%B4%E5%8F%98%E6%8D%A2%E5%88%B0%E4%B8%96%E7%95%8C%E7%A9%BA%E9%97%B4.md"]={toc:[{text:"坐标系变换的分类",id:"坐标系变换的分类",depth:2},{text:"坐标系变换的起点",id:"坐标系变换的起点",depth:2},{text:"模型变换",id:"模型变换",depth:2},{text:"变换顺序",id:"变换顺序",depth:3},{text:"平移与旋转",id:"平移与旋转",depth:4},{text:"考虑缩放",id:"考虑缩放",depth:4},{text:"模型变换公式",id:"模型变换公式",depth:4},{text:"模型变换的意义",id:"模型变换的意义",depth:2},{text:"回顾",id:"回顾",depth:2}],title:"19.中级进阶 --- 坐标系变换：模型空间变换到世界空间",headingTitle:"19.中级进阶 --- 坐标系变换：模型空间变换到世界空间",frontmatter:{}}}}]);