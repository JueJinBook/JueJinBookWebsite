"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["4458"],{486233:function(e,n,s){s.r(n),s.d(n,{default:()=>k});var o=s(552676),a=s(740453);let r=s.p+"static/image/9a8f73aa180ae929e742e532ea7052cc.bbad6867.webp",l=s.p+"static/image/f9e9eef9794c6d3060c9497d324fee8c.3b614652.webp",t=s.p+"static/image/3573a357ba4b53786f5cfb46335c2d5f.5053d0e0.webp",d=s.p+"static/image/8b925ee00a4765d80a99414caae5d1fa.36f5e790.webp",i=s.p+"static/image/1efda7877c82a14b6d73f57bd8e6e8e9.558b5937.webp",c=s.p+"static/image/15fc2395c5e585762d0c5a8d871ff1e6.9bd10411.webp",h=s.p+"static/image/acf9fd536a89eaa70cd7496082d448c6.2c936db2.webp",p=s.p+"static/image/9c158bceef197fb13a6ecf1f23d82588.f74fe588.webp",j=s.p+"static/image/abdd12253639ef4c069c70ed47489d4e.af867d4b.webp",x=s.p+"static/image/03e75f82686d615a4180bf54d5f3727d.07cd2726.webp",m=s.p+"static/image/3efa20ebd8be97986a3197548f7d6c5a.3cb41e6c.webp",b=s.p+"static/image/bbba7a733926b80b43250cec9172cbf3.df48b372.webp";function u(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",h2:"h2",pre:"pre",code:"code",img:"img",strong:"strong",ol:"ol",li:"li"},(0,a.ah)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.h1,{id:"2-deno-和-jupyter-notebook如何优雅地学习-llm",children:["2-Deno 和 Jupyter Notebook：如何优雅地学习 LLM？",(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-deno-和-jupyter-notebook如何优雅地学习-llm",children:"#"})]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["本章对应源代码：",(0,o.jsx)(n.a,{href:"https://github.com/RealKai42/langchainjs-juejin/blob/main/learn-notebook-basic.ipynb",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/RealKai42/langchainjs-juejin/blob/main/learn-notebook-basic.ipynb"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"工欲善其事，必先利其器。 LLM 的开发跟传统的项目开发区别在于，LLM 很多请求是耗时甚至是耗钱的，基础的如调用 OpenAI API，每次都会消费一定的 token。"}),"\n",(0,o.jsx)(n.p,{children:"另外，我们可能会反复调试一段代码来测试最合适的参数和 prompt，如果我们像传统 nodejs 程序一样每次都从头重新跑一次，既耗时也花费比较多。所以我们需要使用适合机器学习和大模型领域的专用开发工具。"}),"\n",(0,o.jsxs)(n.h2,{id:"deno-和-jupyter-notebook",children:["Deno 和 Jupyter Notebook",(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#deno-和-jupyter-notebook",children:"#"})]}),"\n",(0,o.jsx)(n.p,{children:"在正式介绍 Jupyter Nodebook 之前，我们先介绍一下 Deno，我相信大家或多或少听说过 Deno，他是 Node.js 之父 Ryan Dahl 创建的新项目。更多的介绍可以看 Deno 的官网，一句话介绍，Deno 是把 nodejs 中分散的生态整合在一起，并提供更现代的框架支持。 例如 Deno 开箱支持 TypeScript、自带格式化工具、自带测试框架、高质量的标准库，并且有比较好的安全性，默认脚本不能访问文件、环境或者网络 等等好用的功能。"}),"\n",(0,o.jsx)(n.p,{children:"可以理解成一个更强的 Nodejs，当然 Deno 不是我们小册的重点，你会 nodejs 就会 deno，并且获得了很多 nodejs 需要配置才能使用的功能。"}),"\n",(0,o.jsx)(n.p,{children:"在了解完了 Deno 后，我们将学习在 AI 领域比较常用的工具 — Jupyter Notebook，我们少废话，先看演示。"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'const text = await Deno.readTextFile("./people.json");\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:b,alt:"CleanShot 2024-03-18 at 21.46.36@2x.png"})}),"\n",(0,o.jsx)(n.p,{children:"Jupyter Notebook 的核心是代码块，每个代码块作为一个整体去执行，并且可以多次反复执行。在代码快的左侧，是执行顺序的标记，指这个代码块被执行的顺序。\xa0"}),"\n",(0,o.jsx)(n.p,{children:"例如，如果你先执行第一个代码块，它会显示数字 1；接着执行第二个代码块，它会显示数字 2；然后你再执行代码块 1，它的左侧就会显示数字 3。"}),"\n",(0,o.jsx)(n.p,{children:"也就是这个数字显示的是当前块被执行的顺序，这个数字存在的目的是帮助你跟踪代码块的执行顺序，并且在执行过程中保持清晰的状态。"}),"\n",(0,o.jsx)(n.p,{children:"这个理解起来有点怪，我们用 code demo 测试一下，我们在第二块中显示变量 text"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:m,alt:"CleanShot 2024-03-18 at 21.57.45@2x.png"})}),"\n",(0,o.jsxs)(n.p,{children:["在 Jupyter NoteBook 中，如果一个代码快只有一个变量，那就会自动把该变量显示出来，类似于 ",(0,o.jsx)(n.code,{children:"console.log(单个变量)"})," 但又不一样，其中有些微妙的区别在使用中你会感受出来。"]}),"\n",(0,o.jsx)(n.p,{children:"所以，当运行完两个代码块之后，在 js 的环境中有了 text 这个变量。我们可以把这里的从 txt 文件读内容理解成一个耗时又耗钱的任务（就像 OpenAI API 一样），在运行完这个任务后，就会把结果储存在 text 中，后续就可以对 text 做任何测试，而不需要重复的从文件中读取。"}),"\n",(0,o.jsx)(n.p,{children:"例如，我们可以对 text 进行切割"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:x,alt:"CleanShot 2024-03-18 at 22.17.58@2x.png"})}),"\n",(0,o.jsx)(n.p,{children:"如果我们对切割的结果不满意，可以调整切割的方式，"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)("img",{src:j,alt:"CleanShot 2024-03-18 at 22.18.36@2x.png"}),"\n可以看到，再次运行第三个单元格两次后，左侧的数字就变成了 4。"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"注意"}),"，如果上游数据发生了改变，下游并不会自动的更新或者重新运行，例如我们这里手动修改 text 的值改成一个字符串。"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:p,alt:"CleanShot 2024-03-18 at 22.21.05@2x.png"})}),"\n",(0,o.jsx)(n.p,{children:"可以看到，后面依赖于 text 的代码格并没有自动更新，需要自己手动重新运行："}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)("img",{src:h,alt:"CleanShot 2024-03-18 at 22.20.26@2x.png"}),"\n之所以叫 Notebook 是因为天然支持 markdown，我们新建一个块，然后设置为 markdown 块："]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:c,alt:"CleanShot 2024-03-19 at 11.37.55@2x.png"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:"data:image/webp;base64,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",alt:"CleanShot 2024-03-19 at 11.39.34@2x.png"})}),"\n",(0,o.jsx)(n.p,{children:"在运行之后，就会渲染出来："}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:"data:image/webp;base64,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",alt:"转存失败，建议直接上传图片文件"})}),"\n",(0,o.jsx)(n.p,{children:"有了 Jupyter NoteBook，我们就可以节约 费事/费钱 的请求，并且基于某个运行结果的输出，在后面的代码块中，不断尝试各种解析或者处理方式。同时，也非常方便结合 markdown 来做一些笔记，获得比在注释里记录更方便的学习体验。"}),"\n",(0,o.jsxs)(n.h2,{id:"配置",children:["配置",(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,o.jsx)(n.p,{children:"Jupyter Notebook 项目开始以 python 为主，后续 deno 提供了 js/ts Kernel 的支持，所以我们需要分别安装这两个。这里以 Mac 环境演示，如果是 win/linux 可以参考后附的链接进行安装。"}),"\n",(0,o.jsx)(n.p,{children:"首先我们需要本地有 python 环境，最好是 3.9 及以上的 python 环境。在配置好 python 环境后，然后安装 Jupyter Notebook："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pip install notebook\n"})}),"\n",(0,o.jsx)(n.p,{children:"如果你本地 python3 的 pip 别名是 pip3，那就需要："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pip3 install notebook\n"})}),"\n",(0,o.jsx)(n.p,{children:"然后在本地安装 Deno 环境："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://deno.land/install.sh | sh\n"})}),"\n",(0,o.jsx)(n.p,{children:"安装完毕 Deno 环境后，使用 deno 为 Jupyter Notebook 配置 kernel："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"deno jupyter --unstable --install\n"})}),"\n",(0,o.jsx)(n.p,{children:"然后通过运行以下命令，验证 kernel 是否配置完成："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"deno jupyter --unstable\n"})}),"\n",(0,o.jsx)(n.p,{children:"显示以下即为配置成功："}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:i,alt:"CleanShot 2024-03-19 at 11.27.05@2x.png"})}),"\n",(0,o.jsx)(n.p,{children:"然后我们运行以下命令启动 notebook："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"jupyter notebook\n"})}),"\n",(0,o.jsx)(n.p,{children:"然后就会自动打开一个网页，然后我们就可以正常使用 notebook 了。"}),"\n",(0,o.jsx)(n.p,{children:"目前 deno kernel 的 Jupyter Notebook 不支持代码提示，所以写代码会难受一点，大家可以安装 vscode 插件，使用 vscode 去编辑和运行 notebook。"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:d,alt:"CleanShot 2024-03-19 at 11.43.55@2x.png"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter",target:"_blank",rel:"noopener noreferrer",children:"https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)("img",{src:t,alt:"CleanShot 2024-03-19 at 11.45.39@2x.png"}),"\n记得在右上角切换 Kernel 为 Deno, 如果切换 Kernel 遇到问题，可以参考文档: ",(0,o.jsx)(n.a,{href:"https://code.visualstudio.com/docs/datascience/jupyter-kernel-management",target:"_blank",rel:"noopener noreferrer",children:"https://code.visualstudio.com/docs/datascience/jupyter-kernel-management"})]}),"\n",(0,o.jsx)(n.p,{children:"目前在 VSCode 里的体验也有问题，会因为识别不了 Deno 的引用在代码上显示出错的样式（这个在之后的代码中也会遇到），但不影响正常运行，可以忽略代码里的飘红即可。"}),"\n",(0,o.jsx)(n.p,{children:"具体用什么编辑方式书写 notebook 可以根据自己的喜好。"}),"\n",(0,o.jsx)(n.p,{children:"安装参考链接："}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://www.python.org/downloads/",target:"_blank",rel:"noopener noreferrer",children:"https://www.python.org/downloads/"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://docs.deno.com/runtime/manual/",target:"_blank",rel:"noopener noreferrer",children:"https://docs.deno.com/runtime/manual/"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://docs.deno.com/runtime/manual/tools/jupyter",target:"_blank",rel:"noopener noreferrer",children:"https://docs.deno.com/runtime/manual/tools/jupyter"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://jupyter.org/install",target:"_blank",rel:"noopener noreferrer",children:"https://jupyter.org/install"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter",target:"_blank",rel:"noopener noreferrer",children:"https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h2,{id:"deno-依赖管理",children:["Deno 依赖管理",(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#deno-依赖管理",children:"#"})]}),"\n",(0,o.jsx)(n.p,{children:"Deno 直接从远程拉取依赖，自带缓存机制，而不需要本地安装，例如我们如果需要 lodash 库，我们不需要像 nodejs 一样使用 npm/yarn 等来安装依赖，而是可以直接从远程引入："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'import _ from "npm:/lodash\n'})}),"\n",(0,o.jsx)(n.p,{children:"如果我们需要锁定版本，则可以："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'import _ from "npm:/lodash@4.17.21"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["这个命令，就会让 deno 从 npm 找到对应的 lodash 包，然后引入，我们就可以在另一个代码块中使用引入后的",(0,o.jsx)(n.code,{children:"_"}),"，比如："]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const a = _.random(0, 5);\na\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:l,alt:"CleanShot 2024-03-19 at 21.58.38@2x.png"})}),"\n",(0,o.jsxs)(n.p,{children:["当然，我们每次都这样使用完整的链接引入就会比较麻烦，所以我们可以在顶层创建一个文件 ",(0,o.jsx)(n.code,{children:"deno.json"})," 来给设置别名"]}),"\n",(0,o.jsxs)(n.p,{children:["在跟 notebook 文件同级创建一个 ",(0,o.jsx)(n.code,{children:"deno.json"})," 文件："]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"- 1-test-notebook.ipynb\n- deno.json\n"})}),"\n",(0,o.jsx)(n.p,{children:"然后填写其中的内容为："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'{\n  "imports": {\n    "lodash": "npm:/lodash@4.17.21"\n  },\n  "deno.enable": true\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["这里内容比较好理解，就是将 ",(0,o.jsx)(n.code,{children:' "npm:/lodash@4.17.21"'})," 的别名设置为 ",(0,o.jsx)(n.code,{children:"lodash"}),"，其中",(0,o.jsx)(n.code,{children:'"deno.enable": true'})," 是如果你用了 deno 的 vscode 插件，可以让它识别到，并对 deno 在 vscode 体验的一些优化。"]}),"\n",(0,o.jsx)(n.p,{children:"设置完毕后，我们就可以使用别名在 deno 中引入 lodash 了："}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'import _ from "lodash"\n\nconst a = _.random(0, 5);\na\n'})}),"\n",(0,o.jsxs)(n.p,{children:["注意，如果你更新了 ",(0,o.jsx)(n.code,{children:"deno.json"})," 需要重启 notebook 的内核才能让 deno 拿到最新的别名："]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)("img",{src:r,alt:"CleanShot 2024-03-19 at 22.05.50@2x.png"})}),"\n",(0,o.jsxs)(n.p,{children:["这里，我们只介绍了足够本教程使用 Deno 依赖管理，",(0,o.jsx)(n.a,{href:"https://docs.deno.com/runtime/manual/basics/modules/",target:"_blank",rel:"noopener noreferrer",children:"更多信息可以参考"}),"。"]}),"\n",(0,o.jsxs)(n.h2,{id:"小结",children:["小结",(0,o.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#小结",children:"#"})]}),"\n",(0,o.jsx)(n.p,{children:"这一节，我们学习了 在机器学习领域中常用的工具 Jupyter Notebook，这也是我们迈向专业 AI 的一步。你可以看到在 github 中，很多知名的 AI 论文开源的 demo 入口都是一个 Jupyter Notebook，其在 AI 这场景中有不可替代的优势。"}),"\n",(0,o.jsxs)(n.p,{children:["当然，Deno + Jupyter Notebook 这一套工具只是",(0,o.jsx)(n.strong,{children:"可选"}),"的，即使不配置也可以正常学习后续的课程，只需要将后续教程中",(0,o.jsx)(n.strong,{children:"部分 Deno 专有的 API 替换成 Node.js 对应的 API 即可"}),"。"]}),"\n",(0,o.jsx)(n.p,{children:"我个人建议是尝试一下 Deno，这可能是未来 js 在后端的风向，目前后端的各种 js 运行时在打架，可以都把玩看看，跟 nodejs 对比一下。而且，使用 Jupyter Notebook 在学习 AI 相关技术时确实十分方便，也是专业 AI 开发时会使用的工具。"})]})}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}let k=g;g.__RSPRESS_PAGE_META={},g.__RSPRESS_PAGE_META["%E4%BB%8E%E5%89%8D%E7%AB%AF%E5%88%B0%20AI%EF%BC%9ALangChain.js%20%E5%85%A5%E9%97%A8%E5%92%8C%E5%AE%9E%E6%88%98_online%2F2-Deno%20%E5%92%8C%20Jupyter%20Notebook%EF%BC%9A%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%9C%B0%E5%AD%A6%E4%B9%A0%20LLM%EF%BC%9F.md"]={toc:[{text:"Deno 和 Jupyter Notebook",id:"deno-和-jupyter-notebook",depth:2},{text:"配置",id:"配置",depth:2},{text:"Deno 依赖管理",id:"deno-依赖管理",depth:2},{text:"小结",id:"小结",depth:2}],title:"2-Deno 和 Jupyter Notebook：如何优雅地学习 LLM？",headingTitle:"2-Deno 和 Jupyter Notebook：如何优雅地学习 LLM？",frontmatter:{}}}}]);