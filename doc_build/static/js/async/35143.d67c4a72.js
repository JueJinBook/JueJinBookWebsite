"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["35143"],{996117:function(e,n,c){e.exports=c.p+"static/image/618d4dfb2603433fe2ec5001558d6a94.57b3a1b8.webp"},751552:function(e,n,c){e.exports=c.p+"static/image/83631cebcbdd5e016ffb4d6b991e863f.90763bed.webp"},377226:function(e){e.exports="data:image/webp;base64,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"},574662:function(e,n,c){e.exports=c.p+"static/image/ead27d2632f00186c107126b849f6b41.e77f25f2.webp"},625116:function(e,n,c){c.r(n),c.d(n,{default:()=>P});var s=c(552676),r=c(740453);let l=c.p+"static/image/af13ddc69345d3f5360960ca1a00d43d.d10fea48.webp",i=c.p+"static/image/939668a39aa18cd460efebf6d3b87746.f596c4cb.webp",t=c.p+"static/image/26a32ed31bf9b2aa28cdfd47255741e0.5b70e341.webp",d=c.p+"static/image/82e838ff4703dd3c58b5b8cc056bec18.86de095f.webp";var p=c(574662),a=c(996117),x=c(751552);let j=c.p+"static/image/0c7276851c362666ae001a44bcf2cd05.9dc1012f.webp",o=c.p+"static/image/7b8955e22319575176aed988fe1b8532.1f599043.webp",h=c.p+"static/image/a9f81779507f22ca0614a61b94d34f9a.3193dc2a.webp",b=c.p+"static/image/f2b1245ae9b0161681d3c740ca4843e4.d0de0159.webp",g=c.p+"static/image/17a1873682ac4a6e8c282bc155fed65c.32a754d2.webp",f=c.p+"static/image/6cdcb113812c27296c75437d55dc272e.975b4ae8.webp",m=c.p+"static/image/3ca68dac1829b20ba8fd4b31b6736d88.8be090b6.webp",u=c.p+"static/image/e28c92b78cfc6ba0e0c45861a8d40ea0.83892e97.webp",A=c.p+"static/image/c702963d865b490af390892b1919ffc5.8cb85df0.webp",w=c.p+"static/image/5ff1876f6ee2c269369c7f989a7821c8.cd92d259.webp",v=c.p+"static/image/200be09c68f082fd57b692f8c6c8b434.8a227e7e.webp";var B=c(377226);let N=c.p+"static/image/fcaedb528f43348438e988fc42c2717c.5be523b8.webp",U=c.p+"static/image/32676056a05852a821d93e22f42b0165.572f211f.webp",S=c.p+"static/image/99cc5ec10703cd3de887937dcf559a55.2ca9dfa7.webp",C=c.p+"static/image/207721840a98cde1b02ccf4133cd52da.d07ce1cd.webp",O=c.p+"static/image/a830f1b4f32c5c70c78a82cd0e5c6f84.e2c6323e.webp";function F(e){let n=Object.assign({h1:"h1",a:"a",p:"p",img:"img",strong:"strong",h2:"h2"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"3-nest-基础概念扫盲",children:["3. Nest 基础概念扫盲",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-nest-基础概念扫盲",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Nest 是对标 Java 的 Spring 框架的后端框架，它有很多概念。"}),"\n",(0,s.jsx)(n.p,{children:"对于新手来说，上来就接触这些概念可能会有点懵。"}),"\n",(0,s.jsx)(n.p,{children:"这节我们集中来过一下（这节不用实践，理解概念就好）："}),"\n",(0,s.jsx)(n.p,{children:"我们通过不同的 url 来访问后端接口："}),"\n",(0,s.jsx)(n.p,{children:"/user/create"}),"\n",(0,s.jsx)(n.p,{children:"/user/list"}),"\n",(0,s.jsx)(n.p,{children:"/book/create"}),"\n",(0,s.jsx)(n.p,{children:"/book/list"}),"\n",(0,s.jsx)(n.p,{children:"不同的 url 是不同的路由。"}),"\n",(0,s.jsx)(n.p,{children:"这些路由在 Controller 里声明："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:O,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"比如这里就是声明了一个 /user/create 的 post 接口，声明了一个 /user/list 的 get 接口。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:C,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"在 class 上和它方法的方法上加上 @Controller、@Get、@Post 的装饰器就可以了。"}),"\n",(0,s.jsx)(n.p,{children:"controller 的方法叫做 handler，是处理路由的。"}),"\n",(0,s.jsx)(n.p,{children:"post 的请求体，get 的请求参数，都可以通过装饰来取："}),"\n",(0,s.jsx)(n.p,{children:"通过 @Param 取 url 中的参数，比如 /user/111 里的 111"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:S,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"通过 @Query 来取 url 中的 query 参数，比如 /user/xx?id=222 里的 222"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:U,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"通过 @Body 取 /book/create 的请求体内容："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:N,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"请求体一般会传递 json，比如 { username: 'xxx', password: 'xxx' }"}),"\n",(0,s.jsx)(n.p,{children:"我们会通过 dto （data transfer object）来接收。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:B,alt:""})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:v,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"传递到 handler 的就已经是 dto 对象了。"}),"\n",(0,s.jsxs)(n.p,{children:["也就是说 ",(0,s.jsx)(n.strong,{children:"controller 是处理路由和解析请求参数的"}),"。"]}),"\n",(0,s.jsx)(n.p,{children:"请求参数解析出来了，下一步就是做业务逻辑的处理了，这些东西不写在 controller 里，而是放在 service 里。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:w,alt:""})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"service 里做业务逻辑的具体实现，比如操作数据库等"})}),"\n",(0,s.jsx)(n.p,{children:"同理，/book/list、/book/create 接口是在另一个 BookController 里："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:A,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"它的业务逻辑实现也是在 BookService 里。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:u,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"很明显，UserController 和 UserService 是一块的，BookController 和 BookService 是一块的。"}),"\n",(0,s.jsx)(n.p,{children:"所以，Nest 有了模块的划分，每个模块里都包含 controller 和 service："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:m,alt:""})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:f,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"通过 @Module 声明模块，它包含 controllers 和 providers。"}),"\n",(0,s.jsx)(n.p,{children:"为啥不是 services 而是 providers 呢？"}),"\n",(0,s.jsx)(n.p,{children:"因为 Nest 实现了一套依赖注入机制，叫做 IoC（Inverse of Control 反转控制）。"}),"\n",(0,s.jsx)(n.p,{children:"简单说就是你只需要声明依赖了啥就行，不需要手动去 new 依赖，Nest 的 IoC 容器会自动给你创建并注入依赖。"}),"\n",(0,s.jsx)(n.p,{children:"比如这个 UserController 依赖了 JwtService，那只需要通过 @Inject 声明依赖，然后就可以在方法里用了："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:g,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"运行的时候会自动查找这个 JwtServcie 的实例来注入。"}),"\n",(0,s.jsx)(n.p,{children:"在 @Module 里的 providers 数组里，就是声明要往 IoC 容器里提供的对象，所以这里叫做 providers。"}),"\n",(0,s.jsx)(n.p,{children:"provider 有很多种写法："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:b,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"默认的 XxxService 只是一种简化的写法。"}),"\n",(0,s.jsx)(n.p,{children:"还可以直接 useValue 创建，通过 useFactory 创建等。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:h,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"刚才提到了 IoC 会自动从容器中查找实例来注入，注入的方式有两种："}),"\n",(0,s.jsx)(n.p,{children:"属性注入和构造器注入。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:o,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"这种写在构造器里的依赖，就是构造器注入。"}),"\n",(0,s.jsx)(n.p,{children:"@Inject 写在属性上的依赖，就是属性注入。"}),"\n",(0,s.jsx)(n.p,{children:"效果是一样的，只是注入的时机不同。"}),"\n",(0,s.jsx)(n.p,{children:"每个模块都会包含 controller、service、module、dto、entities 这些东西："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:j,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"controller 是处理路由，解析请求参数的。"}),"\n",(0,s.jsx)(n.p,{children:"service 是处理业务逻辑的，比如操作数据库。"}),"\n",(0,s.jsx)(n.p,{children:"dto 是封装请求参数的。"}),"\n",(0,s.jsx)(n.p,{children:"entities 是封装对应数据库表的实体的。"}),"\n",(0,s.jsx)(n.p,{children:"nest 应用跑起来后，会从 AppModule 开始解析，初始化 IoC 容器，加载所有的 service 到容器里，然后解析 controller 里的路由，接下来就可以接收请求了。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:x,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"其实这种架构叫做 MVC 模式，也就是 model、view、controller。"}),"\n",(0,s.jsx)(n.p,{children:"controller 接收请求参数，交给 model 处理（model 就是处理 service 业务逻辑，处理 repository 数据库访问），然后返回 view，也就是响应。"}),"\n",(0,s.jsx)(n.p,{children:"应用中会有很多 controller、service，那如果是跨多个 controller 的逻辑呢？"}),"\n",(0,s.jsx)(n.p,{children:"这种在 Nest 提供了 AOP （Aspect Oriented Programming 面向切面编程）的机制"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:a,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"具体来说，有 Middleware、Guard、Interceptor、Pipe、Exception Filter 这五种。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:p,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"它们都是在目标 controller 的 handler 前后，额外加一段逻辑的。"}),"\n",(0,s.jsx)(n.p,{children:"比如你可以通过 interceptor 实现请求到响应的时间的记录："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:d,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"这种逻辑适合放在 controller 里么？"}),"\n",(0,s.jsx)(n.p,{children:"不适合，这种通用逻辑应该通过 interceptor 等方式抽离出来，然后需要用的时候在 controller 上声明一下："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:t,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"这些就是 Nest 的核心概念了。"}),"\n",(0,s.jsx)(n.p,{children:"此外，创建 Nest 项目自然也是有 cli 工具的。"}),"\n",(0,s.jsx)(n.p,{children:"比如创建新项目："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:i,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"创建项目里的某个新模块："}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:l,alt:""})}),"\n",(0,s.jsx)(n.p,{children:"都可以通过 @nestjs/cli 来做。"}),"\n",(0,s.jsx)(n.p,{children:"所以我们后面的学习顺序是先学会 cli 的使用，然后学习 Nest 的核心概念，之后学下涉及到的数据库、orm 框架等，最后来做项目实战。"}),"\n",(0,s.jsxs)(n.h2,{id:"总结",children:["总结",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"这节我们讲了很多 Nest 里的概念。"}),"\n",(0,s.jsx)(n.p,{children:"比如 controller、handler、service、dto、module、entity、ioc、aop、nest cli 等。"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"controller"}),"：控制器，用于处理路由，解析请求参数"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"handler"}),"：控制器里处理路由的方法"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"service"}),"：实现业务逻辑的地方，比如操作数据库等"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"dto"}),"：data transfer object，数据传输对象，用于封装请求体里数据的对象"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"module"}),"：模块，包含 controller、service 等，比如用户模块、书籍模块"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"entity"}),"：对应数据库表的实体"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"ioc"}),"：Inverse of Controller，反转控制或者叫依赖注入，只要声明依赖，运行时 Nest 会自动注入依赖的实例"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"aop"}),"：Aspect Oriented Programming 面向切面编程，在多个请求响应流程中可以复用的逻辑，比如日志记录等，具体包含 middleware、interceotor、guard、exception filter、pipe"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"nest cli"}),"：创建项目、创建模块、创建 controller、创建 service 等都可以用这个 cli 工具来做"]}),"\n",(0,s.jsx)(n.p,{children:"现在只要能大概理解概念就行，后面我们会深入学习这些。"})]})}function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(F,{...e})}):F(e)}let P=X;X.__RSPRESS_PAGE_META={},X.__RSPRESS_PAGE_META["Nest%20%E9%80%9A%E5%85%B3%E7%A7%98%E7%B1%8D%20%20%E6%9C%80%E6%96%B0200%E7%AB%A0%2F3.%20Nest%20%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E6%89%AB%E7%9B%B2.md"]={toc:[{text:"总结",id:"总结",depth:2}],title:"3. Nest 基础概念扫盲",headingTitle:"3. Nest 基础概念扫盲",frontmatter:{}}}}]);