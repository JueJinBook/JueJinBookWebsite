"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["24349"],{878888:function(e,s,n){n.r(s),n.d(s,{default:()=>j});var d=n(552676),r=n(740453);let c=n.p+"static/image/48eeca77f471eee47718abdeed550aec.72dc8a72.webp",i=n.p+"static/image/7f1a57f51302ea84f6516e94f33c710e.f6bad1c3.webp",h=n.p+"static/image/adeca06ef94abcf5562ebe7974aab5b6.a354dddb.webp",a=n.p+"static/image/939eea25981df6efa6d416bfd895d47c.43e49ddb.webp",l=n.p+"static/image/27adb7612c5ea7e839b0bb544271b7f5.076bc928.webp";function t(e){let s=Object.assign({h1:"h1",a:"a",h2:"h2",h4:"h4",p:"p",code:"code",pre:"pre",blockquote:"blockquote",img:"img",strong:"strong"},(0,r.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.h1,{id:"22问题汇总持续更新",children:["22.问题汇总(持续更新)",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#22问题汇总持续更新",children:"#"})]}),"\n",(0,d.jsxs)(s.h2,{id:"学习过程中问题汇总",children:["学习过程中问题汇总",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#学习过程中问题汇总",children:"#"})]}),"\n",(0,d.jsxs)(s.h2,{id:"数据库相关",children:["数据库相关",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#数据库相关",children:"#"})]}),"\n",(0,d.jsxs)(s.h4,{id:"问题-1",children:["问题 1",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-1",children:"#"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.code,{children:"ER_NOT_SUPPORTED_AUTH_MODE"})," 错误解决。"]}),"\n",(0,d.jsxs)(s.p,{children:["最新的 ",(0,d.jsx)(s.code,{children:"mysql"})," 模块并未完全支持 ",(0,d.jsx)(s.code,{children:"MySQL 8"})," 的“caching_sha2_password” 加密方式，而“caching_sha2_password”在 ",(0,d.jsx)(s.code,{children:"MySQL 8"})," 中是默认的加密方式。因此，下面的方式命令是默认已经使用了“caching_sha2_password”加密方式，该账号、密码无法在mysql模块中使用。"]}),"\n",(0,d.jsxs)(s.p,{children:["简单说就是目前 ",(0,d.jsx)(s.code,{children:"MySQL 8.0"})," 以上的版本的加密方式，",(0,d.jsx)(s.code,{children:"Node"})," 还不支持。"]}),"\n",(0,d.jsx)(s.p,{children:"解决方法："}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"mysql> ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '你的密码';\n"})}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsxs)(s.p,{children:["上述指令需启动 ",(0,d.jsx)(s.code,{children:"mysql"})," 的情况下执行。"]}),"\n"]}),"\n",(0,d.jsxs)(s.h4,{id:"问题-2",children:["问题 2",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-2",children:"#"})]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)("img",{src:l,alt:""})}),"\n",(0,d.jsxs)(s.p,{children:["上述提示多半是端口被占用了，建议修改 ",(0,d.jsx)(s.code,{children:"egg"})," 启动的端口号，在 ",(0,d.jsx)(s.code,{children:"config/config.default.js"})," 中，如下："]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-js",children:"config.cluster = {\n  listen: {\n    path: '',\n    port: 7009, // 项目启动的端口号\n    hostname: '0.0.0.0'\n  }\n}\n"})}),"\n",(0,d.jsxs)(s.h4,{id:"问题-3",children:["问题 3",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-3",children:"#"})]}),"\n",(0,d.jsxs)(s.p,{children:["服务器安装社群版 ",(0,d.jsx)(s.code,{children:"mysql"})," 报错说没有任何匹配？"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)("img",{src:a,alt:""})}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"解决方案"})}),"\n",(0,d.jsxs)(s.p,{children:["安装前要先禁用 ",(0,d.jsx)(s.code,{children:"mysql"}),"，先跑一下后面这个指令 ",(0,d.jsx)(s.code,{children:"sudo yum module disable mysql"}),"。"]}),"\n",(0,d.jsxs)(s.h2,{id:"网站相关",children:["网站相关",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#网站相关",children:"#"})]}),"\n",(0,d.jsxs)(s.h4,{id:"问题-1-1",children:["问题 1",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-1-1",children:"#"})]}),"\n",(0,d.jsxs)(s.p,{children:["网站部署到服务器上之后，通过 ",(0,d.jsx)(s.code,{children:"IP"})," 地址，无法访问到，咋整？"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"解决方案"})}),"\n",(0,d.jsx)(s.p,{children:"前往服务器实例，安全组，将你所部署的端口加入安全组，具体操作可自行搜索。"}),"\n",(0,d.jsxs)(s.h4,{id:"问题-2-1",children:["问题 2",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-2-1",children:"#"})]}),"\n",(0,d.jsx)(s.p,{children:"部署上线之后跨域该如何解决？"}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"解决方案"})}),"\n",(0,d.jsxs)(s.p,{children:["服务端项目下，通过 ",(0,d.jsx)(s.code,{children:"egg-cors"})," 插件解决，具体配置如下图："]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)("img",{src:h,alt:""})}),"\n",(0,d.jsxs)(s.h4,{id:"问题-3-1",children:["问题 3",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-3-1",children:"#"})]}),"\n",(0,d.jsx)(s.p,{children:"部署到线上环境后，遇到如下图的报错："}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)("img",{src:i,alt:""})}),"\n",(0,d.jsxs)(s.p,{children:["请将 ",(0,d.jsx)(s.code,{children:"Zarm"})," 版本降为 2.8.2，因为高版本不兼容 React 的最新版本，这个问题官方没有很好的解决。"]}),"\n",(0,d.jsxs)(s.blockquote,{children:["\n",(0,d.jsx)(s.p,{children:"注意，降版本的时候，服务器内项目的 node_module 包清理一下，会有缓存。"}),"\n"]}),"\n",(0,d.jsxs)(s.h4,{id:"问题-4",children:["问题 4",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-4",children:"#"})]}),"\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)("img",{src:c,alt:"image.png"}),"\n报错：styleImport is not a function"]}),"\n",(0,d.jsxs)(s.p,{children:["解决办法：\nvite-plugin-style-import 插件作者，在后期更新的时候，将默认导出的方法变成了一个 ",(0,d.jsx)(s.code,{children:"object"}),"，\n所以同学们可以尝试这样的写法："]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-js",children:"import { default as styleImport } from 'vite-plugin-style-import'\n或者\nimport styleImport from 'vite-plugin-style-import'\nconst _styleImport = styleImport.default\n...\n_styleImport({\n    .....\n})\n"})}),"\n",(0,d.jsxs)(s.h4,{id:"问题-5",children:["问题 5",(0,d.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#问题-5",children:"#"})]}),"\n",(0,d.jsxs)(s.p,{children:['如果遇到"Failed to load PostCSS config"，可以尝试将根目录下的 ',(0,d.jsx)(s.code,{children:"postcss.config.js"})," 的后缀改成 ",(0,d.jsx)(s.code,{children:".cjs"}),"结尾。"]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.ah)(),e.components);return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}let j=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["Node%20%2B%20React%20%E5%AE%9E%E6%88%98%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%201%20%E5%AE%9E%E7%8E%B0%E8%AE%B0%E8%B4%A6%E6%9C%AC%2F22.%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB(%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0).md"]={toc:[{text:"学习过程中问题汇总",id:"学习过程中问题汇总",depth:2},{text:"数据库相关",id:"数据库相关",depth:2},{text:"问题 1",id:"问题-1",depth:4},{text:"问题 2",id:"问题-2",depth:4},{text:"问题 3",id:"问题-3",depth:4},{text:"网站相关",id:"网站相关",depth:2},{text:"问题 1",id:"问题-1-1",depth:4},{text:"问题 2",id:"问题-2-1",depth:4},{text:"问题 3",id:"问题-3-1",depth:4},{text:"问题 4",id:"问题-4",depth:4},{text:"问题 5",id:"问题-5",depth:4}],title:"22.问题汇总(持续更新)",headingTitle:"22.问题汇总(持续更新)",frontmatter:{}}}}]);