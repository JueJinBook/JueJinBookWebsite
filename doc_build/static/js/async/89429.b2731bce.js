"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["89429"],{794443:function(e,n,i){i.r(n),i.d(n,{default:()=>B});var s=i(552676),d=i(740453);let c=i.p+"static/image/8ae7d58856d158c94b5cfadbd53d8049.dcfb1045.webp",r=i.p+"static/image/f0457772bf8b3d028adcb5ab93a192fe.964680e2.webp",l=i.p+"static/image/b4fab46cee61da0b4d0ded57e65ae4c0.0e0b10a9.webp",h=i.p+"static/image/607d96ada0192d49db6086718cab7ba0.ea85c4b1.webp",a=i.p+"static/image/7b1066cb2122a67ea9160cdcbc9b269f.bdbb5328.webp",x=i.p+"static/image/4bd9ea444829ca28c33d8f2c4679c08b.c05511d2.webp",j=i.p+"static/image/6bee3492c3d154d183f0cbfa1cd3e46c.af4de2d1.webp",t=i.p+"static/image/d0f08d35f70efb466c90200b82cedd26.c1e92990.webp",p=i.p+"static/image/24e1ca5a49cb15321e50a4b06ee8fbe1.0842abfb.webp",g=i.p+"static/image/15cc818a2165e97363dc51e0bd478a88.7edf85e5.webp",o=i.p+"static/image/e17249aab7f70f19df8c9042eea76f76.36adc5e2.webp",m=i.p+"static/image/4d1846e6e5bb4bc0b91f094662f8f8bb.5961250c.webp",b=i.p+"static/image/4e770da08a7ddf2337db443f761f5392.cf4e9097.webp",f=i.p+"static/image/8e62f16191edaea07809260fbccd0258.a8305c72.webp",E=i.p+"static/image/783e994595ef343bb9f9aed18d1bcea3.7e2b34b4.webp";function u(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",ol:"ol",li:"li",strong:"strong",img:"img",pre:"pre",code:"code",ul:"ul"},(0,d.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"29-文生图微信小程序实战--3-小程序开发环境搭建",children:["29-文生图微信小程序实战 ｜ 3. 小程序开发环境搭建",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#29-文生图微信小程序实战--3-小程序开发环境搭建",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"微信小程序是一种新的开放能力。开发者可以快速开发一个小程序。小程序可以在微信内被便捷地获取和传播。本文将介绍如何搭建微信小程序的开发环境。"}),"\n",(0,s.jsxs)(n.h2,{id:"注册小程序账号",children:["注册小程序账号",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册小程序账号",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"账号分类",children:["账号分类",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#账号分类",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"微信平台提供了三种类型的账号："}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"服务号"}),"：给企业和组织提供更强大的业务服务与用户管理能力，帮助企业在微信内快速实现全新的服务平台。"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"公众号"}),"：为媒体和个人提供一种新的信息传播方式，构建与读者之间更好的沟通与管理模式。"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"小程序"}),"：一种新的开放能力，可以在微信内被便捷地获取和传播。"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:E,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h3,{id:"注册步骤",children:["注册步骤",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册步骤",children:"#"})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["访问微信公众平台 ",(0,s.jsx)(n.a,{href:"https://mp.weixin.qq.com/",title:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer",children:"mp.weixin.qq.com/"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'选择"小程序"账号类型'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'点击"前往注册"'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"填写账号信息：邮箱和密码，注意邮箱需要是未注册过微信公众平台的邮箱，注册过公众号也不行。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:f,alt:"image.png"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"填写主体信息：个人/企业/政府/媒体/其他组织，根据自己的情况选择。我们课程中使用个人主体即可。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:b,alt:"image.png"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"提交身份证件和手机号进行验证"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"完成注册"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"开发工具准备",children:["开发工具准备",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发工具准备",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"微信官方提供了专门的开发工具，可以帮助开发者高效开发小程序。"}),"\n",(0,s.jsxs)(n.h3,{id:"微信开发者工具",children:["微信开发者工具",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#微信开发者工具",children:"#"})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"下载微信开发者工具，参考以下图中指引步骤。"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:m,alt:"image.png"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"安装开发者工具（支持 Windows、macOS 系统）"}),"\n",(0,s.jsx)(n.li,{children:"打开开发者工具并登录微信账号，登录之后如下所示，会展示当前所有的小程序项目。"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:o,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h2,{id:"配置开发环境",children:["配置开发环境",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置开发环境",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"在我们创建项目前，还有一些准备工作需要完成。"}),"\n",(0,s.jsxs)(n.h3,{id:"获取小程序-appid",children:["获取小程序 AppID",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#获取小程序-appid",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"AppID（小程序 ID）是小程序的唯一标识，开发时必须配置："}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"登录微信公众平台"}),"\n",(0,s.jsx)(n.li,{children:'进入"开发管理"菜单'}),"\n",(0,s.jsx)(n.li,{children:'在"开发设置"页面查看 AppID'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:g,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"这个 AppID 先保存好，后面创建项目时需要用到。"}),"\n",(0,s.jsxs)(n.h3,{id:"服务器域名配置",children:["服务器域名配置",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#服务器域名配置",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"如果你的小程序需要使用网络请求，必须配置合法域名："}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'在微信公众平台的"开发管理"中选择"开发设置"'}),"\n",(0,s.jsx)(n.li,{children:'找到"服务器域名"配置区域'}),"\n",(0,s.jsx)(n.li,{children:"添加你需要的 request 合法域名和 socket 合法域名"}),"\n",(0,s.jsx)(n.li,{children:'点击右侧 "修改" 按钮'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"以下两个域名是在云函数中调用的，这里也要配置下。"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-arduino",children:"https://api.coze.cn\nwss://api.coze.cn\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:p,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"注意："}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"域名必须经过 ICP 备案"}),"\n",(0,s.jsx)(n.li,{children:"必须使用 HTTPS 协议"}),"\n",(0,s.jsx)(n.li,{children:"每月可修改域名配置 50 次"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"创建项目",children:["创建项目",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#创建项目",children:"#"})]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"打开微信开发者工具"}),"\n",(0,s.jsx)(n.li,{children:'点击"+"创建新项目'}),"\n",(0,s.jsxs)(n.li,{children:["填写项目信息：","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"项目名称"}),"\n",(0,s.jsx)(n.li,{children:"目录：项目存储位置"}),"\n",(0,s.jsx)(n.li,{children:"AppID：刚才保存的 AppID"}),"\n",(0,s.jsx)(n.li,{children:"后端服务：因为我这个小程序 AppID 已经开通过云开发，所以这里默认选择了云开发。"}),"\n",(0,s.jsx)(n.li,{children:"选择开发模式：小程序"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:'点击 "创建" 完成项目创建'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:t,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:'还有的打开是下面这个样子，如果模版选择不想使用模版后，上面必须选择 "不使用云服务"，但创建项目后，还是可以再选择云开发的。'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:j,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h2,{id:"开发工具使用",children:["开发工具使用",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发工具使用",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"微信开发者工具提供了完整的开发环境："}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"编辑器"}),"：支持代码高亮、自动补全等功能"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"调试器"}),"：查看控制台日志、网络请求等"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"模拟器"}),"：实时预览小程序运行效果"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"云开发"}),"：提供云函数、数据库和存储功能"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("img",{src:x,alt:"image.png"})," 这个报错是因为缺少一些文件，我们后面再补充。"]}),"\n",(0,s.jsx)(n.p,{children:"我们使用微信开发者工具打开项目后，主要是用它自带的模拟器查看项目的运行结果和日志输出。"}),"\n",(0,s.jsx)(n.p,{children:"真正的代码还是用 Cursor 编写。"}),"\n",(0,s.jsxs)(n.h2,{id:"创建云函数",children:["创建云函数",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#创建云函数",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:'点击模拟器上方的 "云开发" 按钮，进入云开发控制台。'}),"\n",(0,s.jsx)(n.p,{children:'选择 "云函数" 菜单，点击 "新建" 按钮，创建云函数。'}),"\n",(0,s.jsx)(n.p,{children:'我之前已经创建过了，所以这里我创建的是第二个云函数，命名为 "generateImageV2"，这个名字根据自己项目需求来命名。'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:a,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"创建好的云函数如下所示"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:h,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"接下来我们需要将云函数代码同步到本地仓库，首先确保配置云函数配置正确。"}),"\n",(0,s.jsx)(n.p,{children:"回到 Cursor 编辑器，微信小程序第一项目创建后，会在项目根目录下创建 project.config.json 文件，我们打开它，在根目录下添加云函数配置。"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n	"cloudfunctionRoot": "cloudfunctions/"\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"记得在项目根目录先创建一个 cloudfunctions 目录，云函数就放在这个目录下。"}),"\n",(0,s.jsx)(n.p,{children:"直接让 Cursor 修改 project.config.json 文件，添加云函数配置。提示词如下："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ruby",children:'云函数的根目录设置错误，正确的为 "cloudfunctionRoot": "cloudfunctions/"\n\n参考 @https://developers.weixin.qq.com/minigame/dev/wxcloud/guide/functions/getting-started.html \n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:l,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"切换到微信开发者工具，在资源管理器中，可看到云函数目录和其它目录看起来是有区别的，后面跟了一个当前环境。"}),"\n",(0,s.jsx)(n.p,{children:'鼠标右击云函数目录，选择 "同步云函数列表" 按钮，将云函数列表同步到本地。'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:r,alt:"image.png"})}),"\n",(0,s.jsx)(n.p,{children:"同步成功后，在本地云函数目录下会看到我们创建的云函数。"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)("img",{src:c,alt:"image.png"})}),"\n",(0,s.jsxs)(n.h2,{id:"总结",children:["总结",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"本文介绍了微信小程序开发环境的搭建过程。我们学习了微信小程序账号注册、开发工具安装、项目创建和云函数配置等内容。通过这些步骤，你已经可以开始微信小程序的开发了。"})]})}function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}let B=A;A.__RSPRESS_PAGE_META={},A.__RSPRESS_PAGE_META["Cursor%20%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%EF%BC%9AAI%20%E9%A9%B1%E5%8A%A8%E7%9A%84%E6%99%BA%E8%83%BD%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%2F29-%E6%96%87%E7%94%9F%E5%9B%BE%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%9E%E6%88%98%20%EF%BD%9C%203.%20%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md"]={toc:[{text:"注册小程序账号",id:"注册小程序账号",depth:2},{text:"账号分类",id:"账号分类",depth:3},{text:"注册步骤",id:"注册步骤",depth:3},{text:"开发工具准备",id:"开发工具准备",depth:2},{text:"微信开发者工具",id:"微信开发者工具",depth:3},{text:"配置开发环境",id:"配置开发环境",depth:2},{text:"获取小程序 AppID",id:"获取小程序-appid",depth:3},{text:"服务器域名配置",id:"服务器域名配置",depth:3},{text:"创建项目",id:"创建项目",depth:3},{text:"开发工具使用",id:"开发工具使用",depth:2},{text:"创建云函数",id:"创建云函数",depth:2},{text:"总结",id:"总结",depth:2}],title:"29-文生图微信小程序实战 ｜ 3. 小程序开发环境搭建",headingTitle:"29-文生图微信小程序实战 ｜ 3. 小程序开发环境搭建",frontmatter:{}}}}]);