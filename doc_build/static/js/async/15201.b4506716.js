"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["15201"],{852793:function(e){e.exports="data:image/webp;base64,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"},718244:function(e,n,s){e.exports=s.p+"static/image/4edfdbf42217bea6b9967a126eb5e105.9fa5f978.webp"},590971:function(e,n,s){e.exports=s.p+"static/image/77a25c7f1273b202a60309cbbcf27ccd.4e79d643.webp"},42643:function(e,n,s){e.exports=s.p+"static/image/81bfa82ea91bd6af1899d780633fa61f.3a98bfad.webp"},43174:function(e,n,s){e.exports=s.p+"static/image/b0d09aaf17894c517fe81e2a28e09ef5.1415a929.webp"},971395:function(e,n,s){e.exports=s.p+"static/image/be67b5293f2ae1cb885a1c631b51b999.a19f1db3.webp"},613606:function(e,n,s){e.exports=s.p+"static/image/ee2848c6d9bb849bfdb93dd69b440234.75e196b0.webp"},419603:function(e,n,s){e.exports=s.p+"static/image/f8637bae16b1965544511276a2f838b4.ab2d22d1.webp"},541105:function(e,n,s){s.r(n),s.d(n,{default:()=>ed});var a=s(552676),r=s(740453);let c=s.p+"static/image/cde5239117b9cf491b5cd46b11e40a53.6f29b55c.webp",t=s.p+"static/image/0a3885ad1006549c11e451287eae9b87.c0d2d08b.webp",i=s.p+"static/image/3cd11448368e3da45a7b8892bd6e28cd.c9df76d7.webp",l=s.p+"static/image/a69cf749dd1ec711158f4cc092054cb3.4350f909.webp",d=s.p+"static/image/c8cd6a3af1418660e31abcd1eff8463b.d966a842.webp",o=s.p+"static/image/9ec5190f8e162d38e849c76c46922020.bd1b1042.webp",p=s.p+"static/image/bd7cf33d137edc0edaacdd8942a99930.5ec690a7.webp",x=s.p+"static/image/e05e1c1054d28f154a4f37de98f68b51.466954c5.webp",m=s.p+"static/image/9034f92c568ba2e03f5e27c149b2fe59.04e91574.webp",h=s.p+"static/image/20bcc06fee5da3df8f845e385604d675.28e75585.webp",g=s.p+"static/image/aff3dfcf3242efa40518e3b2f6be4b99.f0a76aa8.webp",j=s.p+"static/image/418b858b10cc832dd31b170ddbb82dba.51c67db8.webp";var b=s(971395),u=s(718244);let f=s.p+"static/image/d2c23ff70abb0efd276ccaae22d198c7.76bc84cf.webp";var A=s(43174);let v=s.p+"static/image/0ee12ab4091ee68deb1392db482ad046.41fa5481.webp",w=s.p+"static/image/c5a56b53183b3cafbc66d0f360a68949.30f4dfe4.webp",F=s.p+"static/image/2a2945a449f1ff4339e98eb928588542.b4c5dc3f.webp",k=s.p+"static/image/e6559f96fddb916c3aaf1ddcc7a9b55b.af47276e.webp",E=s.p+"static/image/e7dc95ff12fd1c93fb9b5d774e941860.67fef95f.webp",P=s.p+"static/image/f44e6494c8308c8b814407a1cb9c9e40.0b17f1fc.webp",y=s.p+"static/image/9bd5bd1d90929bf7ce6171343032a066.9503ecbc.webp",I=s.p+"static/image/28eea864173e6e1360383c192d8e2cca.d2776ba2.webp",R=s.p+"static/image/617987fee40351ccf8f5995c9b94f3e5.bd3a4ba3.webp",W=s.p+"static/image/4cffef960b5ed7746f5eaa7eeba0c245.d659e086.webp",X=s.p+"static/image/f72e0b9bed9d264678483aa74a11e2fb.8fa981c0.webp",q=s.p+"static/image/cfea5833d3cc6d6588dfe51f0a3d3204.009f2734.webp",N=s.p+"static/image/afb7dd65f1e2508339565aee3e613f05.cd9b73c8.webp",B=s.p+"static/image/b2f4af794a148733dc2fb6cfc732853c.b1db0f86.webp",O=s.p+"static/image/d3f3e2e098bb934f1bf4ad0db2d0ec8a.110ac5da.webp",Z=s.p+"static/image/7c20aa9a183000ba2e020f41a4726b99.59caf81e.webp",T=s.p+"static/image/5d423c8bfd03a0851aa1d247ad3363c4.be931fdc.gif",G=s.p+"static/image/359e5f510608dc764c5a1eb8a85618fa.a51f3b84.webp",C=s.p+"static/image/d705e6313eac99230c8192304f8b4b9e.a6e91a72.webp",J=s.p+"static/image/d4e5eb32a6c14f7115eaf71ee82995cc.cfe915dd.webp",D=s.p+"static/image/8fa6c00b9de24a8863a1070940ad0775.0f08d0bb.webp",U=s.p+"static/image/74862483d8521ff81805a80be3933d76.fbc7f7f2.webp",M=s.p+"static/image/425a9e556b480d7ae6eac290c5380a51.aeba25fa.webp",Y=s.p+"static/image/81897b08bcbe28e2e91e00cc2a905aaf.4d9f65eb.webp",K=s.p+"static/image/73ca34ef13737e0d81efd5e4a7abb43d.16eed8df.webp",L=s.p+"static/image/6085f93e16f3a8a295609cbe53a6ab95.dcb03fd2.webp",Q=s.p+"static/image/428864cad57c81a93a6b8d4c6325c29f.f257ee31.webp",S=s.p+"static/image/6bcba912ceb4323a8b0730f54b341ad5.8d17f129.webp",V=s.p+"static/image/598701e45448ea6b36a59012a767e954.8357a8d0.webp";var H=s(42643);let z=s.p+"static/image/ccc87e6af8d9385217e4cb541bdbcb91.837cbd8f.webp",_=s.p+"static/image/a8b5648fe20a81749bd2479e36ec49c7.e198ca1d.webp",$=s.p+"static/image/90a8349d25011ccaedad4d6628899418.89d732c0.webp",ee=s.p+"static/image/45e0ed7345c181de601924cfc15b0c42.b5fc31f2.webp";var en=s(852793);let es=s.p+"static/image/dbcd42a874dbf70f0f6abc3ee66f6ea1.e2f02e09.webp";var ea=s(419603);let er=s.p+"static/image/f7baada116e9c5f0b49c1fdee88dd29d.61085144.webp";var ec=s(613606),et=s(590971);function ei(e){let n=Object.assign({h1:"h1",a:"a",p:"p",img:"img",pre:"pre",code:"code",h2:"h2"},(0,r.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"116-会议室预订系统用户管理模块---用户端登录注册页面",children:["116. 会议室预订系统：用户管理模块-- 用户端登录注册页面",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#116-会议室预订系统用户管理模块---用户端登录注册页面",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"用户模块接口写完之后，这节我们开始写页面。"}),"\n",(0,a.jsx)(n.p,{children:"先写下用户端页面，涉及到到登录、注册、修改密码、修改个人信息这 4 个："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:z,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:R,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:et,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:ec,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"先新建个 react 项目："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npx create-react-app --template=typescript meeting_room_booking_system_frontend_u\nser\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:er,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"进入项目目录，把开发服务跑起来："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm run start\n"})}),"\n",(0,a.jsxs)(n.p,{children:["浏览器访问 ",(0,a.jsx)(n.a,{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:3000"})," 可以看到这个界面："]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:ea,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"就说明 react 项目成功跑起来了。"}),"\n",(0,a.jsx)(n.p,{children:"然后我们添加 router："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm install --save react-router-dom\n"})}),"\n",(0,a.jsx)(n.p,{children:"在 index.tsx 加上路由的配置："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:'import ReactDOM from \'react-dom/client\';\nimport \'./index.css\';\nimport { RouterProvider, createBrowserRouter, Link, Outlet } from \'react-router-dom\';\n\nfunction Aaa() {\n  return <div>aaa</div>;\n}\n\nfunction Bbb(){\n  return <div>bbb</div>;\n}\n\nfunction Layout() {\n  return <div>\n    <div><Link to="/aaa">to aaa</Link></div>\n    <div><Link to="/bbb">to bbb</Link></div>\n    <div>\n      <Outlet/>\n    </div>\n  </div>\n}\n\nfunction ErrorPage() {\n  return <div>error</div>;\n}\n\nconst routes = [\n  {\n    path: "/",\n    element: <Layout/>,\n    errorElement: <ErrorPage/>,\n    children: [\n      {\n        path: "aaa",\n        element: <Aaa />,\n      },\n      {\n        path: "bbb",\n        element: <Bbb />,\n      }    \n    ],\n  }\n];\nconst router = createBrowserRouter(routes);\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\'root\') as HTMLElement\n);\n\nroot.render(<RouterProvider router={router}/>);\n'})}),"\n",(0,a.jsx)(n.p,{children:"配置了 3 个路由："}),"\n",(0,a.jsx)(n.p,{children:"访问 / 的时候，渲染 Layout 组件。"}),"\n",(0,a.jsx)(n.p,{children:"访问 /aaa 的时候，渲染 Aaa 组件。"}),"\n",(0,a.jsx)(n.p,{children:"访问 /bbb 的时候，渲染 Bbb 组件。"}),"\n",(0,a.jsx)(n.p,{children:"以及出错的时候，渲染 ErrorPage 组件。"}),"\n",(0,a.jsx)(n.p,{children:"其中，aaa 和 bbb 是 / 的子路由，渲染在 Layout 组件的 Outlet 的地方。"}),"\n",(0,a.jsx)(n.p,{children:"这就是 React Router 的基本用法。"}),"\n",(0,a.jsx)(n.p,{children:"测试下："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:es,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"都没问题。"}),"\n",(0,a.jsx)(n.p,{children:"然后创建 3 个组件：Login、Register、UpdatePassword"}),"\n",(0,a.jsx)(n.p,{children:"把 src 目录下其余文件去掉："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:en,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"然后添加这 3 个组件还有 ErrorPage 组件："}),"\n",(0,a.jsx)(n.p,{children:"Login.tsx"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"export function Login() {\n    return <div>login</div>   \n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"Register.tsx"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"export function Register() {\n    return <div>register</div>\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"UpdatePassword.tsx"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"export function UpdatePassword() {\n    return <div>UpdatePassword</div>\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"ErrorPage.tsx"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"export function ErrorPage() {\n    return <div>ErrorPage</div>\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"改下 index.tsx 配置对应的路由："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import ReactDOM from 'react-dom/client';\nimport './index.css';\nimport { RouterProvider, createBrowserRouter, Link, Outlet } from 'react-router-dom';\nimport { Register } from './Register';\nimport { Login } from './Login';\nimport { UpdatePassword } from './UpdatePassword';\nimport { ErrorPage } from './ErrorPage';\n\nconst routes = [\n  {\n    path: \"/\",\n    element: <div>index</div>,\n    errorElement: <ErrorPage />,\n  },\n  {\n    path: \"login\",\n    element: <Login />,\n  },\n  {\n    path: \"register\",\n    element: <Register />,\n  },\n  {\n    path: \"update_password\",\n    element: <UpdatePassword />,\n  }\n];\nconst router = createBrowserRouter(routes);\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\nroot.render(<RouterProvider router={router}/>);\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"测试下："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:"data:image/webp;base64,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",alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:ee,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:$,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:_,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"都没啥问题。"}),"\n",(0,a.jsx)(n.p,{children:"然后来写 Login 页面，也就是这个："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:z,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"引入 Ant Design 组件库："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm install antd --save\n"})}),"\n",(0,a.jsx)(n.p,{children:"在 Login 组件引入 DatePicker 组件："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:'import { DatePicker } from "antd";\n\nexport function Login() {\n    return <div><DatePicker/></div>   \n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:H,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"没啥问题，说明 antd 引入成功了。"}),"\n",(0,a.jsx)(n.p,{children:"然后我们把登录页面写一下："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import { Button, Checkbox, Form, Input } from 'antd';\nimport './login.css';\n\ninterface LoginUser {\n    username: string;\n    password: string;\n}\n\nconst onFinish = (values: LoginUser) => {\n    console.log(values);\n};\n\n\nconst layout1 = {\n    labelCol: { span: 4 },\n    wrapperCol: { span: 20 }\n}\n\nconst layout2 = {\n    labelCol: { span: 0 },\n    wrapperCol: { span: 24 }\n}\n\nexport function Login() {\n    return <div id=\"login-container\">\n        <h1>会议室预订系统</h1>\n        <Form\n            {...layout1}\n            onFinish={onFinish}\n            colon={false}\n            autoComplete=\"off\"\n        >\n            <Form.Item\n                label=\"用户名\"\n                name=\"username\"\n                rules={[{ required: true, message: '请输入用户名!' }]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                label=\"密码\"\n                name=\"password\"\n                rules={[{ required: true, message: '请输入密码!' }]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                {...layout2}\n            >\n                <div className='links'>\n                    <a href=''>创建账号</a>\n                    <a href=''>忘记密码</a>\n                </div>\n            </Form.Item>\n\n            <Form.Item\n                {...layout2}\n            >\n                <Button className='btn' type=\"primary\" htmlType=\"submit\">\n                    登录\n                </Button>\n            </Form.Item>\n        </Form>\n    </div>   \n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"其中，layout 是 label 和 wrapper 的比例分配，antd 的栅格系统一共分了 24 份。"}),"\n",(0,a.jsx)(n.p,{children:"上面两个 Form.Item 是 label 4 份，wrapper 20 份。"}),"\n",(0,a.jsx)(n.p,{children:"下面两个 Form.Item 是 label 0 份，wrapper 24 份。"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:V,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"colon 为 false 是去掉 label 后的冒号"}),"\n",(0,a.jsx)(n.p,{children:"然后 css 部分如下："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-css",children:"#login-container {\n    width: 400px;\n    margin: 100px auto 0 auto;\n    text-align: center;\n}\n#login-container .links {\n    display: flex;\n    justify-content: space-between;\n}\n#login-container .btn {\n    width: 100%;\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"访问 /login，可以看到现在的登录页面："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:S,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"输入用户名、密码，点击登录："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:Q,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"控制台打印了拿到的表单值。"}),"\n",(0,a.jsx)(n.p,{children:"我们在前端项目安装下 axios："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm install --save axios\n"})}),"\n",(0,a.jsx)(n.p,{children:"然后把服务端跑起来："}),"\n",(0,a.jsx)(n.p,{children:"跑之前先把端口配置改为 3005，因为前端开发服务用了 3000 端口："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:L,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"然后在后端项目执行："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm run start:dev\n"})}),"\n",(0,a.jsx)(n.p,{children:"登录接口有哪些参数呢？"}),"\n",(0,a.jsx)(n.p,{children:"可以看 swagger 接口文档："}),"\n",(0,a.jsxs)(n.p,{children:["访问 ",(0,a.jsx)(n.a,{href:"http://localhost:3005/api-doc",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:3005/api-doc"})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:K,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"在 postman 里测试下登录接口："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:Y,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"然后在点击登录按钮之后，用 axios 调用它："}),"\n",(0,a.jsx)(n.p,{children:"在前端项目创建个 interfaces.ts"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import axios from \"axios\";\n\nconst axiosInstance = axios.create({\n    baseURL: 'http://localhost:3005/',\n    timeout: 3000\n});\n\nexport async function login(username: string, password: string) {\n    return await axiosInstance.post('/user/login', {\n        username, password\n    });\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"在这里集中管理接口。"}),"\n",(0,a.jsx)(n.p,{children:"然后 onFinish 里调用："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const onFinish = async (values: LoginUser) => {\n    const res = await login(values.username, values.password);\n\n    if(res.status === 201 || res.status === 200) {\n        message.success('登录成功');\n\n        console.log(res.data);\n    } else {\n        message.error(res.data.data || '系统繁忙，请稍后再试');\n    }\n};\n"})}),"\n",(0,a.jsx)(n.p,{children:"登录下："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:M,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"提示跨域错误："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:U,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"我们在服务端开启下跨域支持："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:D,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"再试下："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:T,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"因为这个时候接口返回 400"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:J,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:C,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"axios 对于 400 多、500 多的请求，都会抛出错误。"}),"\n",(0,a.jsx)(n.p,{children:"所以我们加一个响应的拦截器处理下："}),"\n",(0,a.jsx)(n.p,{children:"在 interface.ts 添加："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"axiosInstance.interceptors.response.use(\n    (response) => {\n        return response;\n    },\n    async (error) => {\n        return error.response;\n    }\n);\n"})}),"\n",(0,a.jsx)(n.p,{children:"再次调用，就能正常处理了："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:G,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"如果你把返回的值改为 Promise.reject"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"axiosInstance.interceptors.response.use(\n    (response) => {\n        return response;\n    },\n    async (error) => {\n        return Promise.reject(error.response);\n    }\n);\n"})}),"\n",(0,a.jsx)(n.p,{children:"就又恢复原样了："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:T,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"因为 axios 默认就是这样处理的，400 多和 500 多的请求，会返回 reject。"}),"\n",(0,a.jsx)(n.p,{children:"把它改回来，然后测试下正常的请求："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:Z,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"提示登录成功，并且返回了用户信息和 token。"}),"\n",(0,a.jsx)(n.p,{children:"再输入错误的用户名、密码试试："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:O,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:B,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"会返回 400 和具体的错误。"}),"\n",(0,a.jsx)(n.p,{children:"然后完善下 onFinish 方法："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const onFinish = async (values: LoginUser) => {\n    const res = await login(values.username, values.password);\n\n    const { code, message: msg, data} = res.data;\n    if(res.status === 201 || res.status === 200) {\n        message.success('登录成功');\n\n        localStorage.setItem('access_token', data.accessToken);\n        localStorage.setItem('refresh_token', data.refreshToken);\n        localStorage.setItem('user_info', JSON.stringify(data.userInfo));\n    } else {\n        message.error(data || '系统繁忙，请稍后再试');\n    }\n};\n"})}),"\n",(0,a.jsx)(n.p,{children:"返回 success 的时候，把 access_token、refresh_token、user_info 存入 localStorage"}),"\n",(0,a.jsx)(n.p,{children:"否则，提示错误。"}),"\n",(0,a.jsx)(n.p,{children:"测试下："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:N,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"登录成功之后，在 Application > Local Storage 里就可以看到这三个值"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:q,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"用户不存在或者密码错误的时候，也提示了对应的错误："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:X,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:W,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"这样，登录的前后端功能就都完成了。"}),"\n",(0,a.jsx)(n.p,{children:"然后来写下注册："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:R,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"实现下 Register 页面组件："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:'import { Button, Form, Input, message } from \'antd\';\nimport \'./register.css\';\nimport { useForm } from \'antd/es/form/Form\';\n\nexport interface RegisterUser {\n    username: string;\n    nickName: string;\n    password: string;\n    confirmPassword: string;\n    email: string;\n    captcha: string;\n}\n\nconst onFinish = async (values: RegisterUser) => {\n    console.log(values);\n};\n\n\nconst layout1 = {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 18 }\n}\n\nconst layout2 = {\n    labelCol: { span: 0 },\n    wrapperCol: { span: 24 }\n}\n\nexport function Register() {\n    const [form] = useForm();\n\n    return <div id="register-container">\n        <h1>会议室预订系统</h1>\n        <Form\n            form={form}\n            {...layout1}\n            onFinish={onFinish}\n            colon={false}\n            autoComplete="off"\n        >\n            <Form.Item\n                label="用户名"\n                name="username"\n                rules={[{ required: true, message: \'请输入用户名!\' }]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                label="昵称"\n                name="nickName"\n                rules={[{ required: true, message: \'请输入昵称!\' }]}\n            >\n                <Input />\n            </Form.Item>\n\n            <Form.Item\n                label="密码"\n                name="password"\n                rules={[{ required: true, message: \'请输入密码!\' }]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                label="确认密码"\n                name="confirmPassword"\n                rules={[{ required: true, message: \'请输入确认密码!\' }]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                label="邮箱"\n                name="email"\n                rules={[\n                    { required: true, message: \'请输入邮箱!\' },\n                    { type: "email", message: \'请输入合法邮箱地址!\'}\n                ]}\n            >\n                <Input />\n            </Form.Item>\n\n            <div className=\'captcha-wrapper\'>\n                <Form.Item\n                    label="验证码"\n                    name="captcha"\n                    rules={[{ required: true, message: \'请输入验证码!\' }]}\n                >\n                    <Input />\n                </Form.Item>\n                <Button type="primary">发送验证码</Button>\n            </div>\n\n            <Form.Item\n                {...layout2}\n            >\n                <div className=\'links\'>\n                    已有账号？去<a href=\'\'>登录</a>\n                </div>\n            </Form.Item>\n\n            <Form.Item\n                {...layout1}\n                label=" "\n            >\n                <Button className=\'btn\' type="primary" htmlType="submit">\n                    注册\n                </Button>\n            </Form.Item>\n        </Form>\n    </div>   \n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"和登录页面差不多，只不过多了一个验证码。"}),"\n",(0,a.jsx)(n.p,{children:"对应的 register.css 如下："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-css",children:"#register-container {\n    width: 400px;\n    margin: 100px auto 0 auto;\n    text-align: center;\n}\n#register-container .links {\n    display: flex;\n    justify-content: flex-end;\n}\n#register-container .btn {\n    width: 100%;\n}\n#register-container .captcha-wrapper {\n    display: flex;\n    justify-content: flex-end;\n}\n\n"})}),"\n",(0,a.jsxs)(n.p,{children:["浏览器访问下 ",(0,a.jsx)(n.a,{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:3000"})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:I,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"填入信息，点击注册，控制台会打印表单值："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:y,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"然后来调用下注册接口和发送验证码的接口。"}),"\n",(0,a.jsx)(n.p,{children:"在 swagger 文档看下这俩接口："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:P,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:E,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"同样，我们先在 postman 里调用下："}),"\n",(0,a.jsx)(n.p,{children:"调用发送验证码接口："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:k,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"邮箱收到了对应的邮件："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:F,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"然后调用注册接口："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:w,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"注册成功，数据库也多了一条记录："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:v,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"我们在页面是实现这个流程："}),"\n",(0,a.jsx)(n.p,{children:"在 interface.tsx 里添加这两个接口："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"export async function registerCaptcha(email: string) {\n    return await axiosInstance.get('/user/register-captcha', {\n        params: {\n            address: email\n        }\n    });\n}\n\nexport async function register(registerUser: RegisterUser) {\n    return await axiosInstance.post('/user/register', registerUser);\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"先调用发送验证码接口："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:A,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"绑定点击事件。"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:f,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"使用 useForm 来拿到 form 的 api"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"async function sendCaptcha() {\n    const address = form.getFieldValue('email');\n    if(!address) {\n        return message.error('请输入邮箱地址');\n    }\n\n    const res = await registerCaptcha(address);\n    if(res.status === 201 || res.status === 200) {\n        message.success(res.data.data);\n    } else {\n        message.error(res.data.data || '系统繁忙，请稍后再试');\n    }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"在 sendCaptcha 里调用接口发送验证码。"}),"\n",(0,a.jsx)(n.p,{children:"测试下："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:u,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:b,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"没啥问题。"}),"\n",(0,a.jsx)(n.p,{children:"我们可以用 useCallback 包裹下："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const sendCaptcha = useCallback(async function () {\n    const address = form.getFieldValue('email');\n    if(!address) {\n        return message.error('请输入邮箱地址');\n    }\n\n    const res = await registerCaptcha(address);\n    if(res.status === 201 || res.status === 200) {\n        message.success(res.data.data);\n    } else {\n        message.error(res.data.data || '系统繁忙，请稍后再试');\n    }\n}, []);\n"})}),"\n",(0,a.jsx)(n.p,{children:"这是减少不必要渲染的一种性能优化。"}),"\n",(0,a.jsx)(n.p,{children:"然后再来调用注册接口："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const onFinish = async (values: RegisterUser) => {\n    if(values.password !== values.confirmPassword) {\n        return message.error('两次密码不一致');\n    }\n    const res = await register(values);\n\n    if(res.status === 201 || res.status === 200) {\n        message.success('注册成功');\n\n    } else {\n        message.error(res.data.data || '系统繁忙，请稍后再试');\n    }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"测试下："}),"\n",(0,a.jsx)(n.p,{children:"填入信息，点击发送验证码："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:j,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"去邮箱里看一下验证码："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:g,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"填入验证码，点击注册："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:h,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"注册成功，数据库里也看到了这条记录："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:m,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"这样，注册的前后端流程就走完了。"}),"\n",(0,a.jsx)(n.p,{children:"然后我们给它加上跳转逻辑："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:x,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"把 onFinish 移到组件内，使用 useCallback 包裹。"}),"\n",(0,a.jsx)(n.p,{children:"然后调用 useNavigate 的 navigate 方法，注册成功后导航到登录页："}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const navigate = useNavigate();\n\n    const onFinish = useCallback(async (values: RegisterUser) => {\n        if(values.password !== values.confirmPassword) {\n            return message.error('两次密码不一致');\n        }\n        const res = await register(values);\n    \n        if(res.status === 201 || res.status === 200) {\n            message.success('注册成功');\n            setTimeout(() => {\n                navigate('/login');\n            }, 1500);\n        } else {\n            message.error(res.data.data || '系统繁忙，请稍后再试');\n        }\n    }, []);\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:p,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"登录也要加上导航，登录成功后导航到首页："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:o,alt:""})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const navigate = useNavigate();\n\nconst onFinish = useCallback(async (values: LoginUser) => {\n    const res = await login(values.username, values.password);\n\n    const { code, message: msg, data} = res.data;\n    if(res.status === 201 || res.status === 200) {\n        message.success('登录成功');\n\n        localStorage.setItem('access_token', data.accessToken);\n        localStorage.setItem('refresh_token', data.refreshToken);\n        localStorage.setItem('user_info', JSON.stringify(data.userInfo));\n\n        setTimeout(() => {\n            navigate('/');\n        }, 1000);\n    } else {\n        message.error(data || '系统繁忙，请稍后再试');\n    }\n}, []);\n"})}),"\n",(0,a.jsx)(n.p,{children:"还有这几个链接也要改成 router 的 Link："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:d,alt:""})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:l,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"测试下："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:i,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"最后，我们再来重构下代码："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:t,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"现在的代码都是平级放的，我们分几个目录："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)("img",{src:c,alt:""})}),"\n",(0,a.jsx)(n.p,{children:"添加 page 目录和 interface 目录，把对应的文件移动过去，然后修改下引用它的路径。"}),"\n",(0,a.jsx)(n.p,{children:"这样，登录和注册的前后端功能就都完成了。"}),"\n",(0,a.jsx)(n.p,{children:"案例代码在小册仓库："}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/QuarkGluonPlasma/nestjs-course-code/tree/main/meeting_room_booking_system_frontend_user",target:"_blank",rel:"noopener noreferrer",children:"用户端前端代码"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/QuarkGluonPlasma/nestjs-course-code/tree/main/meeting_room_booking_system_backend",target:"_blank",rel:"noopener noreferrer",children:"后端代码"})}),"\n",(0,a.jsxs)(n.h2,{id:"总结",children:["总结",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总结",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"这节我们打通了前后端，加上了登录、注册、首页等页面。"}),"\n",(0,a.jsx)(n.p,{children:"首先，引入了 React Router 来做路由，引入了 antd 来做 UI 组件库。"}),"\n",(0,a.jsx)(n.p,{children:"然后，引入了 axios 来发请求。"}),"\n",(0,a.jsx)(n.p,{children:"我们先在 postman 里测试了一遍接口，之后在页面里用 axios 调用了下。"}),"\n",(0,a.jsx)(n.p,{children:"经测试，发送邮件验证码正常，注册之后数据库也多了记录，登录成功之后 localStorage 也有了用户信息。"}),"\n",(0,a.jsx)(n.p,{children:"这样，注册登录就实现了完整的前后端功能。"}),"\n",(0,a.jsx)(n.p,{children:"下节，我们继续写其他页面。"})]})}function el(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(ei,{...e})}):ei(e)}let ed=el;el.__RSPRESS_PAGE_META={},el.__RSPRESS_PAGE_META["Nest%20%E9%80%9A%E5%85%B3%E7%A7%98%E7%B1%8D%20%20%E6%9C%80%E6%96%B0200%E7%AB%A0%2F116.%20%E4%BC%9A%E8%AE%AE%E5%AE%A4%E9%A2%84%E8%AE%A2%E7%B3%BB%E7%BB%9F%EF%BC%9A%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97--%20%E7%94%A8%E6%88%B7%E7%AB%AF%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2.md"]={toc:[{text:"总结",id:"总结",depth:2}],title:"116. 会议室预订系统：用户管理模块-- 用户端登录注册页面",headingTitle:"116. 会议室预订系统：用户管理模块-- 用户端登录注册页面",frontmatter:{}}}}]);