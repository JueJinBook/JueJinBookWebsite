"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["74954"],{932317:function(e,n,r){r.r(n),r.d(n,{default:()=>c});var t=r(552676),i=r(740453);function s(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",ol:"ol",li:"li",code:"code",h3:"h3",h4:"h4",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",pre:"pre",img:"img",strong:"strong"},(0,i.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"25metadata-篇-_-基于文件",children:["25.Metadata 篇 _ 基于文件",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#25metadata-篇-_-基于文件",children:"#"})]}),"\n",(0,t.jsxs)(n.h2,{id:"前言",children:["前言",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#前言",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"上篇我们讲到添加元数据的方法分为两类："}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["基于配置的元数据：在 ",(0,t.jsx)(n.code,{children:"layout.js"}),"或 ",(0,t.jsx)(n.code,{children:"page.js"}),"中导出一个静态 ",(0,t.jsx)(n.code,{children:"metadata"})," 对象或者一个动态的 ",(0,t.jsx)(n.code,{children:"generateMetadata"})," 函数。"]}),"\n",(0,t.jsx)(n.li,{children:"基于文件的元数据：添加一个静态或者动态生成的特殊文件"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"其中基于文件的元数据可以用来添加网站的应用图标、OG 图片、robots.txt、sitemap.xml、manifest.json。本篇我们详细讲解具体的用法和配置内容。"}),"\n",(0,t.jsxs)(n.h2,{id:"1-faviconicon-和-apple-icon",children:["1. favicon、icon 和 apple-icon",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-faviconicon-和-apple-icon",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"11-介绍",children:["1.1. 介绍",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#11-介绍",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Next.js 约定 ",(0,t.jsx)(n.code,{children:"favicon"}),"、",(0,t.jsx)(n.code,{children:"icon"}),"、",(0,t.jsx)(n.code,{children:"apple-icon"}),"文件都可以用来设置应用的图标。它们可以设置浏览器标签页中的图标、收藏夹（书签）中的图标、手机屏幕图标、搜索引擎结果中的图标等等。"]}),"\n",(0,t.jsx)(n.p,{children:"有两种方式可以设置图标："}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"使用静态文件"}),"\n",(0,t.jsx)(n.li,{children:"使用代码生成"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"让我们一一开始介绍。"}),"\n",(0,t.jsxs)(n.h3,{id:"12-使用静态文件",children:["1.2. 使用静态文件",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#12-使用静态文件",children:"#"})]}),"\n",(0,t.jsxs)(n.h4,{id:"121-文件约定",children:["1.2.1. 文件约定",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#121-文件约定",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["在 ",(0,t.jsx)(n.code,{children:"/app"}),"目录下放置一个名为 ",(0,t.jsx)(n.code,{children:"favicon"}),"、",(0,t.jsx)(n.code,{children:"icon"})," 或者 ",(0,t.jsx)(n.code,{children:"apple-icon"}),"图片文件即可设置图标。"]}),"\n",(0,t.jsxs)(n.p,{children:["它们之间的区别在于 ",(0,t.jsx)(n.code,{children:"favicon"})," 图片只能位于 ",(0,t.jsx)(n.code,{children:"app/"})," 根目录（当然这样说不太严谨，考虑到路由组的存在，准确的说应该是顶层）。",(0,t.jsx)(n.code,{children:"icon"})," 可以放在更深层的目录里，更精细的设置图标。",(0,t.jsx)(n.code,{children:"apple-icon"})," 则顾名思义，设置在苹果设备中显示的图标。这三种文件对应的图片格式、生效目录、和 ",(0,t.jsx)(n.code,{children:"rel"})," 属性如下："]}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:"文件名称"}),"\n",(0,t.jsx)(n.th,{children:"支持的图片格式"}),"\n",(0,t.jsx)(n.th,{children:"生效目录"}),"\n",(0,t.jsxs)(n.th,{children:["对应 ",(0,t.jsx)(n.code,{children:"<link>"})," 标签 ",(0,t.jsx)(n.code,{children:"rel"})," 属性"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/app-icons#favicon",target:"_blank",rel:"noopener noreferrer",children:"favicon"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:".ico"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app/"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'<link rel="icon" />'})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/app-icons#icon",target:"_blank",rel:"noopener noreferrer",children:"icon"})}),"\n",(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:".ico"}),"、",(0,t.jsx)(n.code,{children:".jpg"}),"、",(0,t.jsx)(n.code,{children:".jpeg"}),"、",(0,t.jsx)(n.code,{children:".png"}),"、",(0,t.jsx)(n.code,{children:".svg"})]}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app/**/*"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'<link rel="icon" />'})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/app-icons#apple-icon",target:"_blank",rel:"noopener noreferrer",children:"apple-icon"})}),"\n",(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:".jpg"}),"、",(0,t.jsx)(n.code,{children:".jpeg"}),"、",(0,t.jsx)(n.code,{children:".png"})]}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app/**/*"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'<link rel="apple-touch-icon" />'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h4,{id:"122-favicon",children:["1.2.2. favicon",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#122-favicon",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["favicon 是 favorites icon 的缩写，用于设置网站或网页相关的图标。最早定义 favicon 的方式是将一个名为 ",(0,t.jsx)(n.code,{children:"favicon.ico"}),"的文件放在服务器根目录下，浏览器会在加载网页的时候，请求 ",(0,t.jsx)(n.code,{children:"/favicon.ico"}),"文件作为图标。后来才出现了使用 ",(0,t.jsx)(n.code,{children:"<link>"})," 标签这种更为灵活的方法："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link rel="icon" href="/favicon.ico" />\n'})}),"\n",(0,t.jsx)(n.p,{children:"目前大多数浏览器都支持这两种方法，在 Next.js 中分别对应着使用 favicon 和使用 icon 文件。"}),"\n",(0,t.jsxs)(n.p,{children:["在 ",(0,t.jsx)(n.code,{children:"/app"}),"下添加一个名为 ",(0,t.jsx)(n.code,{children:"favicon.ico"}),"的图片文件，对应 HTML 输出为："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link rel="icon" href="/favicon.ico" sizes="any" />\n'})}),"\n",(0,t.jsxs)(n.p,{children:["注意其中 ",(0,t.jsx)(n.code,{children:'sizes="any"'}),"，这是为了避免一个",(0,t.jsx)(n.a,{href:"https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs",target:"_blank",rel:"noopener noreferrer",children:"浏览器 bug"})," 而特意这样写的。添加文件后，你可以通过访问 ",(0,t.jsx)(n.code,{children:"/favicon.ico"}),"（对应到本地开发的时候，地址是 ",(0,t.jsx)(n.code,{children:"http://localhost:3000/favicon.ico"})," ）查看该图标文件。该图标默认会应用于网站所有路由，如果想更细粒度的控制某个网页的图标，那就用 icon。"]}),"\n",(0,t.jsxs)(n.h4,{id:"123-icon",children:["1.2.3. icon",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#123-icon",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["添加一个 ",(0,t.jsx)(n.code,{children:"icon.(ico|jpg|jpeg|png|svg)"}),"图片文件，对应 HTML 输出为："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link\n  rel="icon"\n  href="/icon?<generated>"\n  type="image/<generated>"\n  sizes="<generated>"\n/>\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"124-apple-icon",children:["1.2.4. apple-icon",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#124-apple-icon",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["apple-icon，顾名思义，针对苹果设备使用的图标，用于将网页添加到 iPhone 或 iPad 屏幕快捷方式时使用的图标。添加一个 ",(0,t.jsx)(n.code,{children:"apple-icon.(jpg|jpeg|png)"}),"图片文件，对应 HTML 输出为："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link\n  rel="apple-touch-icon"\n  href="/apple-icon?<generated>"\n  type="image/<generated>"\n  sizes="<generated>"\n/>\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"125-行为",children:["1.2.5. 行为",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#125-行为",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["你可以通过在文件名中添加数字后缀设置多个图标，比如 ",(0,t.jsx)(n.code,{children:"icon1.png"}),"、",(0,t.jsx)(n.code,{children:"icon2.png"}),"、",(0,t.jsx)(n.code,{children:"apple-icon1.png"}),"、",(0,t.jsx)(n.code,{children:"apple-icon2.png"}),"。"]}),"\n",(0,t.jsx)(n.p,{children:"为什么会需要多个图标呢？我们在查看页面源码的时候，经常会看到这样的代码："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">\n<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">\n'})}),"\n",(0,t.jsx)(n.p,{children:"根据设备、应用、场景的不同，会使用不同尺寸大小的图片，比如不同的浏览器、不同的场景（标签、Google 搜索结果、书签、移动端图标）、不同的系统如 IOS 和 Windows 使用的图片大小都可能不同。"}),"\n",(0,t.jsxs)(n.p,{children:["而生成的 ",(0,t.jsx)(n.code,{children:"<link>"})," 标签的属性如 ",(0,t.jsx)(n.code,{children:"rel"}),"、",(0,t.jsx)(n.code,{children:"href"}),"、",(0,t.jsx)(n.code,{children:"type"}),"、",(0,t.jsx)(n.code,{children:"sizes"}),"是根据图标类型和文件内容生成的，比如一个 32x32 大小的 ",(0,t.jsx)(n.code,{children:".png"}),"图标生成的属性有 ",(0,t.jsx)(n.code,{children:'type="image/png"'}),"和 ",(0,t.jsx)(n.code,{children:'sizes="32x32"'}),"。"]}),"\n",(0,t.jsx)(n.p,{children:"你可以使用这两个网站帮助生成 icon："}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://realfavicongenerator.net/",target:"_blank",rel:"noopener noreferrer",children:"https://realfavicongenerator.net/"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.favicon.cc/",target:"_blank",rel:"noopener noreferrer",children:"https://www.favicon.cc/"})}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"13-使用代码生成",children:["1.3. 使用代码生成",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#13-使用代码生成",children:"#"})]}),"\n",(0,t.jsxs)(n.h4,{id:"131-介绍",children:["1.3.1. 介绍",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#131-介绍",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["除了直接使用图片文件，你也可以用代码生成图标。依然是新建一个名为 ",(0,t.jsx)(n.code,{children:"icon"})," 或 ",(0,t.jsx)(n.code,{children:"apple-icon"}),"的文件，不过这次的后缀是 ",(0,t.jsx)(n.code,{children:".js"}),"、",(0,t.jsx)(n.code,{children:".ts"}),"、",(0,t.jsx)(n.code,{children:".tsx"}),"。"]}),"\n",(0,t.jsxs)(n.p,{children:["最简单的生成一个图标的方式是通过 ",(0,t.jsx)(n.code,{children:"next/og"}),"的 ",(0,t.jsx)(n.code,{children:"ImageResponse"})," API，使用示例如下："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/icon.js\nimport { ImageResponse } from 'next/og'\n \n// 路由段配置\nexport const runtime = 'edge'\n \n// 图片 metadata\nexport const size = {\n  width: 32,\n  height: 32,\n}\nexport const contentType = 'image/png'\n \n// 图片生成\nexport default function Icon() {\n  return new ImageResponse(\n    (\n      // ImageResponse JSX 元素\n      <div\n        style={{\n          fontSize: 24,\n          background: 'black',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: 'white',\n        }}\n      >\n        A\n      </div>\n    ),\n    // ImageResponse options\n    {\n      // 方便复用 size\n      ...size,\n    }\n  )\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应输出的 HTML 为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link rel="icon" href="/icon?<generated>" type="image/png" sizes="32x32" />\n'})}),"\n",(0,t.jsx)(n.p,{children:"效果为："}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)("img",{src:"data:image/webp;base64,UklGRvgDAABXRUJQVlA4IOwDAABQIQCdASr0AVYAPp1Ink0lo6KiIXIK0LATiWlu4W5xG/OM6j5kQwCTfQR2VyruFWlWZz9Akbdwt5243GUjygv+MccccccccccccccccTesWYfIK+7jFFIgOkDSpoWdR+jKewHZK/hHV6Rcb8AVPRYVVVupH1dYLDRrzIiznJ2xyYDSY2aNHu4h1zK64RhLB6Uf80zsLWbtrv3Swl3sFqYASQgbqwBYjCMonU+t7Bgv+lvsKXvp7nqQU+1aGr4KImL/+rnmcOiLqunal85RjNy8j8cPsVQs3JMQEkIG6uq6dqYASBIcha56ztZnGVLgYFN0TaCIbIBzAr5FSImapLhHJiXTtTACSEDdXVdO0ocE1w8CAAD+/gA8EjDSE6WBYBksN3DAmf1AXvEwqvFHixMhCa+0q+otymvrxMr7/wDE6WDOFLyNfdauGJa48N670rY0W0b+Msyi8UrT2S9jAUeW8dKb0/v7Cfmfo/BVPGiYzNi7hnw+2EODX1Bne//o8o5f5rOgkpndWlzopdRSZOlF62F529vAy3vDh8KZbtO/hXpu9dK1QiZva/pX9E6PyTJQL/oTb5MN19YvZb8tDETH6BK9EAxnT5biLgl6OuHbbbPlqsrnnzQV3iou3WQvmit8kLYfRVcHK6ey/7Afo8MCJyKl56e8YxW7r8D8qqttmIyCqU+KVgYH4/vrHuLrOSqG7cN+ZmjitAOPMDKo4W7E9xfJvo4Ol1tY2zRwW+1H5a9uN0mtsHBRpLHhDB9lSt9hmagz7PNbVJ5vLuJEQQGDsb4nM+HRsT4Bq9wZ0m/OJ0PWrQE1EjifQhq50Plw2k4hkdjoytB81FNPjXQrfmXL/evo8k/mxtxf+ONkVNbOFCrVXTFhk9UtrG/DHOycAXYH7YIgTrteiHM3NvkSZqWnev04Ou8M745b3flCRki7Y7CVFZTaFehkRO9Yo9AhG5B/oc4kM0N8ASjadi9aRDVxRKMqEbIQIjFR2N2DWMO0Mqkcg5cFs1sLamXwuH9meo8e8IBABuWlbmp43w1r0ABvPIB9iOK11VPbf0Hze7Wt/409uLS7ZGEqtlyFoFpu5gVznMba+0prWaAGdM4bUqIG1R421HmT6NE7seFvyGzv3UkiemZGg8lJxRjupEFgPdbrrRNHhPA8o/sC5CZjQ/IUTkCcFbAVKWI0dU1utXB2qbS0xwKyPkCm8H6yu/pqWDkzYvfGPU+zjz9d26AJ7Q+MVpMgnnIyPS3pNcI2Oz7duS8e5a1ETxlyMqnXY4fuB8/0qPEQoMLbQzjE8ZKAom1AbiF6EcYUSlbZ+tTO89gUpQwTdA1a08KjFrRAAA==",alt:"image.png"})}),"\n",(0,t.jsxs)(n.p,{children:["第一次看这个例子的时候，可能会有很多疑问，",(0,t.jsx)(n.code,{children:"ImageResponse"}),"是什么？怎么用？其中的写法怎么这么奇怪？配置项有哪些等等。不用着急，我们会一一讲解。"]}),"\n",(0,t.jsx)(n.p,{children:"先说几点注意事项："}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["从 v14.0.0 起，",(0,t.jsx)(n.code,{children:"ImageResponse"})," 从 ",(0,t.jsx)(n.code,{children:"next/server"}),"转移到 ",(0,t.jsx)(n.code,{children:"next/og"}),"，如果出现导入错误，那就升级版本或者使用 ",(0,t.jsx)(n.code,{children:"next/server"})]}),"\n",(0,t.jsx)(n.li,{children:"默认情况下，生成的图标是静态优化的，也就是说会在构建的时候生成并缓存，除非使用了动态函数（比如 cookies()、headers() 这些）或者未缓存数据。"}),"\n",(0,t.jsxs)(n.li,{children:["你不能生成 ",(0,t.jsx)(n.code,{children:"favicon"})," 图标。使用 icon 或者 favicon.ico 静态文件代替。"]}),"\n",(0,t.jsxs)(n.li,{children:["你可以使用 ",(0,t.jsx)(n.code,{children:"generateImageMetadata"})," API 在一个文件中生成多个 Icon。（好家伙，又多了一个要介绍的 API）"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"接下来我们详细介绍下涉及到的 API。"}),"\n",(0,t.jsxs)(n.h4,{id:"132-默认导出函数",children:["1.3.2. 默认导出函数",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#132-默认导出函数",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["默认导出函数接收一个可选参数 ",(0,t.jsx)(n.code,{children:"params"}),"，这是一个包含动态路由参数的对象，与上一篇介绍 ",(0,t.jsx)(n.code,{children:"generateMetadata"})," 中的 ",(0,t.jsx)(n.code,{children:"params"})," 参数一样："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"// app/shop/[slug]/icon.js\nexport default function Image({ params }) {\n  // ...\n}\n"})}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Route"})}),"\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"URL"})}),"\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"params"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app/shop/icon.js"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/shop"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{}"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app/shop/[slug]/icon.js"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/shop/1"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{ slug: '1' }"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app/shop/[tag]/[item]/icon.js"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/shop/1/2"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{ tag: '1', item: '2' }"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"app/shop/[...slug]/icon.js"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/shop/1/2"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{ slug: ['1', '2'] }"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["函数应该返回一个  ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Blob",target:"_blank",rel:"noopener noreferrer",children:"Blob"})," | ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",target:"_blank",rel:"noopener noreferrer",children:"ArrayBuffer"})," | ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray",target:"_blank",rel:"noopener noreferrer",children:"TypedArray"})," | ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/DataView",target:"_blank",rel:"noopener noreferrer",children:"DataView"})," | ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ReadableStream",target:"_blank",rel:"noopener noreferrer",children:"ReadableStream"})," | ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Response",target:"_blank",rel:"noopener noreferrer",children:"Response"})," 类型的值。"]}),"\n",(0,t.jsxs)(n.h4,{id:"133-图片元数据配置",children:["1.3.3. 图片元数据配置",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#133-图片元数据配置",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["除了导出图片文件本身，你也可以选择性的导出",(0,t.jsx)(n.code,{children:"size"}),"、",(0,t.jsx)(n.code,{children:"contentType"})," 变量来设置该图片的元数据："]}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Option"})}),"\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#size",target:"_blank",rel:"noopener noreferrer",children:"size"})}),"\n",(0,t.jsx)(n.td,{children:"{ width: number; height: number }"}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#contenttype",target:"_blank",rel:"noopener noreferrer",children:"contentType"})}),"\n",(0,t.jsxs)(n.td,{children:["string (具体有哪些值，参考 ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/MIME_types#image_types",target:"_blank",rel:"noopener noreferrer",children:"image MIME type"}),"）"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["设置 ",(0,t.jsx)(n.code,{children:"size"}),"："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// icon.js | apple-icon.js\nexport const size = { width: 32, height: 32 }\n \nexport default function Icon() {}\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应 HTML 输出为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link rel="icon" sizes="32x32" />\n'})}),"\n",(0,t.jsxs)(n.p,{children:["设置 ",(0,t.jsx)(n.code,{children:"contentType"}),"："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// icon.js | apple-icon.js\nexport const contentType = 'image/png'\n \nexport default function Icon() {}\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应 HTML 输出为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link rel="icon" type="image/png" />\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"134-路由段配置",children:["1.3.4. 路由段配置",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#134-路由段配置",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"icon"})," 和 ",(0,t.jsx)(n.code,{children:"apple-icon"})," 其实是特殊的路由处理程序，所以它们也可以像其他页面和布局一样，使用路由段配置："]}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Option"})}),"\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n",(0,t.jsx)(n.th,{children:"默认值"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#dynamic",target:"_blank",rel:"noopener noreferrer",children:"dynamic"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'auto' &#124; 'force-dynamic' &#124; 'error' &#124; 'force-static'"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'auto'"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#revalidate",target:"_blank",rel:"noopener noreferrer",children:"revalidate"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false &#124; 'force-cache' &#124; 0 &#124; number"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#runtime",target:"_blank",rel:"noopener noreferrer",children:"runtime"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'nodejs' &#124; 'edge'"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'nodejs'"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#preferredregion",target:"_blank",rel:"noopener noreferrer",children:"preferredRegion"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'auto' &#124; 'global' &#124; 'home' &#124; string &#124; string[]"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'auto'"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"使用示例如下："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/icon.js\nexport const runtime = 'edge'\n \nexport default function Icon() {}\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"14-imageresponse",children:["1.4. ImageResponse",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#14-imageresponse",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["关于 ",(0,t.jsx)(n.code,{children:"ImageResponse"})," 构造函数，它可以帮助你使用 JSX 和 CSS 生成动态图片，这对于生成社交媒体图片（Open Graph 图像、Twitter 卡片等）非常有用，因为这些图片往往依赖于动态的内容。"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ImageResponse"})," 的 Type 为："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { ImageResponse } from 'next/og'\n \nnew ImageResponse(\n  element: ReactElement,\n  options: {\n    width?: number = 1200\n    height?: number = 630\n    emoji?: 'twemoji' | 'blobmoji' | 'noto' | 'openmoji' = 'twemoji',\n    fonts?: {\n      name: string,\n      data: ArrayBuffer,\n      weight: number,\n      style: 'normal' | 'italic'\n    }[]\n    debug?: boolean = false\n \n    // Options that will be passed to the HTTP response\n    status?: number = 200\n    statusText?: string\n    headers?: Record<string, string>\n  },\n)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["在具体的实现上，其实用的是 Vercel 自家产品 ",(0,t.jsx)(n.a,{href:"https://github.com/vercel/satori",target:"_blank",rel:"noopener noreferrer",children:"satori"}),"，这是一个支持 JSX，将 HTML 和 CSS 转为 SVG 的库，所以关于 ImageResponse 具体如何写，支持哪些 HTML 和 CSS，参考 ",(0,t.jsx)(n.a,{href:"https://github.com/vercel/satori#html-elements",target:"_blank",rel:"noopener noreferrer",children:"satori 的文档"}),"即可。"]}),"\n",(0,t.jsxs)(n.p,{children:["还有一个 ",(0,t.jsx)(n.code,{children:"generateImageMetadata"})," API ，搭配默认导出函数，可以生成多张图片，下节结束后会讲到。"]}),"\n",(0,t.jsxs)(n.h2,{id:"2-opengraph-image-和-twitter-image",children:["2. opengraph-image 和 twitter-image",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-opengraph-image-和-twitter-image",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"21-介绍",children:["2.1. 介绍",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#21-介绍",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["关于 opengraph 的具体作用可以参考我写的《",(0,t.jsx)(n.a,{href:"https://juejin.cn/post/7073416301720371213",target:"_blank",rel:"noopener noreferrer",children:"VuePress 博客之 SEO 优化（四） Open Graph protocol"}),"》。"]}),"\n",(0,t.jsx)(n.p,{children:"简单的来说，按照 Open Graph Protocol 这个协议描述页面信息，社交网站（如 Facebook）就会按照页面上 og 标签的内容呈现给用户。twitter-image 作用类似，只不过是用于 twitter。"}),"\n",(0,t.jsx)(n.p,{children:"使用方式有两种，一种是静态图片文件，一种是使用代码生成。"}),"\n",(0,t.jsxs)(n.h3,{id:"22-静态文件",children:["2.2. 静态文件",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#22-静态文件",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"与添加图标文件一样，直接在路由文件夹下添加对应的图片即可，只不过约定的文件名和支持的格式不同："}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:"文件名称"}),"\n",(0,t.jsx)(n.th,{children:"支持的图片格式"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#opengraph-image",target:"_blank",rel:"noopener noreferrer",children:"opengraph-image"})}),"\n",(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:".jpg"}),"、",(0,t.jsx)(n.code,{children:".jpeg"}),"、 ",(0,t.jsx)(n.code,{children:".png"}),"、 ",(0,t.jsx)(n.code,{children:".gif"})]}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#twitter-image",target:"_blank",rel:"noopener noreferrer",children:"twitter-image"})}),"\n",(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:".jpg"}),"、",(0,t.jsx)(n.code,{children:".jpeg"}),"、",(0,t.jsx)(n.code,{children:".png"}),"、",(0,t.jsx)(n.code,{children:".gif"})]}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#opengraph-imagealttxt",target:"_blank",rel:"noopener noreferrer",children:"opengraph-image.alt"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:".txt"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#twitter-imagealttxt",target:"_blank",rel:"noopener noreferrer",children:"twitter-image.alt"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:".txt"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h4,{id:"221-opengraph-image",children:["2.2.1. opengraph-image",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#221-opengraph-image",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["添加一个 ",(0,t.jsx)(n.code,{children:"opengraph-image.(jpg|jpeg|png|gif)"}),"图片文件，对应 HTML 输出为："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta property="og:image" content="<generated>" />\n<meta property="og:image:type" content="<generated>" />\n<meta property="og:image:width" content="<generated>" />\n<meta property="og:image:height" content="<generated>" />\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"222-twitter-image",children:["2.2.2 twitter-image",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#222-twitter-image",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["添加一个 ",(0,t.jsx)(n.code,{children:"twitter-image.(jpg|jpeg|png|gif)"}),"图片文件，对应 HTML 输出为："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta name="twitter:image" content="<generated>" />\n<meta name="twitter:image:type" content="<generated>" />\n<meta name="twitter:image:width" content="<generated>" />\n<meta name="twitter:image:height" content="<generated>" />\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"223-opengraph-imagealttxt",children:["2.2.3. opengraph-image.alt.txt",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#223-opengraph-imagealttxt",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["当使用 ",(0,t.jsx)(n.code,{children:"opengraph-image.(jpg|jpeg|png|gif)"}),"图片的时候，再添加一个 ",(0,t.jsx)(n.code,{children:"opengraph-image.alt.txt"}),"作为该图片的 alt 文字："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"About Acme\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应输出的 HTML 为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta property="og:image:alt" content="About Acme" />\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"224-twitter-imagealttxt",children:["2.2.4. twitter-image.alt.txt",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#224-twitter-imagealttxt",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["当使用 ",(0,t.jsx)(n.code,{children:"twitter-image.(jpg|jpeg|png|gif)"}),"图片的时候，再添加一个 ",(0,t.jsx)(n.code,{children:"twitter-image.alt.txt"}),"作为该图片的 alt 文字："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"About Acme\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应输出的 HTML 为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta property="twitter:image:alt" content="About Acme" />\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"23-代码生成",children:["2.3. 代码生成",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#23-代码生成",children:"#"})]}),"\n",(0,t.jsxs)(n.h4,{id:"231-介绍",children:["2.3.1 介绍",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#231-介绍",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"想必你已经知道该怎么做了："}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:"文件名"}),"\n",(0,t.jsx)(n.th,{children:"支持的文件格式"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"opengraph-image"}),"\n",(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:".js"}),"、",(0,t.jsx)(n.code,{children:".ts"}),"、",(0,t.jsx)(n.code,{children:".tsx"})]}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:"twitter-image"}),"\n",(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:".js"}),"、",(0,t.jsx)(n.code,{children:".ts"}),"、",(0,t.jsx)(n.code,{children:".tsx"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"代码与上节的图标图片生成类似，默认导出函数、路由段配置都相同，图片元数据配置上略有差别。示例代码如下："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/about/opengraph-image.js\nimport { ImageResponse } from 'next/og'\n \nexport const runtime = 'edge'\n\nexport const alt = 'About Acme'\nexport const size = {\n  width: 1200,\n  height: 630,\n}\n \nexport const contentType = 'image/png'\n \nexport default async function Image() {\n  // Font\n  const interSemiBold = fetch(\n    new URL('./Inter-SemiBold.ttf', import.meta.url)\n  ).then((res) => res.arrayBuffer())\n \n  return new ImageResponse(\n    (\n      <div\n        style={{\n          fontSize: 128,\n          background: 'white',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        About Acme\n      </div>\n    ),\n    {\n      ...size,\n      fonts: [\n        {\n          name: 'Inter',\n          data: await interSemiBold,\n          style: 'normal',\n          weight: 400,\n        },\n      ],\n    }\n  )\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"这个例子顺便演示了如何使用字体文件生成图片，对应输出的 HTML 为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta property="og:image" content="<generated>" />\n<meta property="og:image:alt" content="About Acme" />\n<meta property="og:image:type" content="image/png" />\n<meta property="og:image:width" content="1200" />\n<meta property="og:image:height" content="630" />\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"232-图片元数据配置",children:["2.3.2. 图片元数据配置",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#232-图片元数据配置",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["除了导出图片文件本身，你也可以选择性的导出 ",(0,t.jsx)(n.code,{children:"alt"}),"、",(0,t.jsx)(n.code,{children:"size"}),"、",(0,t.jsx)(n.code,{children:"contentType"})," 变量来设置该图片的元数据："]}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Option"})}),"\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#alt",target:"_blank",rel:"noopener noreferrer",children:"alt"})}),"\n",(0,t.jsx)(n.td,{children:"string"}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#size",target:"_blank",rel:"noopener noreferrer",children:"size"})}),"\n",(0,t.jsx)(n.td,{children:"{ width: number; height: number }"}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image#contenttype",target:"_blank",rel:"noopener noreferrer",children:"contentType"})}),"\n",(0,t.jsxs)(n.td,{children:["string (具体有哪些值，参考 ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/MIME_types#image_types",target:"_blank",rel:"noopener noreferrer",children:"image MIME type"}),"）"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["相比图标，多了一个 ",(0,t.jsx)(n.code,{children:"alt"})," 变量。设置 ",(0,t.jsx)(n.code,{children:"alt"}),"："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// opengraph-image.js | twitter-image.js\nexport const alt = 'My images alt text'\n \nexport default function Image() {}\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应 HTML 输出为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta property="og:image:alt" content="My images alt text" />\n'})}),"\n",(0,t.jsxs)(n.p,{children:["设置 ",(0,t.jsx)(n.code,{children:"size"}),"："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// opengraph-image.js | twitter-image.js\nexport const size = { width: 1200, height: 630 }\n \nexport default function Image() {}\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应 HTML 输出为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta property="og:image:width" content="1200" />\n<meta property="og:image:height" content="630" />\n'})}),"\n",(0,t.jsxs)(n.p,{children:["设置 ",(0,t.jsx)(n.code,{children:"contentType"}),"："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"export const contentType = 'image/png'\n \nexport default function Image() {}\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应 HTML 输出为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<meta property="og:image:type" content="image/png" />\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"233-使用外部数据",children:["2.3.3. 使用外部数据",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#233-使用外部数据",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["图标的生成往往不需要使用外部数据，但是 opengraph-image 和 twitter-image 可能需要，比如当我们访问 ",(0,t.jsx)(n.code,{children:"/posts/1"}),"的时候，可以获取该文章的信息，然后使用文章的标题生成一张图片："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/posts/[slug]/opengraph-image.js\nimport { ImageResponse } from 'next/og'\n \nexport const runtime = 'edge'\n \nexport const alt = 'About Acme'\nexport const size = {\n  width: 1200,\n  height: 630,\n}\nexport const contentType = 'image/png'\n \nexport default async function Image({ params }) {\n  const post = await fetch(`https://.../posts/${params.slug}`).then((res) =>\n    res.json()\n  )\n \n  return new ImageResponse(\n    (\n      <div\n        style={{\n          fontSize: 48,\n          background: 'white',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        {post.title}\n      </div>\n    ),\n    {\n      ...size,\n    }\n  )\n}\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"3-generateimagemetadata-生成多张图片",children:["3. generateImageMetadata 生成多张图片",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-generateimagemetadata-生成多张图片",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["使用 ",(0,t.jsx)(n.code,{children:"generateImageMetadata"})," 可以生成一张图片的不同版本或者返回多张图片。使用语法如下："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// icon.js\nexport function generateImageMetadata({ params }) {\n  // ...\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"params"})," 跟本篇“默认导出函数”这节中的 ",(0,t.jsx)(n.code,{children:"params"})," 用法相同，用于获取动态路由参数，就不多说了。"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"generateImageMetadata"})," 函数应该返回一个包含图片元数据的对象数组。每一个对象必须包含一个 ",(0,t.jsx)(n.code,{children:"id"})," 值:"]}),"\n",(0,t.jsxs)(n.table,{children:["\n",(0,t.jsxs)(n.thead,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Image Metadata Object"})}),"\n",(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.tbody,{children:["\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"id"})}),"\n",(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"string"}),"（必传）"]}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"alt"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"size"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{ width: number; height: number }"})}),"\n"]}),"\n",(0,t.jsxs)(n.tr,{children:["\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"contentType"})}),"\n",(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"使用示例如下："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// icon.js\nimport { ImageResponse } from 'next/og'\n \nexport function generateImageMetadata() {\n  return [\n    {\n      contentType: 'image/png',\n      size: { width: 48, height: 48 },\n      id: 'small',\n    },\n    {\n      contentType: 'image/png',\n      size: { width: 72, height: 72 },\n      id: 'medium',\n    },\n  ]\n}\n \nexport default function Icon({ id }) {\n  return new ImageResponse(\n    (\n      <div\n        style={{\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 88,\n          background: '#000',\n          color: '#fafafa',\n        }}\n      >\n        Icon {id}\n      </div>\n    )\n  )\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["在这个例子中，我们生成了不同尺寸的图标图片。使用 ",(0,t.jsx)(n.code,{children:"generateImageMetadata"})," 时，默认导出函数的 props 又会多一个 id 参数，可以根据 id 生成不同的图标内容。",(0,t.jsx)(n.code,{children:"generateImageMetadata"}),"以数组形式定义了生成的图片数量和元数据，然后遍历该数组，将 id 参数传入默认导出函数，生成多张图片。"]}),"\n",(0,t.jsx)(n.p,{children:"我们再举一个贴近实际开发的例子，假设一个产品有多张说明图，根据网址参数获取产品说明图数据，生成多张 Open Graph 图片："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/products/[id]/opengraph-image.js\nimport { ImageResponse } from 'next/og'\nimport { getCaptionForImage, getOGImages } from '@/app/utils/images'\n \nexport async function generateImageMetadata({ params }) {\n  const images = await getOGImages(params.id)\n \n  return images.map((image, idx) => ({\n    id: idx,\n    size: { width: 1200, height: 600 },\n    alt: image.text,\n    contentType: 'image/png',\n  }))\n}\n \nexport default async function Image({ params, id }) {\n  const productId = params.id\n  const imageId = id\n  // 获取图片说明\n  const text = await getCaptionForImage(productId, imageId)\n \n  return new ImageResponse(\n    (\n      <div\n        style={\n          {\n            // ...\n          }\n        }\n      >\n        {text}\n      </div>\n    )\n  )\n}\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"4-robotstxt",children:["4. robots.txt",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-robotstxt",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"41-介绍",children:["4.1. 介绍",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#41-介绍",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"robots.txt 用于告诉搜索引擎可以爬取网站中的哪些 URL。使用 robots.txt 也有两种方式，一种是使用静态文件，一种是使用代码生成。"}),"\n",(0,t.jsxs)(n.h3,{id:"42-静态文件",children:["4.2. 静态文件",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#42-静态文件",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"app/"})," 目录下直接添加一个 ",(0,t.jsx)(n.code,{children:"robots.txt"})," 即可："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"User-Agent: *\nAllow: /\nDisallow: /private/\nSitemap: https://acme.com/sitemap.xml\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"43-代码生成",children:["4.3. 代码生成",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#43-代码生成",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["添加一个 ",(0,t.jsx)(n.code,{children:"robots.js"})," 或 ",(0,t.jsx)(n.code,{children:"robots.ts"}),"文件，该文件导出一个 Robots对象。使用示例如下："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/robots.js\nexport default function robots() {\n  return {\n    rules: {\n      userAgent: '*',\n      allow: '/',\n      disallow: '/private/',\n    },\n    sitemap: 'https://acme.com/sitemap.xml',\n  }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"输出内容为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"User-Agent: *\nAllow: /\nDisallow: /private/\nSitemap: https://acme.com/sitemap.xml\n"})}),"\n",(0,t.jsx)(n.p,{children:"如果使用 TypeScript，Robots 对象的 type 为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type Robots = {\n  rules:\n    | {\n        userAgent?: string | string[]\n        allow?: string | string[]\n        disallow?: string | string[]\n        crawlDelay?: number\n      }\n    | Array<{\n        userAgent: string | string[]\n        allow?: string | string[]\n        disallow?: string | string[]\n        crawlDelay?: number\n      }>\n  sitemap?: string | string[]\n  host?: string\n}\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"5-sitemapxml",children:["5. sitemap.xml",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-sitemapxml",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"51-介绍",children:["5.1. 介绍",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#51-介绍",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"sitemap.xml"}),"，顾名思义，站点地图，用于帮助搜索引擎更高效的爬取网站。使用方式依然是两种，一种使用静态文件，一种使用代码生成。"]}),"\n",(0,t.jsxs)(n.h3,{id:"52-静态文件",children:["5.2. 静态文件",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#52-静态文件",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"app/sitemap.xml"}),"："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n  <url>\n    <loc>https://acme.com</loc>\n    <lastmod>2023-04-06T15:02:24.021Z</lastmod>\n    <changefreq>yearly</changefreq>\n    <priority>1</priority>\n  </url>\n  <url>\n    <loc>https://acme.com/about</loc>\n    <lastmod>2023-04-06T15:02:24.021Z</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.8</priority>\n  </url>\n  <url>\n    <loc>https://acme.com/blog</loc>\n    <lastmod>2023-04-06T15:02:24.021Z</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.5</priority>\n  </url>\n</urlset>\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"53-代码生成",children:["5.3. 代码生成",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#53-代码生成",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["添加一个 ",(0,t.jsx)(n.code,{children:"sitemap.js"}),"或 ",(0,t.jsx)(n.code,{children:"sitemap.ts"}),"文件，该文件导出一个 Sitemap 对象。使用示例如下："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/sitemap.js\nexport default function sitemap() {\n  return [\n    {\n      url: 'https://acme.com',\n      lastModified: new Date(),\n      changeFrequency: 'yearly',\n      priority: 1,\n    },\n    {\n      url: 'https://acme.com/about',\n      lastModified: new Date(),\n      changeFrequency: 'monthly',\n      priority: 0.8,\n    },\n    {\n      url: 'https://acme.com/blog',\n      lastModified: new Date(),\n      changeFrequency: 'weekly',\n      priority: 0.5,\n    },\n  ]\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"对应的输出为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n  <url>\n    <loc>https://acme.com</loc>\n    <lastmod>2023-04-06T15:02:24.021Z</lastmod>\n    <changefreq>yearly</changefreq>\n    <priority>1</priority>\n  </url>\n  <url>\n    <loc>https://acme.com/about</loc>\n    <lastmod>2023-04-06T15:02:24.021Z</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.8</priority>\n  </url>\n  <url>\n    <loc>https://acme.com/blog</loc>\n    <lastmod>2023-04-06T15:02:24.021Z</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.5</priority>\n  </url>\n</urlset>\n'})}),"\n",(0,t.jsx)(n.p,{children:"如果使用 TypeScript，Sitemap 对象的 type 为："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type Sitemap = Array<{\n  url: string\n  lastModified?: string | Date\n  changeFrequency?:\n    | 'always'\n    | 'hourly'\n    | 'daily'\n    | 'weekly'\n    | 'monthly'\n    | 'yearly'\n    | 'never'\n  priority?: number\n}>\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"6-manifestjson",children:["6. manifest.json",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-manifestjson",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"61-介绍",children:["6.1. 介绍",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#61-介绍",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["开发 PWA 时会要求网站提供一个",(0,t.jsx)(n.code,{children:"manifest.json"}),"文件设置网站的相关信息。使用方法依然是两种，一种静态文件，一种代码生成，直接看例子吧！"]}),"\n",(0,t.jsxs)(n.h3,{id:"62-静态文件",children:["6.2. 静态文件",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#62-静态文件",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"app/manifest.json"})," | ",(0,t.jsx)(n.code,{children:"app/manifest.webmanifest"}),"："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "My Next.js Application",\n  "short_name": "Next.js App",\n  "description": "An application built with Next.js",\n  "start_url": "/"\n  // ...\n}\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"63-代码生成",children:["6.3. 代码生成",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#63-代码生成",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["添加一个 ",(0,t.jsx)(n.code,{children:"manifest.js"}),"或 ",(0,t.jsx)(n.code,{children:"manifest.ts"}),"文件，该文件返回一个 Manifest 对象。使用示例如下："]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// app/manifest.js\nexport default function manifest() {\n  return {\n    name: 'Next.js App',\n    short_name: 'Next.js App',\n    description: 'Next.js App',\n    start_url: '/',\n    display: 'standalone',\n    background_color: '#fff',\n    theme_color: '#fff',\n    icons: [\n      {\n        src: '/favicon.ico',\n        sizes: 'any',\n        type: 'image/x-icon',\n      },\n    ],\n  }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Manifest 对象具体有哪些字段参考",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/Manifest",target:"_blank",rel:"noopener noreferrer",children:" MDN 文档"}),"。"]}),"\n",(0,t.jsxs)(n.h2,{id:"参考链接",children:["参考链接",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#参考链接",children:"#"})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/optimizing/metadata",target:"_blank",rel:"noopener noreferrer",children:"Optimizing: Metadata"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/app-icons",target:"_blank",rel:"noopener noreferrer",children:"Metadata Files: favicon, icon, and apple-icon"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/manifest",target:"_blank",rel:"noopener noreferrer",children:"Metadata Files: manifest.json"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image",target:"_blank",rel:"noopener noreferrer",children:"Metadata Files: opengraph-image and twitter-image"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/robots",target:"_blank",rel:"noopener noreferrer",children:"Metadata Files: robots.txt"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/sitemap",target:"_blank",rel:"noopener noreferrer",children:"Metadata Files: sitemap.xml"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/image-response",target:"_blank",rel:"noopener noreferrer",children:"Functions: ImageResponse"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/generate-image-metadata",target:"_blank",rel:"noopener noreferrer",children:"Functions: generateImageMetadata"})}),"\n"]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}let c=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["Next.js%20%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97%2F25.Metadata%20%E7%AF%87%20_%20%E5%9F%BA%E4%BA%8E%E6%96%87%E4%BB%B6.md"]={toc:[{text:"前言",id:"前言",depth:2},{text:"1. favicon、icon 和 apple-icon",id:"1-faviconicon-和-apple-icon",depth:2},{text:"1.1. 介绍",id:"11-介绍",depth:3},{text:"1.2. 使用静态文件",id:"12-使用静态文件",depth:3},{text:"1.2.1. 文件约定",id:"121-文件约定",depth:4},{text:"1.2.2. favicon",id:"122-favicon",depth:4},{text:"1.2.3. icon",id:"123-icon",depth:4},{text:"1.2.4. apple-icon",id:"124-apple-icon",depth:4},{text:"1.2.5. 行为",id:"125-行为",depth:4},{text:"1.3. 使用代码生成",id:"13-使用代码生成",depth:3},{text:"1.3.1. 介绍",id:"131-介绍",depth:4},{text:"1.3.2. 默认导出函数",id:"132-默认导出函数",depth:4},{text:"1.3.3. 图片元数据配置",id:"133-图片元数据配置",depth:4},{text:"1.3.4. 路由段配置",id:"134-路由段配置",depth:4},{text:"1.4. ImageResponse",id:"14-imageresponse",depth:3},{text:"2. opengraph-image 和 twitter-image",id:"2-opengraph-image-和-twitter-image",depth:2},{text:"2.1. 介绍",id:"21-介绍",depth:3},{text:"2.2. 静态文件",id:"22-静态文件",depth:3},{text:"2.2.1. opengraph-image",id:"221-opengraph-image",depth:4},{text:"2.2.2 twitter-image",id:"222-twitter-image",depth:4},{text:"2.2.3. opengraph-image.alt.txt",id:"223-opengraph-imagealttxt",depth:4},{text:"2.2.4. twitter-image.alt.txt",id:"224-twitter-imagealttxt",depth:4},{text:"2.3. 代码生成",id:"23-代码生成",depth:3},{text:"2.3.1 介绍",id:"231-介绍",depth:4},{text:"2.3.2. 图片元数据配置",id:"232-图片元数据配置",depth:4},{text:"2.3.3. 使用外部数据",id:"233-使用外部数据",depth:4},{text:"3. generateImageMetadata 生成多张图片",id:"3-generateimagemetadata-生成多张图片",depth:2},{text:"4. robots.txt",id:"4-robotstxt",depth:2},{text:"4.1. 介绍",id:"41-介绍",depth:3},{text:"4.2. 静态文件",id:"42-静态文件",depth:3},{text:"4.3. 代码生成",id:"43-代码生成",depth:3},{text:"5. sitemap.xml",id:"5-sitemapxml",depth:2},{text:"5.1. 介绍",id:"51-介绍",depth:3},{text:"5.2. 静态文件",id:"52-静态文件",depth:3},{text:"5.3. 代码生成",id:"53-代码生成",depth:3},{text:"6. manifest.json",id:"6-manifestjson",depth:2},{text:"6.1. 介绍",id:"61-介绍",depth:3},{text:"6.2. 静态文件",id:"62-静态文件",depth:3},{text:"6.3. 代码生成",id:"63-代码生成",depth:3},{text:"参考链接",id:"参考链接",depth:2}],title:"25.Metadata 篇 _ 基于文件",headingTitle:"25.Metadata 篇 _ 基于文件",frontmatter:{}}}}]);