"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["23593"],{517225:function(e,n,i){i.r(n),i.d(n,{default:()=>m});var r=i(552676),l=i(740453);let s=i.p+"static/image/301f671975f53b4d5d8690cd6e311bcc.c9efef7c.webp",a=i.p+"static/image/4de360552d6bbf363488d2f1321a9644.100b321b.webp",d=i.p+"static/image/4df1becf1f3edffedaf5448a5879c36e.24ca8649.webp",c=i.p+"static/image/790e261adbbc0fe51bf50d2155345147.5b0557e4.webp",h=i.p+"static/image/45c779d9c9b85497ea58c05e8b2cc404.49aca27a.webp",t=i.p+"static/image/5b76f43172ab9691bd381ffef3d79ef7.d23231ad.webp",p=i.p+"static/image/d5556c76672c557d02c7b4d18c5d7211.c81c64d9.webp",o=i.p+"static/image/0881844c98d5277867f8b3ec1e073c57.2987e2e3.webp";function x(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",strong:"strong",blockquote:"blockquote",h2:"h2",h3:"h3",pre:"pre",code:"code",img:"img"},(0,l.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"21后端-api-项目启动和运行注意事项",children:["21.后端 API 项目启动和运行注意事项",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#21后端-api-项目启动和运行注意事项",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"之前的几篇内容已经讲解了一些基础的知识点，在正式进入开发之前呢，我们先来体验一下这个开源的前后端分离 Vue3 企业级项目，本篇文章主要是讲一些注意事项，让大家可以顺利的运行源码并进行个性化修改。"}),"\n",(0,r.jsx)(n.p,{children:"牵涉到的项目模块如下："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"后端 API 项目"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.strong,{children:["vue3-admin 项目(详见",(0,r.jsx)(n.a,{href:"https://juejin.cn/book/6933939264455442444/section/6933954525510238223",target:"_blank",rel:"noopener noreferrer",children:"《Vue3 实战项目启动篇》"}),")"]})}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"一个 Spring Boot 后端项目和一个前端 Vue 项目，相关的基础环境也需要搭建好。"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["由于牵涉到的项目较多，所以这些知识点会在多篇文章中介绍，",(0,r.jsx)(n.strong,{children:"接下来的两篇文章主要是讲解一下项目的启动和需要特别注意的个性化配置，让大家可以快速上手使用 vue3-admin 实战项目。"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://backend-api-02.newbee.ltd/swagger-ui.html",target:"_blank",rel:"noopener noreferrer",children:"点击查看 API 在线接口文档"})}),"\n",(0,r.jsx)(n.p,{children:"课程所讲解的这个 Vue3 企业级项目已经于 2021 年 4 月正式开源到 GitHub 和 Gitee 两个平台，为了让大家更快的体验到咱们的实战项目，我安排在这一篇文章把最终的实战项目的使用和注意事项提前分享给大家，主要是为了给大家能够获得更好的学习体验，不用等到咱们全部看完这本小册才看了解到这个开源项目的使用和部署教程，大家可以在学习小册的同时也能够尽快的了解咱们的这个企业级的 Vue3 实战项目。"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"如果有其他部署或者使用问题，我也会继续对本文进行知识点的补充。"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"下载源码",children:["下载源码",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#下载源码",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"在后端 API 项目部署项目之前，首先我们需要把项目的源码下载到本地，在 GitHub 平台和国内的码云平台都创建了代码仓库，考虑到国内访问 GitHub 网站可能速度上有些慢，所以在国内的开源平台码云上也创建了一个代码仓库，两个仓库会保持同步更新，Github 和码云的地址分别为："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/newbee-ltd/newbee-mall-api",target:"_blank",rel:"noopener noreferrer",children:"newbee-mall-api in GitHub"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://gitee.com/newbee-ltd/newbee-mall-api",target:"_blank",rel:"noopener noreferrer",children:"newbee-mall-api in Gitee"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"可以直接点击链接到对应的仓库中查看源码及相关文件。"}),"\n",(0,r.jsxs)(n.h3,{id:"命令行下载",children:["命令行下载",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#命令行下载",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"本地安装了 Git 环境的话，可以直接在命令行中使用 git clone 命令把仓库中的文件全部下载到本地，以 newbee-mall-api 项目为例，执行的命令如下。"}),"\n",(0,r.jsx)(n.p,{children:"通过 GitHub 下载："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/newbee-ltd/newbee-mall-api.git\n"})}),"\n",(0,r.jsx)(n.p,{children:"通过 Gitee 下载："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone https://gitee.com/newbee-ltd/newbee-mall-api.git\n"})}),"\n",(0,r.jsx)(n.p,{children:"打开 cmd 命令行，之后切换到对应的目录，比如你想要下载到 D 盘的 java-dev 目录，那就先执行 cd 切换到该目录下，执行执行 clone 命令，过程如下："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:o,alt:""})}),"\n",(0,r.jsx)(n.p,{children:"之后就可以等待文件下载，全部下载完成后就能够在 java-dev 目录下看到咱们的项目源码了，如果使用 GitHub 的链接下载较慢的话，可以通过国内的码云链接执行 git clone 操作。"}),"\n",(0,r.jsxs)(n.h3,{id:"直接下载",children:["直接下载",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#直接下载",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"除了通过命令行下载之外，我们也可以选择更直接的方式，GitHub 和码云这两个开源平台也都提供了对应的下载功能，我们可以在仓库中直接点击对应的下载按钮来下载源码。"}),"\n",(0,r.jsx)(n.p,{children:"在 GitHub 网站上直接下载代码，过程如下："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:p,alt:"image-20210310175736773"})}),"\n",(0,r.jsx)(n.p,{children:'在代码仓库页面上有一个绿色的 "Clone or download" 按钮，点击该按钮，之后再点击 "Download Zip" 按钮就可以下载代码的压缩包文件，下载完成后解压就能够导入到 IDEA 或者 Eclipse 编辑其中进行开发或者修改。'}),"\n",(0,r.jsx)(n.p,{children:"在码云网站上直接下载代码，过程如下："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:t,alt:"image-20210310174626452"})}),"\n",(0,r.jsx)(n.p,{children:'在代码仓库页面上有一个 "克隆/下载" 按钮，点击该按钮之后再点击 "下载Zip" ，码云这里多了一步验证操作，输入正确的验证码就可以下载代码的压缩包文件，下载完成后解压就能够导入到 IDEA 或者 Eclipse 编辑器中进行开发或者修改。'}),"\n",(0,r.jsxs)(n.h2,{id:"目录结构讲解",children:["目录结构讲解",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#目录结构讲解",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"下载代码并解压之后，我们就可以在编辑器中打开项目了， 后端 API 项目是一个标准的 Maven 项目。"}),"\n",(0,r.jsx)(n.p,{children:"主体目录结构如下："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dictionary",children:"newbee-mall-api\n    ├── src/main/java\n         └── ltd.newbee.mall\n         		├── common // 存放相关的常量配置及枚举类\n         		├── config // 存放 web 配置类\n         		├── api // 存放控制类，包括所有的 API 处理类\n         		      	├── admin // 后台管理系统端 API\n         						└── mall // 商城端 API\n         		├── dao // 存放数据层接口\n         		├── entity // 存放实体类\n         		├── service // 存放业务层方法\n         		├── util // 存放工具类\n         		└── NewBeeMallAPIApplication // Spring Boot 项目主类\n    ├── src/main/resources\n         ├── mapper // 存放 MyBatis 的通用 Mapper文件\n         ├── application.properties // 项目配置文件\n         ├── newbee_mall_v2_schema.sql // 项目所需的 SQL 文件 \n         └── upload.zip // 商品图片\n    └── pom.xml // Maven 配置文件\n"})}),"\n",(0,r.jsx)(n.p,{children:"前后端分离开发模式中，后端开发者主要就是提供前端页面所需的接口，该项目提供了 Vue3 企业级实战项目所需要的全部接口，接口文档的生成是使用 Swagger，启动后大家也会看到所有的接口类。"}),"\n",(0,r.jsx)(n.p,{children:"除了 Spring Boot 项目的基础目录外，我还在 resources 目录中上传了 newbee_mall_v2_schema.sql 文件和 upload.zip 文件，这是项目启动时所需的两个文件，newbee_mall_v2_schema.sql 是 Vue3 企业级项目的 SQL 文件，包含了项目所需的所有表结构和初始化数据，upload.zip 文件则是商品图片文件，我在商品表中存储了数百条记录，主要是为了大家可以更好的学习和体验，这些数据的图片文件就是 upload.zip 这个压缩包，如果没有这个压缩包，你在启动项目后看到所有页面的商品图片都是 404，这并不是一个很好的学习体验，这两个文件的作用即是如此，后面我会继续介绍它们的使用和配置。"}),"\n",(0,r.jsxs)(n.h2,{id:"启动项目",children:["启动项目",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#启动项目",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"这一个小节我们来讲一下 API 项目的启动以及启动前的准备工作。"}),"\n",(0,r.jsxs)(n.h3,{id:"导入数据库",children:["导入数据库",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#导入数据库",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["打开 MySQL 管理软件，之后新建一个数据库，命名为 newbee_mall_db_v2，当然，也可以是其它名称，这里",(0,r.jsx)(n.strong,{children:"可以自行定义数据库名称"}),"。数据库创建完成后就可以将 newbee_mall_v2_schema.sql 文件导入到该数据库中，导入成功后可以看到数据库如下："]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:h,alt:""})}),"\n",(0,r.jsxs)(n.h3,{id:"修改数据库连接配置",children:["修改数据库连接配置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改数据库连接配置",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"导入成功后，我们进行第二步操作，打开 application.properties 配置文件，修改数据库连接的相关信息，默认的数据库配置如下："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"spring.datasource.url=jdbc:mysql://localhost:3306/newbee_mall_db_v2?useUnicode=true&serverTimezone=Asia/Shanghai&characterEncoding=utf8&autoReconnect=true&useSSL=false&allowMultiQueries=true\nspring.datasource.username=root\nspring.datasource.password=123456\n"})}),"\n",(0,r.jsx)(n.p,{children:"需要修改的主要是："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"数据库地址和数据库名称 localhost:3306/newbee_mall_db_v2"}),"\n",(0,r.jsx)(n.li,{children:"数据库登录账户名称 root"}),"\n",(0,r.jsx)(n.li,{children:"账户密码 123456"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"你需要根据你自己的数据库地址和账号信息进行修改，数据库名称默认为 newbee_mall_db_v2，如果你更改了名称你也需要将数据库连接中的数据库名称修改掉。application.properties 配置文件的其他配置项可以不进行修改，只有数据库连接的这三个配置项需要根据各人的配置不同而进行修改。"}),"\n",(0,r.jsxs)(n.h3,{id:"静态资源目录设置",children:["静态资源目录设置",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#静态资源目录设置",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"完成前面两个步骤其实就可以启动项目了，但是在启动项目之后，可能会出现图片无法显示的问题，这里就需要进行静态资源目录设置了，tb_newbee_mall_goods_info 是商品表，该表在前一步初始化时已经新增了数百条商品记录，这些记录中都有商品主图的列并且有值，如下图所示："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:c,alt:""})}),"\n",(0,r.jsxs)(n.p,{children:["所有的商品图片我也都上传了，就是 upload.zip 压缩包，解压后就能够看到这数百张商品图片文件，为了商品图片能够正确的显示，我们还需要进行两步操作，",(0,r.jsx)(n.strong,{children:"首先是解压 upload.zip 压缩包并将这些文件放到一个文件夹中"}),"，比如 D 盘下的 upload 文件夹下，或者 E 盘下的 mall/images 文件夹中，或者其他的文件夹中，根据个人习惯来放置这些图片文件即可。之后我们进行第二步操作，配置静态资源目录，这个配置项是在 ltd.newbee.mall.common 包的 Constants 类中，变量名称为 ",(0,r.jsx)(n.strong,{children:"FILE_UPLOAD_DIC"}),"，代码如下所示："]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:d,alt:""})}),"\n",(0,r.jsxs)(n.p,{children:["默认的配置为 ",(0,r.jsx)(n.code,{children:'"D:\\\\upload\\\\"'}),"，即 D 盘下的 upload 文件夹下，如果你将图片文件放到了 E 盘下的 mall/images 文件夹，则将该变量的值修改为 ",(0,r.jsx)(n.code,{children:'"E:\\\\mall\\\\images\\\\"'}),"，如果是其它文件夹也是对应的修改该变量值。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"一定要注意，路径最后有一个斜杠，已经有不少同学因为没注意最后的斜杠导致无法访问图片。"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:'以上都是 Windows 系统下的写法，如果是 Linux 系统则写法为 "/opt/newbee/upload/"，将 FILE_UPLOAD_DIC 变量的值修改为放置图片文件的目录路径即可。'}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"启动并查看接口文档",children:["启动并查看接口文档",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#启动并查看接口文档",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"在上面几个步骤做完之后我们就可以启动这个 API 项目了，过程如下："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:a,alt:"run"})}),"\n",(0,r.jsxs)(n.p,{children:["点击启动按钮，之后等待项目启动即可，文中的演示图我选择的是通过 IDEA 工具栏方式启动 Spring Boot 项目，你也可以通过其它方式来启动，这个知识点在《项目搭建及启动》章节已经讲解过。通过控制台可以看到项目在 4.6 秒钟就成功启动，监听的端口为 28019，","这个端口号可以通过修改 application.properties 中的 server.port 配置项来修改","。"]}),"\n",(0,r.jsxs)(n.p,{children:["之后我们在浏览器中输入 ",(0,r.jsx)(n.a,{href:"http://localhost:28019/swagger-ui.html",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:28019/swagger-ui.html"})," 就能够看到蜂商城的接口文档啦，恭喜你，启动成功！"]}),"\n",(0,r.jsx)(n.p,{children:"如果使用的Swagger版本是3.0.0，接口文档地址有所改变，如下所示："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://localhost:28019/swagger-ui/index.html",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:28019/swagger-ui/index.html"})}),"\n",(0,r.jsx)(n.p,{children:"这一点需要注意。"}),"\n",(0,r.jsx)(n.p,{children:"关于 Swagger 的相关知识点，可以在《Spring Boot 实践之整合 Swagger 生成接口文档》中学习。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)("img",{src:s,alt:"mall-api"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"如果你修改了启动端口号，访问地址也需要对应的修改。"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"注意事项及总结",children:["注意事项及总结",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项及总结",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"这篇文章的结尾我们来讲一下项目的注意事项，这些问题是我经常会被同学们问到的，这里做一个整理和总结。"}),"\n",(0,r.jsxs)(n.h3,{id:"项目地址",children:["项目地址",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#项目地址",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"商城 API 系统的访问地址如下，由于是提供接口供前端联调，所以这里我们只需要访问接口文档地址即可："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"BASE_URL"})," + /swagger-ui.html"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"其中 BASE_URL 为主机名+端口号"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"账号及密码",children:["账号及密码",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#账号及密码",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"账号和密码也是经常会被问到的，项目启动成功了，但是由于权限的问题无法完整的体验商城的所有功能，这就需要几个测试账号来解决啦。该项目也初始化了几条用户记录和管理员记录，数据分别存储在 tb_newbee_mall_admin_user 表中，你也可以自行添加和修改这些记录。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"后台管理系统管理员的测试账号及密码"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"账号：admin 密码：123456"}),"\n",(0,r.jsx)(n.li,{children:"账号：newbee-admin1 密码：123456"}),"\n",(0,r.jsx)(n.li,{children:"账号：newbee-admin2 密码：123456"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"表中的密码字段，存储的都是密码经过 MD5 加密后的字符串，如果你想要直接通过数据库来修改密码的话可以将密码进行 MD5 转换，之后将加密后的字符串放到数据表的密码这一列中。"}),"\n"]})]})}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}let m=j;j.__RSPRESS_PAGE_META={},j.__RSPRESS_PAGE_META["Vue3%20%E4%BC%81%E4%B8%9A%E7%BA%A7%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%2F21.%E5%90%8E%E7%AB%AF%20API%20%E9%A1%B9%E7%9B%AE%E5%90%AF%E5%8A%A8%E5%92%8C%E8%BF%90%E8%A1%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9.md"]={toc:[{text:"下载源码",id:"下载源码",depth:2},{text:"命令行下载",id:"命令行下载",depth:3},{text:"直接下载",id:"直接下载",depth:3},{text:"目录结构讲解",id:"目录结构讲解",depth:2},{text:"启动项目",id:"启动项目",depth:2},{text:"导入数据库",id:"导入数据库",depth:3},{text:"修改数据库连接配置",id:"修改数据库连接配置",depth:3},{text:"静态资源目录设置",id:"静态资源目录设置",depth:3},{text:"启动并查看接口文档",id:"启动并查看接口文档",depth:3},{text:"注意事项及总结",id:"注意事项及总结",depth:2},{text:"项目地址",id:"项目地址",depth:3},{text:"账号及密码",id:"账号及密码",depth:3}],title:"21.后端 API 项目启动和运行注意事项",headingTitle:"21.后端 API 项目启动和运行注意事项",frontmatter:{}}}}]);