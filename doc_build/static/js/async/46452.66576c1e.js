"use strict";(self.webpackChunkjue_jin_book_press=self.webpackChunkjue_jin_book_press||[]).push([["46452"],{941119:function(n,e,a){a.r(e),a.d(e,{default:()=>l});var r=a(552676),i=a(740453);let s=a.p+"static/image/d7eb6da7259ae418559bca15f140e4a3.d02155c8.png",t=a.p+"static/image/e99a49f2bb0f18f0a7536a49e5e6330c.1348839b.png",c=a.p+"static/image/5a785329941d12bbc4752c6ca77a2ee4.2b064cf2.png";function d(n){let e=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",img:"img",h3:"h3",pre:"pre",code:"code"},(0,i.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"8-animejs-svg-路径动画实战",children:["8 Anime.js SVG 路径动画实战",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#8-animejs-svg-路径动画实战",children:"#"})]}),"\n",(0,r.jsxs)(e.h2,{id:"anime-svg-路径跟随动画",children:["Anime SVG 路径跟随动画",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#anime-svg-路径跟随动画",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"这章节我们来学习下 Anime 中如何来实现一个路径跟随动画的。所谓路径动画，其实就是指定义好的运动对象沿着特定的路径在运动的动画效果，比如下面这样的效果："}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)("img",{src:c,alt:""})}),"\n",(0,r.jsx)(e.p,{children:"实际在开发动效时，路径动画也应用的非常多。虽然，CSS 的最新标准已经有提案支持路径运动，但目前来看，正式实施估计还要等很久的，而 Anime 提供的解决方案无疑是非常高效的一种实现路径动画的解决方案。"}),"\n",(0,r.jsx)(e.p,{children:"下面我们就通过一个简单的实例来了解下，使用 Anime 如何来实现这样一个路径跟随动画，要实现的效果如下所示："}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)("img",{src:s,alt:"图片"})}),"\n",(0,r.jsxs)(e.h3,{id:"准备工作",children:["准备工作",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#准备工作",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"要实现这样一个效果，我们首先要准备图中所示的这样一个曲线路径，这个简单，我们只需要在 AI 中用钢笔工具勾一条就可以了："}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)("img",{src:t,alt:"图片"})}),"\n",(0,r.jsx)(e.p,{children:"设计好路径后，我们把文件导出为 SVG 格式的图片，就可以得到这条路径的数据："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'<path  class="st0" d="M11.6,246.9c0,0,143.1-274.1,267.8-137.9s124.7,136.2,124.7,136.2L11.6,246.9z"/>\n'})}),"\n",(0,r.jsx)(e.p,{children:"得到路径数据后接下来的事情就好办了。"}),"\n",(0,r.jsxs)(e.h3,{id:"编码实现",children:["编码实现",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#编码实现",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"先准备基本的 HTML 结构："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'<div id="motionPath">\n\xa0 <div class="motion-path">\n\xa0 \xa0 <div class="square">\n    </div> <svg width="600" height="400" viewBox="0 0 600 400">\n\xa0 \xa0 \xa0 \xa0 <path id="curpath" fill="none" stroke="currentColor" stroke-width="1" d="M11.6,246.9c0,0,143.1-274.1,267.8-137.9s124.7,136.2,124.7,136.2L11.6,246.9z"/>\n\xa0 \xa0 \xa0 </svg>\xa0\n\xa0 </div>\n</div>\n\n'})}),"\n",(0,r.jsx)(e.p,{children:"然后是样式："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:".motion-path {\n\xa0 width: 600px;\n\xa0 height: 400px;\n\xa0 position: relative;\n}\n.square {\n\xa0 width:30px;\n\xa0 height: 30px;\n\xa0 background-color: #000;\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"在 Anime 中，要实现一个路径跟随动画，需要用到："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"anime.path(pathEl)\n"})}),"\n",(0,r.jsx)(e.p,{children:"这个方法是专门用来实现路径跟随动画的，它接受 CSS 选择器或者是 DOM 元素，而且它会返回路径上每个点在 X 轴和 Y 轴上的坐标："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"var path = anime.path('path');\n\xa0// 或者\n \nvar path = anime.path('.path');\n"})}),"\n",(0,r.jsx)(e.p,{children:"使用了这个方法后，路径元素上每个点在 X 轴和 Y 轴上的坐标都会存储在定义好的 path 这个变量中，那我们要使元素沿着这条曲线运动，就很简单了，只需要不停的使用 transform 中的 translate 来改变元素的 X 轴和 Y 轴的坐标就可以了。"}),"\n",(0,r.jsx)(e.p,{children:"结合我们前面学到的 Anime 的知识，代码如下："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"var path = anime.path('path');\n\nanime({\n\xa0 targets: '.square',\n\xa0 translateX: path('x'),\n\xa0 translateY: path('y'),\n\xa0 rotate: path('angle'),\n\xa0 duration: 3000,\n\xa0 loop: true,\n\xa0 easing: 'linear'\n});\n"})}),"\n",(0,r.jsx)(e.p,{children:"从上面的代码中我们可以看到这3行代码："}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"  translateX: path('x'),\n  translateY: path('y'),\n  rotate: path('angle'),\n"})}),"\n",(0,r.jsx)(e.p,{children:"可以发现，通过得到路径元素每个点的坐标，然后通过 translateX 和 translateY 来改变元素的坐标值，从而使元素沿着路径的轨迹移动，实现路径跟随动画效果。"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)("img",{src:s,alt:"图片"})}),"\n",(0,r.jsx)(e.p,{children:"我们还可以看到在代码中有一个rotate的属性，它是用来实时返回当前在 SVG 中 path 元素的一个角度，这样当元素实时移动的时候有一个角度的倾斜，动画才更加的自然。"}),"\n",(0,r.jsx)(e.p,{children:"我们来看看，如果没有这个 rotate 的属性会怎么样？"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),"\n",(0,r.jsx)(e.p,{children:"可以看到没有设置 rotate 属性的时候，元素运动起来非常的不自然生硬。"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://codepen.io/janily/pen/roNebb",target:"_blank",rel:"noopener noreferrer",children:"代码演示地址"})}),"\n",(0,r.jsx)(e.p,{children:"这章节简介绍了使用 Anime 来实现路径跟随动画效果，下一章节来学习下使用 Anime 在蒙版动画中的运用。"})]})}function h(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}let l=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["SVG%20%E5%8A%A8%E7%94%BB%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98%E6%89%8B%E5%86%8C%2F8%20Anime.js%20SVG%20%E8%B7%AF%E5%BE%84%E5%8A%A8%E7%94%BB%E5%AE%9E%E6%88%98.md"]={toc:[{text:"Anime SVG 路径跟随动画",id:"anime-svg-路径跟随动画",depth:2},{text:"准备工作",id:"准备工作",depth:3},{text:"编码实现",id:"编码实现",depth:3}],title:"8 Anime.js SVG 路径动画实战",headingTitle:"8 Anime.js SVG 路径动画实战",frontmatter:{}}}}]);